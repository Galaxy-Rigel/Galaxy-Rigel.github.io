<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Git 一篇就够了 | 山水庄园</title><meta name="keywords" content="git"><meta name="author" content="Rigel"><meta name="copyright" content="Rigel"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、Git基本概念1. Git 历史Git 是最流行的分布式版本控制系统（Distributed Version Control System，简称 DVCS）。它由 Linus Torvalds 创建，当时非常需要一个快速、高效和大规模分布式的源代码管理系统，用于管理 Linux 源代码。 由于 Linus 对几乎所有现有的源代码管理系统抱有强烈的反感，因此他决定编写自己的源代码管理系列。">
<meta property="og:type" content="article">
<meta property="og:title" content="Git 一篇就够了">
<meta property="og:url" content="http://www.lym5460.com/post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/index.html">
<meta property="og:site_name" content="山水庄园">
<meta property="og:description" content="一、Git基本概念1. Git 历史Git 是最流行的分布式版本控制系统（Distributed Version Control System，简称 DVCS）。它由 Linus Torvalds 创建，当时非常需要一个快速、高效和大规模分布式的源代码管理系统，用于管理 Linux 源代码。 由于 Linus 对几乎所有现有的源代码管理系统抱有强烈的反感，因此他决定编写自己的源代码管理系列。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.lym5460.com/img/cover6.jpg">
<meta property="article:published_time" content="2022-07-12T06:12:43.000Z">
<meta property="article:modified_time" content="2022-07-12T06:12:43.000Z">
<meta property="article:author" content="Rigel">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.lym5460.com/img/cover6.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.lym5460.com/post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Git 一篇就够了',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-07-12 14:12:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">67</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 随心</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/cover6.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">山水庄园</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 随心</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Git 一篇就够了</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-12T06:12:43.000Z" title="发表于 2022-07-12 14:12:43">2022-07-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-12T06:12:43.000Z" title="更新于 2022-07-12 14:12:43">2022-07-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/git/">git</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Git 一篇就够了"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e71a44952962454383ff57a72b2bf2d4~tplv-k3u1fbpfcp-zoom-crop-mark:3024:3024:3024:1702.awebp" alt="学习 Git，看这一篇就够了！"></p>
<hr>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a10f8fbb523497b8015d5b1e3264eb6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h1 id="一、Git基本概念"><a href="#一、Git基本概念" class="headerlink" title="一、Git基本概念"></a>一、Git基本概念</h1><h3 id="1-Git-历史"><a href="#1-Git-历史" class="headerlink" title="1. Git 历史"></a>1. Git 历史</h3><p>Git 是最流行的分布式版本控制系统（Distributed Version Control System，简称 DVCS）。它由 Linus Torvalds 创建，当时非常需要一个快速、高效和大规模分布式的源代码管理系统，用于管理 Linux 源代码。</p>
<p>由于 Linus 对几乎所有现有的源代码管理系统抱有强烈的反感，因此他决定编写自己的源代码管理系列。2005 年 4 月，Git 就诞生了。到了 2005 年 7 月，维护工作就交给了 Junio Hamano，自此他就一直在维护这个项目。</p>
<p>虽然最初只用于 Linux 内核，但 Git 项目迅速传播，并很快被用于管理许多其他 Linux 项目。现在，几乎所有的软件开发，尤其是在开源世界中，都是通过 Git 进行的。</p>
<h3 id="2-版本控制系统"><a href="#2-版本控制系统" class="headerlink" title="2. 版本控制系统"></a>2. 版本控制系统</h3><p>版本控制是指对软件开发过程中各种程序代码、配置文件及说明文档等文件变更的管理，是软件配置管理的核心思想之一。版本控制技术是团队协作开发的桥梁，助力于多人协作同步进行大型项目开发。软件版本控制系统的核心任务就是查阅项目历史操作记录、实现协同开发。</p>
<p>常见版本控制主要有两种：<strong>集中式版本控制</strong>和<strong>分布式版本控制</strong>。</p>
<h4 id="（1）集中式版本控制系统"><a href="#（1）集中式版本控制系统" class="headerlink" title="（1）集中式版本控制系统"></a>（1）集中式版本控制系统</h4><p>集中式版本控制系统，版本库是集中存放在中央服务器的。工作时，每个人都要先从中央服务器获取最新的版本。完成之后，再把自己添加/修改的内容提交到中央服务器。所有文件和历史数据都存储在中央服务器上。SVN 是最流行的集中式版本控制系统之一。</p>
<p>集中式版本控制系统的缺点就是必须联网才能使用，如果使用局域网还好，速度会比较快。而如果是使用互联网，网速慢的话，就可能需要等待很长时间。除此之外，如果中央服务器出现故障，那么版本控制将不可用。如果中心数据库损坏，若数据未备份，数据就会丢失。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35f1bae8099a4416a94eea9d71fa91f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h4 id="（2）分布式版本控制系统"><a href="#（2）分布式版本控制系统" class="headerlink" title="（2）分布式版本控制系统"></a>（2）分布式版本控制系统</h4><p>分布式版本控制系统，每台终端都可以保存版本库，版本库可以不同，可以对每个版本库进行修改，修改完成后可以集中进行更新。虽然它没有中心服务器，但可以有一个备份服务器，它的功能有点类似于 SVN 的中央服务器，但它的作用仅是方便交换修改，而不像 SVN 那样还要负责源代码的管理。Git 是最流行的分布式版本控制系统之一。</p>
<p>和集中式版本控制系统相比，分布式版本控制系统的安全性要高很多，因为每个人电脑里都有完整的版本库，某一个人的电脑损坏不会影响到协作的其他人。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de496c692a8b42f197485eb2f222f085~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h4 id="（3）SVN-vs-Git"><a href="#（3）SVN-vs-Git" class="headerlink" title="（3）SVN vs Git"></a>（3）SVN vs Git</h4><p>Git 相较于 SVN：</p>
<ul>
<li><strong>提交速度更快：</strong> 因为在 SVN 中需要更频繁地提交到中央存储库，所以网络流量会减慢每个人的速度。而使用 Git，主要在本地存储库上工作，只需每隔一段时间才提交到中央存储库。</li>
<li><strong>没有单点故障：</strong> 使用 SVN，如果中央存储库出现故障，则在修复存储库之前，其他开发人员无法提交他们的代码。使用 Git，每个开发人员都有自己的存储库，因此中央存储库是否损坏并不重要。开发人员可以继续在本地提交代码，直到中央存储库被修复，然后就可以推送他们的更改；</li>
<li><strong>可以离线使用：</strong> 与 SVN 不同，Git 可以离线工作，即使网络失去连接，也可以继续工作而不会丢失功能。</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bae15963b57d4af4ae4896714f61ac60~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h3 id="3-Git-安装"><a href="#3-Git-安装" class="headerlink" title="3. Git 安装"></a>3. Git 安装</h3><p>在Git官网下载、安装即可：<a href="https://link.juejin.cn/?target=https://git-scm.com/download">git-scm.com/download</a></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66f0c2ab087041059c209011158dc7cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<p>安装完成之后，可以使用以下命令来查看 Git 是否安装成功：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果安装成功，终端会打印安装的 Git 的版本：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a70b2b9b6aa4c2990522a64e3908c52~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h3 id="4-Git-初始化"><a href="#4-Git-初始化" class="headerlink" title="4. Git 初始化"></a>4. Git 初始化</h3><p>要给项目初始化一个Git仓库，可以在终端中打开项目目录，执行以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>初始化之后，就会创建一个名为<code>.git</code>的新子文件夹，其中包含 Git 将用于跟踪项目更改的多个文件和更多子目录：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67be66dfebe5452e938c6177591ff653~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>在使用 Git 进行代码管理时，不希望一些文件出现在跟踪列表中，比如<code>node_modules</code>文件。这种情况下，可以在项目的根目录中创建一个名为.gitignore的文件，在该文件中列出要忽略的文件和文件夹，来看一个示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 所有以.md结尾的文件</span></span><br><span class="line">*.md  </span><br><span class="line"></span><br><span class="line"><span class="comment"># lib.a不能被忽略</span></span><br><span class="line">!lib.a</span><br><span class="line"></span><br><span class="line"><span class="comment"># node_modules和.vscode文件被忽略</span></span><br><span class="line">node_modules</span><br><span class="line">.vscode</span><br><span class="line"></span><br><span class="line"><span class="comment"># build目录下的文件被忽略</span></span><br><span class="line">build/</span><br><span class="line"></span><br><span class="line"><span class="comment"># doc目录下的.txt文件被忽略</span></span><br><span class="line">doc/*.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># doc目录下多层目录的所有以.pdf结尾的文件被忽略</span></span><br><span class="line">doc/**/*.pdf</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>注意：以 # 符号开头的行是注释。</p>
<p>我们可以在本地克隆Git存储库上的代码，首先要找到Git存储库上的HTTPS或SSH的地址，如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c2f9df1dc4894165abde2018fbb3b779~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>然后使用以下命令将远程仓库克隆到本地：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/facebook/react.git</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="5-Git-结构和状态"><a href="#5-Git-结构和状态" class="headerlink" title="5. Git 结构和状态"></a>5. Git 结构和状态</h3><p>从Git的角度来看，可以在三个区域进行文件更改：工作区，暂存区和存储库。</p>
<ul>
<li><strong>工作区：</strong> 本地看到的工作目录；</li>
<li><strong>暂存区：</strong> 一般存放在 <code>.git</code> 目录下的 index 文件（.git/index）中，所以暂存区有时也叫作索引（index）。暂存区是一个临时保存修改文件的地方；</li>
<li><strong>版本库：</strong> 工作区有一个隐藏目录 <code>.git</code>，这个不算工作区，而是 Git 的版本库，版本库中存储了很多配置信息、日志信息和文件版本信息等。</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/99c88f4aef734e5a8d0dbb319e44d38c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>Git 工作目录下的文件存在两种状态：</p>
<ul>
<li>untracked：未跟踪，未被纳入版本控制，即该文件没有被Git版本管理；</li>
<li>tracked：已跟踪，被纳入版本控制，即该文件已被Git版本管理。</li>
</ul>
<p>其中<strong>已跟踪状态</strong>可以细分为以下三种状态：</p>
<ul>
<li>Unmodified：未修改状态</li>
<li>Modified：已修改状态</li>
<li>Staged：已暂存状态</li>
</ul>
<p>可以通过运行以下命令来检查当前分支的状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>显示结果如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/09fbd280c6be4e1c95af04fb94307ee9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>此命令不会更改或更新任何内容。它会打印出哪些文件被修改、暂存或未跟踪。未跟踪的文件是尚未添加到 git 索引的文件，而自上次提交以来已更改的文件将被视为已被 git 修改。</p>
<h2 id="二、Git-入门"><a href="#二、Git-入门" class="headerlink" title="二、Git 入门"></a>二、Git 入门</h2><h3 id="1-全局配置"><a href="#1-全局配置" class="headerlink" title="1. 全局配置"></a>1. 全局配置</h3><p>当安装Git后首先要做的就是配置所有本地存储库中使用的用户信息。每次Git提交都会使用该用户信息。</p>
<p>config 命令适用于不同的级别：</p>
<ul>
<li><strong>本地级别：</strong> 所有配置都仅限于项目目录。默认情况下， 如果未通过任何配置, 则git config将在本地级别写入；</li>
<li><strong>全局级别：</strong> 此配置特定于操作系统上的用户，配置值位于用户的主目录中；</li>
<li><strong>系统级别：</strong> 这些配置放在系统的根路径下，它跟踪操作系统上的所有用户和所有存储库。</li>
</ul>
<p>下面的配置均为写入系统级别：</p>
<h4 id="（1）设置用户名"><a href="#（1）设置用户名" class="headerlink" title="（1）设置用户名"></a>（1）设置用户名</h4><p>可以使用以下命令设置使用 Git 时的用户名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;name&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用以下命令查看设置的<code>user.name</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（2）设置邮箱"><a href="#（2）设置邮箱" class="headerlink" title="（2）设置邮箱"></a>（2）设置邮箱</h4><p>可以使用以下命令设置使用 Git 时的邮箱：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;email&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用以下命令查看设置的 email：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.email</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（3）设置命令颜色"><a href="#（3）设置命令颜色" class="headerlink" title="（3）设置命令颜色"></a>（3）设置命令颜色</h4><p>除了上述两个基本的设置之外，还可以设置命令的颜色，以使输出具有更高的可读性：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> git config --global color.ui auto</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（4）查看所有配置"><a href="#（4）查看所有配置" class="headerlink" title="（4）查看所有配置"></a>（4）查看所有配置</h4><p>通过上面的命令设置的信息会保存在本地的<code>.gitconfig</code>文件中。可以使用以下命令查看所有配置信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果在全局输入这个命令，就会显示全局的配置：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86cb98f4a4b74bc28700018cf8f43342~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>如果在使用 Git 的项目中输入该命令，除了会显示全局的配置之外，还会显式本地仓库的一些配置信息，如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c289ca28b5b4944bcdcc31ba10dd020~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（5）设置别名"><a href="#（5）设置别名" class="headerlink" title="（5）设置别名"></a>（5）设置别名</h4><p>git config 命令为我们提供了一种创建别名的方法，这种别名通常用于缩短现有的命令或者创建自定义命令。来看一个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.cm <span class="string">&quot;commit -m&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这里为<code>commit -m</code>创建一个别名 <code>cm</code>，这样在提交暂存区文件时，只需要输入以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cm &lt;message&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="2-分支操作"><a href="#2-分支操作" class="headerlink" title="2. 分支操作"></a>2. 分支操作</h3><p>分支是源代码控制的核心概念，它允许将工作分离到不同的分支中，这样就可以自由地处理源代码，而不会影响其他任何人的工作或主分支中的代码。下面来看一些常见的分支操作。</p>
<h4 id="（1）查看分支"><a href="#（1）查看分支" class="headerlink" title="（1）查看分支"></a>（1）查看分支</h4><p>可以使用以下命令来查看当然所在的分支以及该项目所有的分支情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>该命令可以列出项目所有的<strong>本地分支</strong>，显示绿色的分支就是当前分支：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fad456dfdb24e25b27b78ce8ac9cd7e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以使用以下命令来列出所有的远程分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -r</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/377a399ab61d4153ab61c0adb602c01a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以使用以下命令来查看所有的本地分支和远程分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4070a7c5af9049228f2411ae37343650~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（2）创建分支"><a href="#（2）创建分支" class="headerlink" title="（2）创建分支"></a>（2）创建分支</h4><p>我们在计算机上只能访问本地分支，在将分支推送到远程仓库之前，需要先创建一个本地分支。</p>
<p>可以使用以下命令来创建分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>加上<code>-b</code>就可以在创建新的分支之后，直接切换到新创建的分支上：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果想将新建的本地分支推送到远程仓库，以在远程仓库添加这个分支。可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin &lt;branch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（3）删除分支"><a href="#（3）删除分支" class="headerlink" title="（3）删除分支"></a>（3）删除分支</h4><p>可以使用以下命令来<strong>删除本地分支</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>需要注意，在删除分支之前，要先切换到其他分支，否则就会报错：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c646683a4a540efa11fecc13c6b69b8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>切换到其他分支再删除即可：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/864f5fbac63b4648a07275e44d6c73e6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>有时 Git 会拒绝删除本地分支，因为要删的分支可能有未提交的代码。这是为了保护代码以避免意外丢失数据。可以使用以下命令来<strong>强制删除本地分支</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -D &lt;branch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样就删除成功了：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/317c0759f61c4eb1949ef408e7eae5c1~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>当然，我们也可以<strong>删除远程仓库分支</strong>，执行以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete &lt;name&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（4）合并分支"><a href="#（4）合并分支" class="headerlink" title="（4）合并分支"></a>（4）合并分支</h4><p>可以使用以下命令将其他分支的代码合并到当前分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git merge &lt;branch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果想将A分支合并到B分支，就要先切换到B分支，然后执行命令：<code>git merge A</code>。</p>
<h4 id="（5）重命名分支"><a href="#（5）重命名分支" class="headerlink" title="（5）重命名分支"></a>（5）重命名分支</h4><p>可以使用以下命令来将分支重命名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -m &lt;oldname&gt; &lt;newname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果<code>newname</code>名字分支已经存在，则需要使用<code>-M</code>来强制重命名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -M &lt;oldname&gt; &lt;newname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-基础操作"><a href="#3-基础操作" class="headerlink" title="3. 基础操作"></a>3. 基础操作</h3><p>Git 数据工作流程如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d36c5cd6eaf843a3a53377753c78e2a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（1）暂存文件"><a href="#（1）暂存文件" class="headerlink" title="（1）暂存文件"></a>（1）暂存文件</h4><p>可以使用以下命令来暂存已修改的文件，命令最后需要指定要暂存的文件名称：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;filename&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果想要将所有未跟踪和修改的文件添加到暂存区，可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>此时分支的状态如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fac5f0610fe84af8b61983837be1a8ea~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（2）提交暂存"><a href="#（2）提交暂存" class="headerlink" title="（2）提交暂存"></a>（2）提交暂存</h4><p>可以使用以下命令将暂存区的文件修改提交到本地仓库，</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;meaasge&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>其中<code>-m</code>参数表示<code>message</code>日志信息，参数后面要加一个日志信息，用双引号括起来。</p>
<p>此时分支的状态如下： <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3bcf8d55444f49609df0ab618a64400d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"> 如果上次提交暂存的<code>messge</code>写错了怎么办呢？可以使用使用以下命令来更新提交，而不需要撤销并重新提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend -m &lt;message&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果有一个新的文件修改，也想提交到上一个commit中，可以使用以下命令来保持相同的提交信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit --amend --no-edit</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（3）存储更改"><a href="#（3）存储更改" class="headerlink" title="（3）存储更改"></a>（3）存储更改</h4><p>假如我们正在开发迭代功能，但是还没开发完。这时有一个紧急的bug需要修复上线。可能就需要切换到一个hotfix分支去修复bug。这时对于开发了一部分的功能创建提交是没有逻辑意义的。可以使用以下任一命令来存储修改的内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br><span class="line">git stash push</span><br><span class="line">git stash push -m <span class="string">&quot;&lt;stash message&gt;&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>该命令回保存所有未提交的更改并恢复到上次提交时存储库的状态。</p>
<p>当想再次继续开发此功能时，就可以使用以下命令检查所有存储：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这时终端中就会显示带有时间戳的所有已经暂存的列表。可以使用以下任一命令来取回所有的更改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash apply</span><br><span class="line">git stash pop</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>apply 和 pop 之间的区别在于，pop 应用了 stash 中的更改并将其也从 stash 中删除，但 apply 即使在应用后仍将更改保留在 stash 中。</p>
<p>可以使用以下任一命令应用存储列表中的第 N 个存储：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash apply stash@&#123;N&#125;</span><br><span class="line">git stash apply &lt;n&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>整个过程的输出如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f5dce784f14b494189ec74ec14a36b4e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（4）合并指定提交"><a href="#（4）合并指定提交" class="headerlink" title="（4）合并指定提交"></a>（4）合并指定提交</h4><p>在不同分支之间进行代码合并时，通常会有两种情况：一种情况是需要另一个分支的所有代码变动，那么就可以直接合并（git merge），另一种情况是只需要部分代码的变动（某几次提交），这时就可以使用以下命令来合并指定的提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick &lt;commit <span class="built_in">hash</span>&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>建议添加 <code>-x</code> 标志，因为它会生成标准化的提交消息，通知用户它是从哪里pick出来的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick -x &lt;commit <span class="built_in">hash</span>&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>那么这个<code>commit hash</code>是从哪里来的呢？可以在需要被合并的分支上执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这时终端就会显示出所有的提交信息：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5af0e48387e24ef5843da2394c5c9163~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>这里黄色文字中<code>commit</code>后面的部分就是<code>commit hash</code>，复制即可。</p>
<h4 id="（5）检查提交"><a href="#（5）检查提交" class="headerlink" title="（5）检查提交"></a>（5）检查提交</h4><p>Git允许我们在本地检查特定的提交。输入以下命令就可以查看有关当前提交的详细信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>输出的结构如下，可以看到，它显示出了上次提交的commit id、作者信息（邮箱和姓名）、提交日期、commit message、代码diff等：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/939d9db4d91140d1b6eb7e1dd45e6476~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>还可以使用<code>HEAD~n</code>语法或提交哈希来检查过去的提交。使用以下命令就可以获取往前数的第三次提交的详细信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD~3</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>除此之外，还可以添加一个<code>--oneline</code>标志，以简化输出信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show --oneline</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样提交信息就简洁了很多：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9447a1fada5542859855606e6eeba6b2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（6）查看贡献者"><a href="#（6）查看贡献者" class="headerlink" title="（6）查看贡献者"></a>（6）查看贡献者</h4><p>可以使用以下命令来返回每个贡献者的commit次数以及每次commit的commit message：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git shortlog</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>其可以添加两个参数：</p>
<ul>
<li>s：省略每次 commit 的注释，仅仅返回一个简单的统计。</li>
<li>n：按照 commit 数量从多到少的顺利对用户进行排序。</li>
</ul>
<p>加上这两个参数之后就可以看到每个用户中的提交次数以及排名情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git shortlog -sn</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样就会显示出该项目所有贡献者的commit次数，从上到下依次减小：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f72c942ecf6841808bafea9b535301e7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>除此之外，还可以添加一个<code>--no-merges</code>标志，以忽略合并提交的次数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> git shortlog -sn --no-merges</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="4-远程操作"><a href="#4-远程操作" class="headerlink" title="4. 远程操作"></a>4. 远程操作</h3><h4 id="（1）查看远程仓库"><a href="#（1）查看远程仓库" class="headerlink" title="（1）查看远程仓库"></a>（1）查看远程仓库</h4><p>可以使用以下命令来查看远程仓库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>该命令会列出指定的每一个远程服务器的简写。 如果已经克隆了远程仓库，那么至少应该能看到 origin ，这是 Git 克隆的仓库服务器的默认名字：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4221bca2640943a59363d1a2fbcf3c73~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以执行以下命令来获取远程仓库的地址：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>其中<code>fetch</code>是获取，<code>push</code>是推送：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb0213147d02414db4d697f62f54dfab~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以使用以下命令来查看更加详细的信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote show origin</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>输出结果如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/99795be2e4a64a8499d2fde9e2a3adff~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（2）添加远程仓库"><a href="#（2）添加远程仓库" class="headerlink" title="（2）添加远程仓库"></a>（2）添加远程仓库</h4><p>可以使用以下命令来将本地项目链接到远程仓库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;remote_name&gt; &lt;remote_url&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>其中：</p>
<ul>
<li><code>remote_name</code>：仓库名称（默认是origin）</li>
<li><code>remote_url</code>：远程仓库地址</li>
</ul>
<p>该命令允许 Git 跟踪远程存储库并将本地存储库连接到远程仓库。</p>
<h4 id="（3）移除远程仓库"><a href="#（3）移除远程仓库" class="headerlink" title="（3）移除远程仓库"></a>（3）移除远程仓库</h4><p>可以使用命令来移除远程仓库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>需要注意，该命令只是从本地移除远程仓库的记录（也就是解除本地仓库和远程仓库的关系），并不会真正影响到远程仓库。</p>
<h4 id="（4）从远程仓库抓取与拉取"><a href="#（4）从远程仓库抓取与拉取" class="headerlink" title="（4）从远程仓库抓取与拉取"></a>（4）从远程仓库抓取与拉取</h4><p>可以使用以下命令来从远程仓库获取最新版本到本地仓库，不会自动merge（合并数据）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>由于该命令不会自定合并数据，所以该命令执行完后需要手动执行 git merge 远程分支到所在的分支。</p>
<p>可以使用以下命令来将<strong>远程指定分支</strong>拉取到<strong>本地指定分支上</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull origin &lt;远程分支名&gt;:&lt;本地分支名&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>使用以下命令来将<strong>远程指定分支</strong>拉取到<strong>本地当前分支上</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull origin &lt;远程分支名&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>使用以下命令开将<strong>与本地当前分支同名的远程分支</strong>拉取到<strong>本地当前分支上：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>注意：如果当前本地仓库不是从远程仓库克隆，而是本地创建的仓库，并且仓库中存在文件，此时再从远程仓库拉取文件的时候会报错（<code>fatal: refusing to merge unrelated histories</code> ），解决此问题可以在<code>git pull</code>命令后加入参数<code>--allow-unrelated-histories</code>，即：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull --allow-unrelated-histories</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（5）推送到远程仓库"><a href="#（5）推送到远程仓库" class="headerlink" title="（5）推送到远程仓库"></a>（5）推送到远程仓库</h4><p>可以使用以下命令将<strong>本地指定分支</strong>推送到<strong>远程指定分支上</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;本地分支名&gt;:&lt;远程分支名&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用以下命令将<strong>本地指定分支</strong>推送到<strong>与本地当前分支同名的远程分支上：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;本地分支名&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>使用以下命令将<strong>本地当前分支</strong>推送到<strong>与本地当前分支同名的远程分支上</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用以下命令来将本地分支与远程同名分支相关联：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin &lt;本地分支名&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>由于远程库是空的，第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令为git push。</p>
<h2 id="三、Git-进阶"><a href="#三、Git-进阶" class="headerlink" title="三、Git 进阶"></a>三、Git 进阶</h2><h3 id="1-修改操作"><a href="#1-修改操作" class="headerlink" title="1. 修改操作"></a>1. 修改操作</h3><p>如果只是简单地从工作目录中手工删除文件，运行 <code>git status</code> 时就会在 Changes not staged for commit 的提示</p>
<h4 id="（1）删除文件"><a href="#（1）删除文件" class="headerlink" title="（1）删除文件"></a>（1）删除文件</h4><p>可以使用以下命令将文件从暂存区和工作区中删除：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm &lt;filename&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 <code>-f</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm -f &lt;filename&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果想把文件从暂存区域移除，但仍然希望保留在当前工作目录中，换句话说，仅是从跟踪清单中删除，使用 <code>--cached</code> 选项即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;filename&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用以下命令进行递归删除，即如果后面跟的是一个目录做为参数，则会递归删除整个目录中的所有子目录和文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm –r * </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>进入某个目录中，执行此语句，就会删除该目录下的所有文件和子目录。</p>
<h4 id="（2）取消修改"><a href="#（2）取消修改" class="headerlink" title="（2）取消修改"></a>（2）取消修改</h4><p>取消修改有三种情况：</p>
<p><strong>1）未使用 git add 将修改文件添加到暂存区</strong> 这种情况下，可以使用以下命令来撤销所有还没有加入到缓存区的修改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;filename&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>需要注意，此文件不会删除新建的文件，因为新建的文件还没加入到Git管理系统重，所以对Git来说事未知的，需要手动删除。</p>
<p><strong>2）已使用 git add 将修改文件添加到暂存区，未使用 git commit 提交缓存</strong> 这种情况下，相当于撤销了 git add 命令对于文件修改的缓存：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;filename&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>上面的命令可以撤销指定文件的缓存，要想放弃所有文件的缓存，可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>需要注意，在使用此命令后，本地的修改并不会消失，而会回到第一种情况。要想撤销本地的修改，执行第一种情况中的命令即可。</p>
<p>除此之外，还可以指定返回到N次提交之前的阶段，执行以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD~N</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样就能退回到n个版本之前，同样不会修改本地文件的内容，这些新的内容会变成未更新到缓存区的状态。</p>
<p><strong>3）已使用 git commit 提交缓存</strong> 这种情况下，可以使用以下命令来回退到上一次 commit 的状态：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>也可以使用以下命令来回退到任意版本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commit_id&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>注意，使用 git log 命令来查看 git 提交历史和 commit id。</p>
<h4 id="（3）恢复删除内容"><a href="#（3）恢复删除内容" class="headerlink" title="（3）恢复删除内容"></a>（3）恢复删除内容</h4><p>这是一个很重要的命令，假如你回退到某个旧版本，现在想恢复到新版本，又找不到新版本的commit id怎么办？<strong>Git</strong>提供了下面的命令用来记录每一次命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reflog show HEAD</span><br><span class="line">git reflog</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>执行之后输出如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55f3fc350b1c4b78b0785bf7da13c926~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以看到，最左侧黄色字体就是修改的commit id，根据这个id就可以将代码恢复到对应节点位置。HEAD@{n}表示HEAD更改历史记录，最近的操作在上面。</p>
<p>假如需要把代码回退到<code>HEAD@&#123;5&#125;</code>处，可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD@&#123;5&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>或者执行下面的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 8a0fd74</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>需要注意，如果有任何本地修改，该命令也会将其销毁，因此在<code>reset</code>之前建议使用<code>stash</code>将本地修改储存。</p>
<h3 id="2-标签操作"><a href="#2-标签操作" class="headerlink" title="2. 标签操作"></a>2. 标签操作</h3><p>标签指的是<strong>某个分支某个特定时间点的状态</strong>，通过标签可以很方便的了解到标记时的状态。</p>
<p>标签有两种类型 ：</p>
<ul>
<li><strong>轻量标签 ：</strong> 只是某个commit 的引用，可以理解为是一个commit的别名；</li>
<li><strong>附注标签 ：</strong> 存储在Git仓库中的一个完整对象，包含打标签者的名字、电子邮件地址、日期时间 以及其他的标签信息。它是可以被校验的，可以使用 GNU Privacy Guard (GPG) 签名并验证。</li>
</ul>
<h4 id="（1）展示标签"><a href="#（1）展示标签" class="headerlink" title="（1）展示标签"></a>（1）展示标签</h4><p>可以使用以下命令来获取所有标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>它会列出所有标签的名称：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c4ab437eb984639aed433d57dc3ebf8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以使用以下命令来查看某一个标签的详细信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show &lt;tag_name&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04d39644c4b5441ab019b82c02be8789~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>还可以根据条件来显示标签，比如列出以<code>v1.</code>开头的所有tag：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -l <span class="string">&quot;v1.&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（2）创建标签"><a href="#（2）创建标签" class="headerlink" title="（2）创建标签"></a>（2）创建标签</h4><p>可以使用以下命令在本地创建新标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;tag_name&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag v1.0.0</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>通常遵循的命名模式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<ul>
<li>major（主版本号）：重大变化</li>
<li>minor（次要版本号）：版本与先前版本兼容</li>
<li>patch（补丁号）：bug修复</li>
</ul>
<p>除此之外，我们还可以为特定的commit创建标签，其命令格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;tagname&gt; &lt;commit_sha&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>以上面的的形式创建的标签都属于轻量标签，下面来看看如何创建一个附注标签。</p>
<p>在创建标签时，可以添加一个<code>-a</code>标志以创建一个带备注的标签，备注信息使用<code>-m message</code>来指定：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -a &lt;tagname&gt; -m <span class="string">&quot;&lt;message&gt;&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（3）推送标签"><a href="#（3）推送标签" class="headerlink" title="（3）推送标签"></a>（3）推送标签</h4><p>标签创建完成之后就可以使用以下命令将其推送到远程仓库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>以上命令会将本地所有tag都推送到远程仓库。如果想推送指定标签，可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;tagname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（4）切换标签"><a href="#（4）切换标签" class="headerlink" title="（4）切换标签"></a>（4）切换标签</h4><p>可以使用以下命令来切换标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;tagname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（5）删除标签"><a href="#（5）删除标签" class="headerlink" title="（5）删除标签"></a>（5）删除标签</h4><p>可以使用以下命令来删除本地仓库指定标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d &lt;tagname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用以下命令来删除远程仓库指定标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin :refs/tags/&lt;tagname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>也可以使用以下命令来删除远程仓库的指定标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete &lt;tagname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（6）拉取标签"><a href="#（6）拉取标签" class="headerlink" title="（6）拉取标签"></a>（6）拉取标签</h4><p>可以使用以下命令来将远程仓库的标签拉取（同步）到当前分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch --tags</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（7）检出标签"><a href="#（7）检出标签" class="headerlink" title="（7）检出标签"></a>（7）检出标签</h4><p>检出标签实际上就是在标签的基础上进行其他开发或操作。需要以标签指定的版本为基础版本，新建一个分支，继续其他的操作。执行以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branch&gt; &lt;tagname&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-日志记录"><a href="#3-日志记录" class="headerlink" title="3. 日志记录"></a>3. 日志记录</h3><h4 id="（1）基础日志"><a href="#（1）基础日志" class="headerlink" title="（1）基础日志"></a>（1）基础日志</h4><p>可以使用以下命令来查看分支的历史提交信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这是其最基础的用法，输出如下：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d9c2b544c2e4782821c9ec970b203a2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<p>可以看到，终端上输出了该分支近期的提交记录，它包含了所有贡献者的提交。</p>
<h4 id="（2）按作者查看"><a href="#（2）按作者查看" class="headerlink" title="（2）按作者查看"></a>（2）按作者查看</h4><p>如果想只看某个人的提交，可以添加过滤条件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>当然也可以搜索多个作者的提交信息，只需要在用|分隔用户名即可，注意需要使用\来对|进行转义：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username1\|usernmae2&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这里列出的是每次提交的详细信息，如果指向看到每个提交的概要，可以在命令中添加<code>--oneline</code>标志：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span> --oneline</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（3）按时间查看"><a href="#（3）按时间查看" class="headerlink" title="（3）按时间查看"></a>（3）按时间查看</h4><p>除了可以按照作者来查看日志之外，还可以按照时间查看日志。可以查看某个时间之前的日志，也可以查看某个日期之后的日志：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//某个日期之后</span><br><span class="line">git <span class="built_in">log</span> --since=&lt;date&gt;</span><br><span class="line">git <span class="built_in">log</span> --after=&lt;date&gt;</span><br><span class="line"></span><br><span class="line">//某个日期之前</span><br><span class="line">git <span class="built_in">log</span> --until=&lt;date&gt;</span><br><span class="line">git <span class="built_in">log</span> --before=&lt;date&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果想查看某个具体时间区间之间的日志，可以组合以上参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=<span class="string">&quot;2022.05.15&quot;</span> --until=<span class="string">&quot;2022.05.20&quot;</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（4）按文件查看"><a href="#（4）按文件查看" class="headerlink" title="（4）按文件查看"></a>（4）按文件查看</h4><p>如果我们想查看某个文件都在哪些提交中修改了内容，也是可以的。使用以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -- &lt;path&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>比如查看<code>README.md</code>文件的修改记录：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da9b0dc5d2ff4ce58ae06e0daa9bdfbc~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（5）按合并查看"><a href="#（5）按合并查看" class="headerlink" title="（5）按合并查看"></a>（5）按合并查看</h4><p>在历史提交中可能会有很多次合并的提交记录，想要只查看代码合并的记录，可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --merges</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>如果想查看非合并操作的操作记录，可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --no-merges</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（6）按分支查看"><a href="#（6）按分支查看" class="headerlink" title="（6）按分支查看"></a>（6）按分支查看</h4><p>可以按照分支查看日志，如果想查看<code>test</code>分支比<code>master</code>分支多提交了哪些内容，就可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> master..test</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>相反，如果想看<code>master</code>分支比<code>test</code>分支多提交了哪些内容，就可以执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> test..master</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（7）美化日志"><a href="#（7）美化日志" class="headerlink" title="（7）美化日志"></a>（7）美化日志</h4><p>git log命令可以用来查看提交历史，此命令的问题在于，随着项目复杂性的增加，输出变得越来越难阅读。可以使用以下命令来美化日志的输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph --oneline --decorate</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>输出结果如下，这样就能看到更简洁的细分以及不同分支如何连接在一起：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/81238a8420044812baf788a3b96b25e8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p>
<h4 id="（8）其他标志"><a href="#（8）其他标志" class="headerlink" title="（8）其他标志"></a>（8）其他标志</h4><p>上面我们提到了，可以使用<code>--oneline</code>标志来简化日志的输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用<code>--stat</code>标志来简要显示文件增改行数统计，每个提交都列出了修改过的文件，以及其中添加和移除的行数，并在最后列出所有增减行数小计：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --<span class="built_in">stat</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以添加<code>-N</code>标志来仅显示最近N次的提交，其中<code>N</code>是一个正整数，例如查看最近三次提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -3</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>可以使用<code>-p</code>标志来展开显示每次提交的内容差异对比：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>注意，以上这些命令标识符都可以组合使用。</p>
<h3 id="4-差异对比"><a href="#4-差异对比" class="headerlink" title="4. 差异对比"></a>4. 差异对比</h3><p>git diff 命令可以用来比较文件的不同，即比较文件在<strong>暂存区</strong>和<strong>工作区</strong>的差异。</p>
<h4 id="（1）未缓存改动"><a href="#（1）未缓存改动" class="headerlink" title="（1）未缓存改动"></a>（1）未缓存改动</h4><p>当工作区有改动，暂存区为空时， diff对比的是工作区与最后一次commit提交的共同文件； 当工作区有改动，暂存区不为空时，diff对比的是工作区与暂存区的共同文件。</p>
<h4 id="（2）已缓存改动"><a href="#（2）已缓存改动" class="headerlink" title="（2）已缓存改动"></a>（2）已缓存改动</h4><p>当已缓存改动时，可以使用以下任一命令来显示暂存区（已add但未commit文件）和最后一次commit(HEAD)之间的所有不相同文件的差异对比：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached</span><br><span class="line">git diff --staged</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（3）已缓存和未缓存改动"><a href="#（3）已缓存和未缓存改动" class="headerlink" title="（3）已缓存和未缓存改动"></a>（3）已缓存和未缓存改动</h4><p>可以使用以下命令来显示工作目录(已修改但未add文件)和暂存区(已add但未commit文件)与最后一次commit之间的的所有不相同文件的差异对比：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="（4）不同分支差异"><a href="#（4）不同分支差异" class="headerlink" title="（4）不同分支差异"></a>（4）不同分支差异</h4><p>可以使用以下命令来比较两个分支上最后 commit 的内容的差别：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff &lt;分支名1&gt; &lt;分支名2&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样就可以显示出两个分支的详细差异，如果只是想看有哪些文件存在差异，可以在命令中添加<code>--stat</code>标志，这样就不会显示每个文件的内容的详细对比：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff &lt;分支名1&gt; &lt;分支名2&gt; --<span class="built_in">stat</span></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="5-定位问题"><a href="#5-定位问题" class="headerlink" title="5. 定位问题"></a>5. 定位问题</h3><p>git bisect 可以用来查找哪一次代码提交引入了错误。它的原理很简单就是将代码提交的历史使用二分法来缩小出问题的代替提交范围，确定问题出在前半部分还是后半部分，不断执行这个过程，直到找到引入问题的那一次提交。</p>
<p>其命令合适如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect start &lt;end&gt; &lt;start&gt;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>其中end就是最近的提交，start就是最开始的提交。假如第一次的提交的 commit id为685f868，总共有21次提交。那么执行以下命令，从第一次提交到最近一次提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect start HEAD 685f868</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>执行完之后，验证那个问题是否存在，如果发现问题不存在了，就执行以下命令来标识第11次提交是没问题的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect good</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样就说明前半段是没有问题的，问题出在后半段，也就是第11-21次提交中。这时再去刷新浏览器，如果问题出现了，使用以下命令来标记：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect bad</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这样就说明第11-16次提交是有问题的。继续重复上面的步骤，直到成功找出那一次提交位为止，这时Git就会给出如下的提示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c8ad045 is the first bad commit</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>这时就确认了是这一次提交导致的问题，可以去查看时那些修改导致的问题。</p>
<p>之后就可以使用以下命令退出错误查找过程，回到最近一次代码提交：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect reset</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="四、实用-Git-工具"><a href="#四、实用-Git-工具" class="headerlink" title="四、实用 Git 工具"></a>四、实用 Git 工具</h2><h3 id="1-GitLens"><a href="#1-GitLens" class="headerlink" title="1. GitLens"></a>1. <strong>GitLens</strong></h3><p>GitLens  是一个VS Code插件，可以用来查看项目的提交记录、文件修改记录、显示每行代码的提交记录等。通过丰富的可视化和强大的比较命令<strong>获得有价值的见解</strong>。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9feb1a513be4540b26b8a2a6e36a05f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h3 id="2-Git-History"><a href="#2-Git-History" class="headerlink" title="2. Git History"></a>2. Git History</h3><p>Git History 是一个VS Code插件，增强了Git 的功能，它可以用来查看日志信息，查看和搜索历史，进行分支对比、提交对比，跨提交对比文件等。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e4db3b5036745e09f575faf3ca54b1f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h3 id="3-Git-Automator"><a href="#3-Git-Automator" class="headerlink" title="3. Git Automator"></a>3. Git Automator</h3><p>Git Automator 是一个VS Code插件，主要用来自动化Git提交消息和 Git 工作流程。它允许用一个快捷方式添加和提交文件。它还为提交信息提供了自动填充功能。当动作很明显时，例如你删除了一个文件，Git Automator 会猜测该动作并将其添加到预填充的提交消息中。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cadf2e3ad99348efa9487ab64e9fc8f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<h3 id="4-LearnGitBranching"><a href="#4-LearnGitBranching" class="headerlink" title="4. LearnGitBranching"></a>4. LearnGitBranching</h3><p>LearnGitBranching 是一个 git 存储库可视化工具、沙箱和一系列教程和挑战。它的主要目的是帮助开发人员通过可视化的力量来理解 git。这是通过不同级别的游戏来熟悉不同的git命令来实现的。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8afa402fc74c4ea3b1f93169f06e929d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p>
<p><strong>Github：</strong><a href="https://link.juejin.cn/?target=https://github.com/pcottle/learnGitBranching">github.com/pcottle/lea…</a></p>
<blockquote>
<p>本文转载自 <a target="_blank" rel="noopener" href="https://juejin.cn/post/7111132724185792542">https://juejin.cn/post/7111132724185792542</a></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Rigel</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.lym5460.com/post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/">http://www.lym5460.com/post/Git 一篇就够了/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.lym5460.com" target="_blank">山水庄园</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/git/">git</a></div><div class="post_share"><div class="social-share" data-image="/img/cover6.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/Git%20HEAD%E8%AF%A6%E8%A7%A3/"><img class="prev-cover" src="/img/cover2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Git HEAD 详解</div></div></a></div><div class="next-post pull-right"><a href="/post/%E7%AE%97%E6%B3%95_%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"><img class="next-cover" src="/img/cover4.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">算法之深度优先遍历(DFS)和广度优先遍历(BFS)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/Git HEAD详解/" title="Git HEAD 详解"><img class="cover" src="/img/cover2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-22</div><div class="title">Git HEAD 详解</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Rigel</div><div class="author-info__description">千里之行始于足下</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">47</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">67</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Galaxy-Rigel"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Galaxy-Rigel" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:822616692@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">感谢访问本站，若喜欢请收藏^_^</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81Git%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">一、Git基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Git-%E5%8E%86%E5%8F%B2"><span class="toc-number">1.0.1.</span> <span class="toc-text">1. Git 历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.0.2.</span> <span class="toc-text">2. 版本控制系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E9%9B%86%E4%B8%AD%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">（1）集中式版本控制系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">（2）分布式版本控制系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89SVN-vs-Git"><span class="toc-number">1.0.2.3.</span> <span class="toc-text">（3）SVN vs Git</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Git-%E5%AE%89%E8%A3%85"><span class="toc-number">1.0.3.</span> <span class="toc-text">3. Git 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Git-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.0.4.</span> <span class="toc-text">4. Git 初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Git-%E7%BB%93%E6%9E%84%E5%92%8C%E7%8A%B6%E6%80%81"><span class="toc-number">1.0.5.</span> <span class="toc-text">5. Git 结构和状态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Git-%E5%85%A5%E9%97%A8"><span class="toc-number">1.1.</span> <span class="toc-text">二、Git 入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 全局配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%90%8D"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">（1）设置用户名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E8%AE%BE%E7%BD%AE%E9%82%AE%E7%AE%B1"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">（2）设置邮箱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AE%BE%E7%BD%AE%E5%91%BD%E4%BB%A4%E9%A2%9C%E8%89%B2"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">（3）设置命令颜色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">（4）查看所有配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">（5）设置别名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 分支操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">（1）查看分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">（2）创建分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">（3）删除分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="toc-number">1.1.2.4.</span> <span class="toc-text">（4）合并分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E9%87%8D%E5%91%BD%E5%90%8D%E5%88%86%E6%94%AF"><span class="toc-number">1.1.2.5.</span> <span class="toc-text">（5）重命名分支</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. 基础操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%9A%82%E5%AD%98%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">（1）暂存文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%8F%90%E4%BA%A4%E6%9A%82%E5%AD%98"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">（2）提交暂存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%AD%98%E5%82%A8%E6%9B%B4%E6%94%B9"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">（3）存储更改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%90%88%E5%B9%B6%E6%8C%87%E5%AE%9A%E6%8F%90%E4%BA%A4"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">（4）合并指定提交</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E6%A3%80%E6%9F%A5%E6%8F%90%E4%BA%A4"><span class="toc-number">1.1.3.5.</span> <span class="toc-text">（5）检查提交</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E6%9F%A5%E7%9C%8B%E8%B4%A1%E7%8C%AE%E8%80%85"><span class="toc-number">1.1.3.6.</span> <span class="toc-text">（6）查看贡献者</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. 远程操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">（1）查看远程仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%B7%BB%E5%8A%A0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">（2）添加远程仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E7%A7%BB%E9%99%A4%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">（3）移除远程仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%8A%93%E5%8F%96%E4%B8%8E%E6%8B%89%E5%8F%96"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">（4）从远程仓库抓取与拉取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">1.1.4.5.</span> <span class="toc-text">（5）推送到远程仓库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Git-%E8%BF%9B%E9%98%B6"><span class="toc-number">1.2.</span> <span class="toc-text">三、Git 进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. 修改操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">（1）删除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%8F%96%E6%B6%88%E4%BF%AE%E6%94%B9"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">（2）取消修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%81%A2%E5%A4%8D%E5%88%A0%E9%99%A4%E5%86%85%E5%AE%B9"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">（3）恢复删除内容</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A0%87%E7%AD%BE%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 标签操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%B1%95%E7%A4%BA%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">（1）展示标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">（2）创建标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%8E%A8%E9%80%81%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">（3）推送标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%88%87%E6%8D%A2%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">（4）切换标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E5%88%A0%E9%99%A4%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">（5）删除标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E6%8B%89%E5%8F%96%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">（6）拉取标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%887%EF%BC%89%E6%A3%80%E5%87%BA%E6%A0%87%E7%AD%BE"><span class="toc-number">1.2.2.7.</span> <span class="toc-text">（7）检出标签</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. 日志记录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%9F%BA%E7%A1%80%E6%97%A5%E5%BF%97"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">（1）基础日志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%8C%89%E4%BD%9C%E8%80%85%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">（2）按作者查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%8C%89%E6%97%B6%E9%97%B4%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">（3）按时间查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%8C%89%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.2.3.4.</span> <span class="toc-text">（4）按文件查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E6%8C%89%E5%90%88%E5%B9%B6%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.2.3.5.</span> <span class="toc-text">（5）按合并查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E6%8C%89%E5%88%86%E6%94%AF%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.2.3.6.</span> <span class="toc-text">（6）按分支查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%887%EF%BC%89%E7%BE%8E%E5%8C%96%E6%97%A5%E5%BF%97"><span class="toc-number">1.2.3.7.</span> <span class="toc-text">（7）美化日志</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%888%EF%BC%89%E5%85%B6%E4%BB%96%E6%A0%87%E5%BF%97"><span class="toc-number">1.2.3.8.</span> <span class="toc-text">（8）其他标志</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%B7%AE%E5%BC%82%E5%AF%B9%E6%AF%94"><span class="toc-number">1.2.4.</span> <span class="toc-text">4. 差异对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%9C%AA%E7%BC%93%E5%AD%98%E6%94%B9%E5%8A%A8"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">（1）未缓存改动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%B7%B2%E7%BC%93%E5%AD%98%E6%94%B9%E5%8A%A8"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">（2）已缓存改动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%B7%B2%E7%BC%93%E5%AD%98%E5%92%8C%E6%9C%AA%E7%BC%93%E5%AD%98%E6%94%B9%E5%8A%A8"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">（3）已缓存和未缓存改动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E4%B8%8D%E5%90%8C%E5%88%86%E6%94%AF%E5%B7%AE%E5%BC%82"><span class="toc-number">1.2.4.4.</span> <span class="toc-text">（4）不同分支差异</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%AE%9A%E4%BD%8D%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.5.</span> <span class="toc-text">5. 定位问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%9E%E7%94%A8-Git-%E5%B7%A5%E5%85%B7"><span class="toc-number">1.3.</span> <span class="toc-text">四、实用 Git 工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-GitLens"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. GitLens</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Git-History"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. Git History</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Git-Automator"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. Git Automator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-LearnGitBranching"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. LearnGitBranching</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/ahooks/" title="浅谈 ahooks"><img src="/img/cover1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浅谈 ahooks"/></a><div class="content"><a class="title" href="/post/ahooks/" title="浅谈 ahooks">浅谈 ahooks</a><time datetime="2023-02-09T02:30:49.000Z" title="发表于 2023-02-09 10:30:49">2023-02-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/npn%20version/" title="npm version"><img src="/img/cover3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="npm version"/></a><div class="content"><a class="title" href="/post/npn%20version/" title="npm version">npm version</a><time datetime="2023-01-31T10:12:43.000Z" title="发表于 2023-01-31 18:12:43">2023-01-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/husky+lint-staged+commitlint/" title="ESLint, Prettier, Commitizen, Husky 规范代码"><img src="/img/cover5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESLint, Prettier, Commitizen, Husky 规范代码"/></a><div class="content"><a class="title" href="/post/husky+lint-staged+commitlint/" title="ESLint, Prettier, Commitizen, Husky 规范代码">ESLint, Prettier, Commitizen, Husky 规范代码</a><time datetime="2023-01-29T12:40:49.000Z" title="发表于 2023-01-29 20:40:49">2023-01-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E4%BD%8D%E8%BF%90%E7%AE%97%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" title="谈谈二进制——位运算及其应用"><img src="/img/cover2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谈谈二进制——位运算及其应用"/></a><div class="content"><a class="title" href="/post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E4%BD%8D%E8%BF%90%E7%AE%97%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" title="谈谈二进制——位运算及其应用">谈谈二进制——位运算及其应用</a><time datetime="2022-08-09T10:30:49.000Z" title="发表于 2022-08-09 18:30:49">2022-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E5%8E%9F%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E7%A7%BB%E7%A0%81/" title="谈谈二进制-原码、补码、反码、移码"><img src="/img/cover2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谈谈二进制-原码、补码、反码、移码"/></a><div class="content"><a class="title" href="/post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E5%8E%9F%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E7%A7%BB%E7%A0%81/" title="谈谈二进制-原码、补码、反码、移码">谈谈二进制-原码、补码、反码、移码</a><time datetime="2022-08-09T10:30:49.000Z" title="发表于 2022-08-09 18:30:49">2022-08-09</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/cover6.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Rigel</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到山水庄园，请喝茶 o(*￣︶￣*)o</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      true && mermaid.init()
    })
  }
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'QAFuYWYPEMElYLYTf5P1tG8A-gzGzoHsz',
      appKey: 'UBoQAeyYQhTWvEkggwYM7fsz',
      placeholder: '记得留下你的昵称和邮箱，可以快速收到回復',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: 'https://qafuywyp.lc-cn-n1-shared.com',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://qafuywyp.lc-cn-n1-shared.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'QAFuYWYPEMElYLYTf5P1tG8A-gzGzoHsz',
        "X-LC-Key": 'UBoQAeyYQhTWvEkggwYM7fsz',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="5771" data-server="netease" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="true" data-order="random" data-autoplay="true" data-lrctype="1" data-preload="auto"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="100" alpha="0.3" zIndex="-1" mobile="false" data-click="true"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener toc scroll 
  window.removeEventListener('scroll', window.tocScrollFn)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>