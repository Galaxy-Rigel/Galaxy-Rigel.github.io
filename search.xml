<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Concurrency</title>
      <link href="post/Concurrency/"/>
      <url>post/Concurrency/</url>
      
        <content type="html"><![CDATA[<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæµè§ˆå™¨å‘èµ·çš„è¯·æ±‚æœ€å¤§å¹¶å‘æ•°é‡æœ‰é™åˆ¶ï¼Œè¿™æ˜¯å› ä¸ºæµè§ˆå™¨ä¼šé™åˆ¶åŒä¸€åŸŸåä¸‹çš„å¹¶å‘è¯·æ±‚æ•°é‡ï¼Œä»¥é¿å…å¯¹æœåŠ¡å™¨é€ æˆè¿‡å¤§çš„å‹åŠ›ã€‚</p><p>æ¨¡æ‹Ÿä¸€ä¸‹å¤§é‡è¯·æ±‚çš„åœºæ™¯</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ids = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">100</span>).fill(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time()</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ids.length; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/img/concurrency.png" alt="concurrency"></p><p>ä¸€æ¬¡å‘é€ä¸Šç™¾æ¬¡è¯·æ±‚ï¼Œè™½ç„¶æµè§ˆå™¨æœ‰é˜Ÿåˆ—æœºåˆ¶ï¼ˆä¸Šå›¾pendingï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦ç»†é¢—ç²’åº¦çš„æ§åˆ¶å¹¶å‘è¯·æ±‚ã€‚</p><h3 id="è§£å†³æ€è·¯ï¼šè¯·æ±‚æ± "><a href="#è§£å†³æ€è·¯ï¼šè¯·æ±‚æ± " class="headerlink" title="è§£å†³æ€è·¯ï¼šè¯·æ±‚æ± "></a>è§£å†³æ€è·¯ï¼šè¯·æ±‚æ± </h3><p><strong>åˆ©ç”¨Promiseæ¨¡æ‹Ÿä»»åŠ¡é˜Ÿåˆ—ï¼Œä»è€Œå®ç°è¯·æ±‚æ± æ•ˆæœ</strong></p><h3 id="step-1ï¼šå®šä¹‰è¯·æ±‚æ± ä¸»å‡½æ•°"><a href="#step-1ï¼šå®šä¹‰è¯·æ±‚æ± ä¸»å‡½æ•°" class="headerlink" title="step 1ï¼šå®šä¹‰è¯·æ±‚æ± ä¸»å‡½æ•°"></a>step 1ï¼šå®šä¹‰è¯·æ±‚æ± ä¸»å‡½æ•°</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> handQueue = <span class="function">(<span class="params">  </span></span></span><br><span class="line"><span class="params"><span class="function">  reqs <span class="comment">// è¯·æ±‚æ•°é‡</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥å—ä¸€ä¸ªå‚æ•°<code>reqs</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«éœ€è¦å‘é€çš„è¯·æ±‚ã€‚å‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯å¯¹è¿™äº›è¯·æ±‚è¿›è¡Œé˜Ÿåˆ—ç®¡ç†ï¼Œç¡®ä¿å¹¶å‘è¯·æ±‚çš„æ•°é‡ä¸ä¼šè¶…è¿‡è®¾å®šçš„ä¸Šé™ã€‚</p><h3 id="step-2ï¼šå®šä¹‰-dequeueå‡½æ•°"><a href="#step-2ï¼šå®šä¹‰-dequeueå‡½æ•°" class="headerlink" title="step 2ï¼šå®šä¹‰ dequeueå‡½æ•°"></a>step 2ï¼šå®šä¹‰ dequeueå‡½æ•°</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dequeue = <span class="function">() =&gt;</span> &#123;  </span><br><span class="line">  <span class="keyword">while</span> (current &lt; concurrency &amp;&amp; queue.length) &#123;  </span><br><span class="line">    current++;  </span><br><span class="line">    <span class="keyword">const</span> requestPromiseFactory = queue.shift() <span class="comment">// å‡ºåˆ—  </span></span><br><span class="line">    requestPromiseFactory()  </span><br><span class="line">      .then(<span class="function">() =&gt;</span> &#123; <span class="comment">// æˆåŠŸçš„è¯·æ±‚é€»è¾‘  </span></span><br><span class="line">      &#125;)  </span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123; <span class="comment">// å¤±è´¥  </span></span><br><span class="line">        <span class="built_in">console</span>.log(error)  </span><br><span class="line">      &#125;)  </span><br><span class="line">      .finally(<span class="function">() =&gt;</span> &#123;  </span><br><span class="line">        current--  </span><br><span class="line">        dequeue()  </span><br><span class="line">      &#125;);  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°ç”¨äºä»è¯·æ±‚æ± ä¸­å–å‡ºè¯·æ±‚å¹¶å‘é€ã€‚å®ƒåœ¨ä¸€ä¸ªå¾ªç¯ä¸­è¿è¡Œï¼Œç›´åˆ°å½“å‰å¹¶å‘è¯·æ±‚æ•°<code>current</code>è¾¾åˆ°æœ€å¤§å¹¶å‘æ•°<code>concurrency</code>æˆ–è¯·æ±‚æ± <code>queue</code>ä¸ºç©ºã€‚å¯¹äºæ¯ä¸ªå‡ºé˜Ÿçš„è¯·æ±‚ï¼Œå®ƒé¦–å…ˆå¢åŠ <code>current</code>çš„å€¼ï¼Œç„¶åè°ƒç”¨è¯·æ±‚å‡½æ•°<code>requestPromiseFactory</code>æ¥å‘é€è¯·æ±‚ã€‚å½“è¯·æ±‚å®Œæˆï¼ˆæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰åï¼Œå®ƒä¼šå‡å°‘<code>current</code>çš„å€¼å¹¶å†æ¬¡è°ƒç”¨<code>dequeue</code>ï¼Œä»¥ä¾¿å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚</p><h3 id="step-3ï¼š-å®šä¹‰è¿”å›è¯·æ±‚å…¥é˜Ÿå‡½æ•°"><a href="#step-3ï¼š-å®šä¹‰è¿”å›è¯·æ±‚å…¥é˜Ÿå‡½æ•°" class="headerlink" title="step 3ï¼š å®šä¹‰è¿”å›è¯·æ±‚å…¥é˜Ÿå‡½æ•°"></a>step 3ï¼š å®šä¹‰è¿”å›è¯·æ±‚å…¥é˜Ÿå‡½æ•°</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="function">(<span class="params">requestPromiseFactory</span>) =&gt;</span> &#123;  </span><br><span class="line">  queue.push(requestPromiseFactory) <span class="comment">// å…¥é˜Ÿ  </span></span><br><span class="line">  dequeue()  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°<code>requestPromiseFactory</code>ï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›Promiseçš„è¯·æ±‚å·¥å‚å‡½æ•°ã€‚è¿™ä¸ªè¿”å›çš„å‡½æ•°å°†è¯·æ±‚å·¥å‚å‡½æ•°åŠ å…¥è¯·æ±‚æ± <code>queue</code>ï¼Œå¹¶è°ƒç”¨<code>dequeue</code>æ¥å°è¯•å‘é€æ–°çš„è¯·æ±‚ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰axiosï¼Œåˆ©ç”¨<code>Promise.all</code>ç»Ÿä¸€å¤„ç†è¿”å›åçš„ç»“æœã€‚</p><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> handQueue = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  reqs <span class="comment">// è¯·æ±‚æ€»æ•°</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;</span><br><span class="line">  reqs = reqs || []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> requestQueue = <span class="function">(<span class="params">concurrency</span>) =&gt;</span> &#123;</span><br><span class="line">    concurrency = concurrency || <span class="number">6</span> <span class="comment">// æœ€å¤§å¹¶å‘æ•°</span></span><br><span class="line">    <span class="keyword">const</span> queue = [] <span class="comment">// è¯·æ±‚æ± </span></span><br><span class="line">    <span class="keyword">let</span> current = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> dequeue = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">while</span> (current &lt; concurrency &amp;&amp; queue.length) &#123;</span><br><span class="line">        current++;</span><br><span class="line">        <span class="keyword">const</span> requestPromiseFactory = queue.shift() <span class="comment">// å‡ºåˆ—</span></span><br><span class="line">        requestPromiseFactory()</span><br><span class="line">          .then(<span class="function">() =&gt;</span> &#123; <span class="comment">// æˆåŠŸçš„è¯·æ±‚é€»è¾‘</span></span><br><span class="line">          &#125;)</span><br><span class="line">          .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123; <span class="comment">// å¤±è´¥</span></span><br><span class="line">            <span class="built_in">console</span>.log(error)</span><br><span class="line">          &#125;)</span><br><span class="line">          .finally(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            current--</span><br><span class="line">            dequeue()</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">requestPromiseFactory</span>) =&gt;</span> &#123;</span><br><span class="line">      queue.push(requestPromiseFactory) <span class="comment">// å…¥é˜Ÿ</span></span><br><span class="line">      dequeue()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> enqueue = requestQueue(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; reqs.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">    enqueue(<span class="function">() =&gt;</span> axios.get(<span class="string">&#x27;/api/test&#x27;</span> + i))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> concurrency </tag>
            
            <tag> promise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Twitter(X)åˆ†äº«é—®é¢˜</title>
      <link href="post/%E5%88%86%E4%BA%AB%E9%97%AE%E9%A2%98/"/>
      <url>post/%E5%88%86%E4%BA%AB%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h3 id="Twitterï¼ˆXï¼‰åˆ†äº«æœºåˆ¶"><a href="#Twitterï¼ˆXï¼‰åˆ†äº«æœºåˆ¶" class="headerlink" title="Twitterï¼ˆXï¼‰åˆ†äº«æœºåˆ¶"></a>Twitterï¼ˆXï¼‰åˆ†äº«æœºåˆ¶</h3><p>å½“ä½ åˆ†äº«æ•°æ®åˆ° twitter ç½‘ç«™ï¼Œä¼šæœ‰çˆ¬è™«æœºå™¨äººä¸€ç›´è¯»å–å¹¶ä¸”è§£æä½ çš„ç½‘ç«™æ•°æ®ï¼ˆmeta æ ‡ç­¾ï¼‰ï¼Œæ‰€æœ‰è¦æ€ä¹ˆè®©ä½ çš„ meta æ ‡ç­¾è¢«è¯»å–å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬ä¼šæƒ³åˆ°åŠ¨æ€æ”¹å˜ meta æ ‡ç­¾ï¼Œç”±äºæˆ‘ä»¬æ˜¯ spa åº”ç”¨ï¼Œæ‰€ä»¥åœ¨é€šè¿‡ js åŠ¨æ€è§£ææ˜¯è¡Œä¸é€šçš„ã€‚</p><h4 id="æ›²çº¿æ•‘å›½"><a href="#æ›²çº¿æ•‘å›½" class="headerlink" title="æ›²çº¿æ•‘å›½"></a>æ›²çº¿æ•‘å›½</h4><p><code>https://twitter.com/intent/tweet?text=$&#123;text&#125;&amp;url=$&#123;url&#125;</code></p><p>å…¶ä¸­ text æ˜¯åˆ†äº«æ–‡æ¡ˆï¼Œurl æ˜¯å…·ä½“çš„åˆ†äº«é“¾æ¥</p><p>å¦‚æœä»…ä»…æ˜¯åˆ†äº«ä¸€ä¸ªé“¾æ¥çš„éœ€æ±‚ï¼Œä»¥ä¸Šå³å¯æ»¡è¶³ï¼ä½†æ˜¯éœ€æ±‚å¾€å¾€æ˜¯éœ€è¦å›¾æ–‡è§†é¢‘ç»“åˆçš„ã€‚</p><p>å¦‚ä¸‹æ˜¯ twitter çˆ¬è™«ä¼šæŠ“å–çš„ meta æ•°æ®ï¼Œæ”¯æŒæ–‡å­—ã€å›¾ç‰‡å’Œè§†é¢‘ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;twitter:card&quot;</span> <span class="attr">content</span>=<span class="string">&quot;summary_large_image&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;twitter:site&quot;</span> <span class="attr">content</span>=<span class="string">&quot;@nytimes&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;twitter:creator&quot;</span> <span class="attr">content</span>=<span class="string">&quot;@SarahMaslinNir&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;twitter:title&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Parade of Fans for Houstonâ€™s Funeral&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">&quot;twitter:description&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">content</span>=<span class="string">&quot;NEWARK - The guest list and parade of limousines with celebrities emerging from them seemed more suited to a red carpet event in Hollywood or New York than than a gritty stretch of Sussex Avenue near the former site of the James M. Baxter Terrace public housing project here.&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">&quot;twitter:image&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">content</span>=<span class="string">&quot;http://graphics8.nytimes.com/images/2012/02/19/us/19whitney-span/19whitney-span-articleLarge.jpg&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>twitter:image</code> <code>twitter:card</code> <code>twitter:title</code> æ˜¯å¸¸ç”¨çš„å…ƒæ•°æ®ï¼Œå…·ä½“å‚è€ƒé“¾æ¥ï¼š<a href="https://developer.x.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image">twitter å¼€å‘è€…æ–‡æ¡£</a></p><h3 id="åŠ¨æ€ç”Ÿæˆé¡µé¢"><a href="#åŠ¨æ€ç”Ÿæˆé¡µé¢" class="headerlink" title="åŠ¨æ€ç”Ÿæˆé¡µé¢"></a>åŠ¨æ€ç”Ÿæˆé¡µé¢</h3><p>éœ€è¦åç«¯åŠ¨æ€æ¸²æŸ“é¡µé¢ï¼Œæˆ‘è¿™è¾¹çš„åšæ³•æ˜¯ï¼Œåç«¯æä¾›ä¸€ä¸ªæ¥å£æ¥æ”¶ meta å…ƒæ•°æ®ï¼Œç„¶åæ‹¼æ¥ä¸€ä¸ª html è¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯å°±å¯ä»¥ ç›´æ¥ä½¿ç”¨ twitter çš„åˆ†äº«é“¾æ¥ <code>https://twitter.com/intent/tweet?text=$&#123;text&#125;&amp;url=$&#123;url&#125;</code> æ›¿æ¢å…¶ä¸­çš„ url å³å¯ã€‚</p><p>å…·ä½“çš„ç”Ÿæˆæ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//å¦‚æœä¼ å…¥imageå‚æ•°å°±ç”Ÿæˆç›¸å…³çš„metaï¼Œä»¥ä¸‹å‡ æ¡ç±»ä¼¼</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;image&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$image</span>=<span class="variable">$_GET</span>[<span class="string">&quot;image&quot;</span>];</span><br><span class="line"><span class="variable">$meta_image_fb</span> = <span class="string">&#x27;&lt;meta property=&quot;og:image&quot; content=&quot;&#x27;</span>.<span class="variable">$image</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$meta_image_tw</span> = <span class="string">&#x27;&lt;meta name=&quot;twitter:image&quot; content=&quot;&#x27;</span>.<span class="variable">$image</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;description&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$description</span>=<span class="variable">$_GET</span>[<span class="string">&quot;description&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;title&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$title</span>=<span class="variable">$_GET</span>[<span class="string">&quot;title&quot;</span>];</span><br><span class="line"><span class="variable">$meta_title</span> = <span class="string">&#x27;&lt;meta property=&quot;og:title&quot; content=&quot;&#x27;</span>.<span class="variable">$title</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$meta_title</span> = <span class="string">&#x27;&lt;meta name=&quot;twitter:title&quot; content=&quot;&#x27;</span>.<span class="variable">$title</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;type&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$type</span>=<span class="variable">$_GET</span>[<span class="string">&quot;type&quot;</span>];</span><br><span class="line"><span class="variable">$meta_type_fb</span> = <span class="string">&#x27;&lt;meta property=&quot;og:type&quot; content=&quot;&#x27;</span>.<span class="variable">$type</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;url&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$url</span>=<span class="variable">$_GET</span>[<span class="string">&quot;url&quot;</span>];</span><br><span class="line"><span class="variable">$meta_url_fb</span> = <span class="string">&#x27;&lt;meta property=&quot;og:url&quot; content=&quot;&#x27;</span>.<span class="variable">$url</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$meta_url_tw</span> = <span class="string">&#x27;&lt;meta name=&quot;twitter:url&quot; content=&quot;&#x27;</span>.<span class="variable">$url</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœä¼ å…¥videoå‚æ•°å°±ç”Ÿæˆvideoç›¸å…³çš„meta</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;video&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$video</span>=<span class="variable">$_GET</span>[<span class="string">&quot;video&quot;</span>];</span><br><span class="line"><span class="variable">$meta_video_fb</span> = <span class="string">&#x27;&lt;meta property=&quot;og:video&quot; content=&quot;&#x27;</span>.<span class="variable">$video</span>.<span class="string">&#x27;&quot; /&gt;&lt;meta property=&quot;og:video:type&quot; content=&quot;video/mp4&quot; /&gt;&lt;meta property=&quot;og:video:width&quot; content=&quot;487&quot; /&gt;&#x27;</span>;</span><br><span class="line"><span class="variable">$meta_video_tw</span> = <span class="string">&#x27;&lt;meta name=&quot;twitter:player&quot; content=&quot;&#x27;</span>.<span class="variable">$video</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;card&quot;</span>]))&#123;</span><br><span class="line"><span class="variable">$card</span>=<span class="variable">$_GET</span>[<span class="string">&quot;card&quot;</span>];</span><br><span class="line"><span class="variable">$meta_card_tw</span> = <span class="string">&#x27;&lt;meta name=&quot;twitter:card&quot; content=&quot;&#x27;</span>.<span class="variable">$card</span>.<span class="string">&#x27;&quot; /&gt;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;!-- è¿™æ®µæ˜¯ç§»åŠ¨ç«¯éœ€è¦çš„metaè®¾ç½®ï¼Œå¦‚æœæ˜¯pcè¯·æŒ‰éœ€è¦åšç›¸å…³ä¿®æ”¹ --&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta content=<span class="string">&quot;width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;</span> name=<span class="string">&quot;viewport&quot;</span>&gt;</span><br><span class="line">    &lt;meta content=<span class="string">&quot;yes&quot;</span> name=<span class="string">&quot;apple-mobile-web-app-capable&quot;</span>&gt;</span><br><span class="line">    &lt;meta content=<span class="string">&quot;black&quot;</span> name=<span class="string">&quot;apple-mobile-web-app-status-bar-style&quot;</span>&gt;</span><br><span class="line">    &lt;meta content=<span class="string">&quot;telephone=no&quot;</span> name=<span class="string">&quot;format-detection&quot;</span>&gt;</span><br><span class="line">    &lt;meta content=<span class="string">&quot;email=yes&quot;</span> name=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$image</span>)?<span class="variable">$meta_image_fb</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$url</span>)?<span class="variable">$meta_url_fb</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$video</span>)?<span class="variable">$meta_video_fb</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$title</span>)?<span class="variable">$meta_title_fb</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$type</span>)?<span class="variable">$meta_type_fb</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line">    &lt;meta property=<span class="string">&quot;og:description&quot;</span> content=<span class="string">&quot;&lt;?php echo isset(<span class="subst">$description</span>)?<span class="subst">$description</span>:&#x27;&#x27; ?&gt;&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$image</span>)?<span class="variable">$meta_image_tw</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$url</span>)?<span class="variable">$meta_url_tw</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$video</span>)?<span class="variable">$meta_video_tw</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$title</span>)?<span class="variable">$meta_title_tw</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$card</span>)?<span class="variable">$meta_card_tw</span>:<span class="string">&#x27;&lt;meta name=&quot;twitter:card&quot; content=&quot;summary&quot; /&gt;&#x27;</span> <span class="meta">?&gt;</span></span><br><span class="line">&lt;meta name=<span class="string">&quot;twitter:site:id&quot;</span> content=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">&lt;meta name=<span class="string">&quot;twitter:title&quot;</span> content=<span class="string">&quot;&lt;?php echo isset(<span class="subst">$title</span>)?<span class="subst">$title</span>:&#x27;&#x27; ?&gt;&quot;</span>&gt;</span><br><span class="line">&lt;meta name=<span class="string">&quot;twitter:site&quot;</span> content=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">&lt;meta name=<span class="string">&quot;twitter:description&quot;</span> content=<span class="string">&quot;&lt;?php echo isset(<span class="subst">$description</span>)?<span class="subst">$description</span>:&#x27;&#x27; ?&gt;&quot;</span> /&gt;</span><br><span class="line">&lt;meta name=<span class="string">&quot;description&quot;</span> content=<span class="string">&quot;&lt;?php echo isset(<span class="subst">$description</span>)?<span class="subst">$description</span>:&#x27;&#x27; ?&gt;&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;<span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="keyword">isset</span>(<span class="variable">$title</span>)?<span class="variable">$title</span>:<span class="string">&#x27;&#x27;</span> <span class="meta">?&gt;</span>&lt;/title&gt;</span><br><span class="line">    &lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">        <span class="comment">//å¦‚æœå¸Œæœ›ç”¨æˆ·ç‚¹å‡»äº†ä½ çš„åˆ†äº«å†…å®¹åè·³è½¬åˆ°ç‰¹å®šé¡µé¢</span></span><br><span class="line">    window.location.href=<span class="string">&quot;http://www.eaxmple.com/xxx.html&quot;</span>;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="æœ€åé™„ä¸Šåˆ†äº«çš„ç»“æœ"><a href="#æœ€åé™„ä¸Šåˆ†äº«çš„ç»“æœ" class="headerlink" title="æœ€åé™„ä¸Šåˆ†äº«çš„ç»“æœ"></a>æœ€åé™„ä¸Šåˆ†äº«çš„ç»“æœ</h3><p><img src="/img/share.png" alt="image-20240812183457360"></p>]]></content>
      
      
      
        <tags>
            
            <tag> twitter </tag>
            
            <tag> åˆ†äº« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«æ€é—®é¢˜</title>
      <link href="post/%E7%AB%9E%E6%80%81%E9%97%AE%E9%A2%98/"/>
      <url>post/%E7%AB%9E%E6%80%81%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯ç«æ€é—®é¢˜"><a href="#ä»€ä¹ˆæ˜¯ç«æ€é—®é¢˜" class="headerlink" title="ä»€ä¹ˆæ˜¯ç«æ€é—®é¢˜"></a>ä»€ä¹ˆæ˜¯ç«æ€é—®é¢˜</h1><blockquote><p><strong>ç«æ€é—®é¢˜</strong>ï¼Œåˆå«<strong>ç«æ€æ¡ä»¶</strong>ï¼ˆrace conditionï¼‰ï¼Œå®ƒæ—¨åœ¨æè¿°ä¸€ä¸ªç³»ç»Ÿæˆ–è€…è¿›ç¨‹çš„è¾“å‡ºä¾èµ–äºä¸å—æ§åˆ¶çš„äº‹ä»¶å‡ºç°é¡ºåºæˆ–è€…å‡ºç°æ—¶æœºã€‚</p><p>æ­¤è¯æºè‡ªäºä¸¤ä¸ªä¿¡å·è¯•ç€å½¼æ­¤ç«äº‰ï¼Œæ¥å½±å“è°å…ˆè¾“å‡ºã€‚</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œç«æ€é—®é¢˜å‡ºç°çš„åŸå› æ˜¯æ— æ³•ä¿è¯å¼‚æ­¥æ“ä½œçš„å®Œæˆä¼šæŒ‰ç…§ä»–ä»¬å¼€å§‹æ—¶åŒæ ·çš„é¡ºåºã€‚ä¸¾ä¸ªğŸŒ°ï¼š</p><ul><li>æœ‰ä¸€ä¸ªåˆ†é¡µåˆ—è¡¨ï¼Œå¿«é€Ÿåœ°åˆ‡æ¢ç¬¬äºŒé¡µï¼Œç¬¬ä¸‰é¡µï¼›</li><li>å…ˆåè¯·æ±‚ data2 ä¸ data3ï¼Œåˆ†é¡µå™¨æ˜¾ç¤ºå½“å‰åœ¨ç¬¬ä¸‰é¡µï¼Œå¹¶ä¸”è¿›å…¥ loadingï¼›</li><li>ä½†ç”±äºç½‘ç»œçš„ä¸ç¡®å®šæ€§ï¼Œå…ˆå‘å‡ºçš„è¯·æ±‚ä¸ä¸€å®šå…ˆå“åº”ï¼Œæ‰€ä»¥æœ‰å¯èƒ½ data3 æ¯” data2 å…ˆè¿”å›ï¼›</li><li>åœ¨ data2 æœ€ç»ˆè¿”å›åï¼Œåˆ†é¡µå™¨æŒ‡ç¤ºå½“å‰åœ¨ç¬¬ä¸‰é¡µï¼Œä½†å±•ç¤ºçš„æ˜¯ç¬¬äºŒé¡µçš„æ•°æ®ã€‚</li></ul><p>è¿™å°±æ˜¯ç«æ€æ¡ä»¶ï¼Œåœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå¸¸è§äºæœç´¢ï¼Œåˆ†é¡µï¼Œé€‰é¡¹å¡ç­‰åˆ‡æ¢çš„åœºæ™¯ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•è§£å†³ç«æ€é—®é¢˜å‘¢ï¼Ÿåœ¨ä»¥ä¸Šè¿™äº›åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ï¼š</p><p><strong>å½“å‘å‡ºæ–°çš„è¯·æ±‚æ—¶ï¼Œå–æ¶ˆæ‰ä¸Šæ¬¡è¯·æ±‚å³å¯ã€‚</strong></p><p><strong>è€Œæˆ‘å‘ç°æ„è¯†åˆ°é—®é¢˜æ˜¯åœ¨è½®è¯¢è¯·æ±‚çš„æ—¶å€™ï¼Œå‘ç°é¡µé¢å‡ºç°ä¸€é—ªè€Œè¿‡çš„ä¸åè°ƒ</strong></p><h1 id="å–æ¶ˆè¿‡æœŸè¯·æ±‚"><a href="#å–æ¶ˆè¿‡æœŸè¯·æ±‚" class="headerlink" title="å–æ¶ˆè¿‡æœŸè¯·æ±‚"></a>å–æ¶ˆè¿‡æœŸè¯·æ±‚</h1><h2 id="XMLHttpRequest-å–æ¶ˆè¯·æ±‚"><a href="#XMLHttpRequest-å–æ¶ˆè¯·æ±‚" class="headerlink" title="XMLHttpRequest å–æ¶ˆè¯·æ±‚"></a>XMLHttpRequest å–æ¶ˆè¯·æ±‚</h2><p><code>XMLHttpRequest</code>ï¼ˆXHRï¼‰æ˜¯ä¸€ä¸ªå†…å»ºçš„æµè§ˆå™¨å¯¹è±¡ï¼Œå®ƒå…è®¸ä½¿ç”¨ JavaScript å‘é€ HTTP è¯·æ±‚ã€‚</p><p>å¦‚æœè¯·æ±‚å·²è¢«å‘å‡ºï¼Œå¯ä»¥ä½¿ç”¨ <code>abort()</code> æ–¹æ³•ç«‹åˆ»ä¸­æ­¢è¯·æ±‚ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;https://xxx&#x27;</span>);</span><br><span class="line">xhr.send();</span><br><span class="line">    </span><br><span class="line">xhr.abort(); <span class="comment">// å–æ¶ˆè¯·æ±‚</span></span><br></pre></td></tr></table></figure><h2 id="fetch-API-å–æ¶ˆè¯·æ±‚"><a href="#fetch-API-å–æ¶ˆè¯·æ±‚" class="headerlink" title="fetch API å–æ¶ˆè¯·æ±‚"></a>fetch API å–æ¶ˆè¯·æ±‚</h2><p>fetch å·ç§°æ˜¯ AJAX çš„æ›¿ä»£å“ï¼Œå‡ºç°äº ES6ï¼Œå®ƒä¹Ÿå¯ä»¥å‘å‡ºç±»ä¼¼ XMLHttpRequest çš„ç½‘ç»œè¯·æ±‚ã€‚</p><p>ä¸»è¦çš„åŒºåˆ«åœ¨äº fetch ä½¿ç”¨äº† promiseï¼Œè¦ä¸­æ­¢ fetch å‘å‡ºçš„è¯·æ±‚ï¼Œéœ€è¦ä½¿ç”¨ <code>AbortController</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> controller = <span class="keyword">new</span> AbortController();</span><br><span class="line"><span class="keyword">const</span> signal = controller.signal;</span><br><span class="line"></span><br><span class="line">fetch(<span class="string">&#x27;/xxx&#x27;</span>, &#123;</span><br><span class="line">  signal,</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;);</span><br><span class="line">controller.abort(); <span class="comment">// å–æ¶ˆè¯·æ±‚</span></span><br></pre></td></tr></table></figure><p>ç›¸æ¯”åŸç”Ÿ APIï¼Œå¤§å¤šé¡¹ç›®éƒ½ä¼šé€‰æ‹© axios è¿›è¡Œè¯·æ±‚ã€‚</p><h2 id="axios-å–æ¶ˆè¯·æ±‚"><a href="#axios-å–æ¶ˆè¯·æ±‚" class="headerlink" title="axios å–æ¶ˆè¯·æ±‚"></a>axios å–æ¶ˆè¯·æ±‚</h2><p>axios æ˜¯ä¸€ä¸ª HTTP è¯·æ±‚åº“ï¼Œæœ¬è´¨æ˜¯å¯¹åŸç”Ÿ XMLHttpRequest çš„å°è£…ååŸºäº promise çš„å®ç°ç‰ˆæœ¬ï¼Œå› æ­¤ axios è¯·æ±‚ä¹Ÿå¯ä»¥è¢«å–æ¶ˆã€‚</p><p>å¯ä»¥åˆ©ç”¨ axios çš„ CancelToken API å–æ¶ˆè¯·æ±‚ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> source = axios.CancelToken.source();</span><br><span class="line"></span><br><span class="line">axios.get(<span class="string">&#x27;/xxx&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">cancelToken</span>: source.token</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">source.cancel() <span class="comment">// å–æ¶ˆè¯·æ±‚</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬åœ¨å¤„ç†è¯·æ±‚é”™è¯¯æ—¶ï¼Œéœ€è¦åˆ¤æ–­ error æ˜¯å¦æ˜¯ cancel å¯¼è‡´çš„ï¼Œé¿å…ä¸å¸¸è§„é”™è¯¯ä¸€èµ·å¤„ç†ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">&#x27;/xxx&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">cancelToken</span>: source.token</span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">if</span> (axios.isCancel(err)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Request canceled&#x27;</span>, err.message);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†é”™è¯¯</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä½† cancelToken ä» <code>v0.22.0</code> å¼€å§‹å·²è¢« axios å¼ƒç”¨ã€‚åŸå› æ˜¯åŸºäºå®ç°è¯¥ API çš„ææ¡ˆ <a href="https://link.juejin.cn/?target=https://github.com/tc39/proposal-cancelable-promises">cancelable promises proposal</a> å·²è¢«æ’¤é”€ã€‚</p><p>ä» <code>v0.22.0</code> å¼€å§‹ï¼Œaxios æ”¯æŒä»¥ fetch API æ–¹å¼çš„ AbortController å–æ¶ˆè¯·æ±‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> controller = <span class="keyword">new</span> AbortController();</span><br><span class="line"></span><br><span class="line">axios.get(<span class="string">&#x27;/xxx&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">signal</span>: controller.signal</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">   <span class="comment">//...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">controller.abort() <span class="comment">// å–æ¶ˆè¯·æ±‚</span></span><br></pre></td></tr></table></figure><p>åŒæ ·ï¼Œåœ¨å¤„ç†è¯·æ±‚é”™è¯¯æ—¶ï¼Œä¹Ÿéœ€è¦åˆ¤æ–­ error æ˜¯å¦æ¥è‡ª cancelã€‚</p><h2 id="apisauce-å–æ¶ˆè¯·æ±‚"><a href="#apisauce-å–æ¶ˆè¯·æ±‚" class="headerlink" title="apisauce å–æ¶ˆè¯·æ±‚"></a>apisauce å–æ¶ˆè¯·æ±‚</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; CancelToken &#125; <span class="keyword">from</span> <span class="string">&#x27;apisauce&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> source = CancelToken.source()</span><br><span class="line"><span class="keyword">const</span> api = create(&#123; <span class="attr">baseURL</span>: <span class="string">&#x27;github.com&#x27;</span> &#125;)</span><br><span class="line">api.get(<span class="string">&#x27;/users&#x27;</span>, &#123;&#125;, &#123; <span class="attr">cancelToken</span>: source.token &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// To cancel request</span></span><br><span class="line">source.cancel()</span><br></pre></td></tr></table></figure><img src="/img/apisauce.png" /><p>æ¯å¤©è®°å½•ä¸€ç‚¹ï¼Œè¿›æ­¥å¤šä¸€ç‚¹ç‚¹ï¼</p>]]></content>
      
      
      <categories>
          
          <category> ç«æ€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> xhr </tag>
            
            <tag> ç«æ€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆEXPO</title>
      <link href="post/%E6%B5%85%E8%B0%88EXPO/"/>
      <url>post/%E6%B5%85%E8%B0%88EXPO/</url>
      
        <content type="html"><![CDATA[<blockquote><p>é¦–å…ˆè®©æˆ‘åæ§½ä¸€ä¸‹ï¼Œèº«ä¸ºä¸€ä½ web å¼€å‘äººå‘˜å¤„ç† xcode æ„å»ºå’Œ native deps ç­‰é—®é¢˜æ˜¯çœŸçš„æ— å¥ˆï¼ï¼</p></blockquote><h2 id="Expo-vs-Rn"><a href="#Expo-vs-Rn" class="headerlink" title="Expo vs Rn"></a>Expo vs Rn</h2><p>Expo å’Œ React Native æ˜¯ä¸¤ä¸ªå¯†åˆ‡ç›¸å…³çš„å·¥å…·ï¼Œç”¨äºå¼€å‘è·¨å¹³å°ç§»åŠ¨åº”ç”¨ï¼Œä½†å®ƒä»¬åœ¨ä½¿ç”¨æ–¹å¼å’Œçµæ´»æ€§ä¸Šæœ‰æ‰€ä¸åŒã€‚ä¸‹é¢æ˜¯å¯¹å®ƒä»¬çš„è¯¦ç»†ä»‹ç»å’Œå¯¹æ¯”ï¼š</p><h3 id="React-Native"><a href="#React-Native" class="headerlink" title="React Native"></a>React Native</h3><p>React Native æ˜¯ä¸€ä¸ªç”± Facebook å¼€å‘çš„å¼€æºæ¡†æ¶ï¼Œå…è®¸å¼€å‘è€…ä½¿ç”¨ JavaScript å’Œ React æ„å»ºåŸç”Ÿç§»åŠ¨åº”ç”¨ã€‚React Native æä¾›äº†ä¸€ç»„åŸç”Ÿç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶è¢«æ¸²æŸ“ä¸ºåŸç”Ÿè§†å›¾ï¼Œè€Œä¸æ˜¯ Web è§†å›¾ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol><li><strong>è·¨å¹³å°å¼€å‘</strong>ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¯ä»¥åœ¨ iOS å’Œ Android ä¸Šè¿è¡Œã€‚</li><li><strong>æ€§èƒ½å¥½</strong>ï¼šä½¿ç”¨åŸç”Ÿç»„ä»¶ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿåº”ç”¨ã€‚</li><li><strong>å¤§ç¤¾åŒºå’Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šæœ‰å¾ˆå¤šå¼€æºåº“å’Œå·¥å…·å¯ä»¥ä½¿ç”¨ã€‚</li><li><strong>çµæ´»æ€§</strong>ï¼šå…è®¸æ·±åº¦è®¿é—®åŸç”ŸåŠŸèƒ½å’Œç¬¬ä¸‰æ–¹åŸç”Ÿæ¨¡å—ã€‚</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li><strong>è®¾ç½®å¤æ‚</strong>ï¼šåˆå­¦è€…å¯èƒ½éœ€è¦èŠ±è´¹æ›´å¤šæ—¶é—´æ¥è®¾ç½®å¼€å‘ç¯å¢ƒã€‚</li><li><strong>åŸç”Ÿä»£ç éœ€æ±‚</strong>ï¼šæœ‰æ—¶å€™éœ€è¦ç¼–å†™åŸç”Ÿä»£ç æ¥å®ç°ç‰¹å®šåŠŸèƒ½ã€‚</li><li><strong>å‡çº§å›°éš¾</strong>ï¼šéšç€ React Native ç‰ˆæœ¬çš„å‡çº§ï¼Œåº”ç”¨ç»´æŠ¤å¯èƒ½å˜å¾—å¤æ‚ã€‚</li></ol><h3 id="Expo"><a href="#Expo" class="headerlink" title="Expo"></a>Expo</h3><p>Expo æ˜¯ä¸€ä¸ªåŸºäº React Native çš„å¼€å‘å·¥å…·å¥—ä»¶ï¼Œæ—¨åœ¨ç®€åŒ– React Native åº”ç”¨çš„å¼€å‘è¿‡ç¨‹ã€‚Expo æä¾›äº†ä¸€ç»„å·¥å…·å’ŒæœåŠ¡ï¼Œä½¿å¼€å‘è€…æ— éœ€å¤„ç†åŸç”Ÿä»£ç å³å¯å¿«é€Ÿå¼€å‘ã€æ„å»ºå’Œéƒ¨ç½²åº”ç”¨ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ol><li><strong>ç®€åŒ–å¼€å‘æµç¨‹</strong>ï¼šå¼€å‘ç¯å¢ƒè®¾ç½®ç®€å•ï¼Œæ— éœ€å®‰è£… Android Studio æˆ– Xcodeã€‚</li><li><strong>ä¸°å¯Œçš„å†…ç½® API</strong>ï¼šæä¾›äº†è®¸å¤šå¸¸ç”¨çš„ APIï¼Œå¦‚ç›¸æœºã€ä½ç½®ã€é€šçŸ¥ç­‰ï¼Œå¼€ç®±å³ç”¨ã€‚</li><li><strong>å¿«é€Ÿé¢„è§ˆå’Œæµ‹è¯•</strong>ï¼šé€šè¿‡ Expo Go åº”ç”¨ï¼Œå¯ä»¥åœ¨çœŸå®è®¾å¤‡ä¸Šå¿«é€Ÿé¢„è§ˆå’Œæµ‹è¯•åº”ç”¨ã€‚</li><li><strong>æ— éœ€åŸç”Ÿä»£ç </strong>ï¼šå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸éœ€è¦ç¼–å†™åŸç”Ÿä»£ç ã€‚</li></ol><p><strong>ç¼ºç‚¹ï¼š</strong></p><ol><li><strong>çµæ´»æ€§è¾ƒä½</strong>ï¼šå—é™äº Expo æä¾›çš„ APIï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ä¸æ”¯æŒçš„åŸç”ŸåŠŸèƒ½ï¼Œå¯èƒ½éœ€è¦â€œå¼¹å‡ºâ€åˆ°çº¯ React Nativeã€‚</li><li><strong>åº”ç”¨å¤§å°è¾ƒå¤§</strong>ï¼šç”±äºåŒ…å«äº†æ‰€æœ‰ Expo æä¾›çš„åº“ï¼Œåº”ç”¨çš„åˆå§‹å¤§å°å¯èƒ½è¾ƒå¤§ã€‚</li><li><strong>ä¾èµ– Expo æœåŠ¡</strong>ï¼šæ„å»ºå’Œå‘å¸ƒåº”ç”¨ä¾èµ–äº Expo çš„åœ¨çº¿æœåŠ¡ã€‚</li></ol><h2 id="Ignite"><a href="#Ignite" class="headerlink" title="Ignite"></a>Ignite</h2><p>æœ¬ç€èƒ½æœºå†™ç»ä¸æ‰‹å†™çš„åŸåˆ™ï¼Œæˆ‘åˆå‘ç°äº†ä¸€ä¸ªå®è—æ¨¡æ¿è„šæ‰‹æ¶<a href="https://docs.infinite.red/ignite-cli/">ignite</a>ï¼Œèƒ½å¤ŸåŒæ—¶åˆ›å»º expo é¡¹ç›®å’Œ reactnative é¡¹ç›®ï¼Œæœæ–­å…¥æ‰‹ï¼</p><h4 id="ignite-åˆå§‹åŒ–å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š"><a href="#ignite-åˆå§‹åŒ–å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š" class="headerlink" title="ignite åˆå§‹åŒ–å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š"></a>ignite åˆå§‹åŒ–å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š</h4><img src="/img/ignite-template.png" style="zoom:67%;" /><h4 id="Ignite-Boilerplate"><a href="#Ignite-Boilerplate" class="headerlink" title="Ignite Boilerplate"></a><a href="https://docs.infinite.red/ignite-cli/Guide/#ignite-boilerplate">Ignite Boilerplate</a></h4><p>â€‹    é¢„è®¾å¦‚ä¸‹åº“ï¼š</p><ul><li>React Native</li><li>React Navigation</li><li>MobX-State-Tree <a href="https://docs.infinite.red/ignite-cli/concept/MobX-State-Tree/">(Why not Redux?)</a></li><li>MobX-React-Lite</li><li>TypeScript</li><li>AsyncStorage (integrated with MST for restoring state)</li><li>apisauce (to talk to REST servers)</li><li>Reactotron-ready (and pre-integrated with MST)</li><li>Supports Expo (and Expo web) out of the box</li><li>About a dozen prebuilt <a href="https://docs.infinite.red/ignite-cli/boilerplate/app/components/">components</a> to build out your UI with</li><li>And more!</li></ul><blockquote><p>expo ç®€åŒ–äº†Rnï¼ŒIgniteç®€åŒ–äº†expo</p></blockquote><h2 id="å…³äºxcodeå’Œnative-depsçš„å›°æ‰°"><a href="#å…³äºxcodeå’Œnative-depsçš„å›°æ‰°" class="headerlink" title="å…³äºxcodeå’Œnative depsçš„å›°æ‰°"></a>å…³äºxcodeå’Œnative depsçš„å›°æ‰°</h2><p>å½“é‡åˆ°éœ€è¦è°ƒç”¨æœ¬åœ°åº“çš„åŠŸèƒ½æ—¶å€™ï¼Œå¾€å¾€éœ€è¦æŠ“è€³æŒ è…®ï¼Œè™½ç„¶æœ‰ç¬¬ä¸‰æ–¹åº“çš„æ”¯æŒï¼Œä½†æ˜¯åœ¨xcodeç¼–è¯‘çš„æ—¶å€™å¼¹å‡ºçº¢è‰²è­¦å‘Šæ˜¯å¤šä¹ˆææ€–çš„äº‹æƒ…ï¼</p><p>å¹¸å¥½expoçš„<a href="https://expo.dev/eas">eas</a>è®©æˆ‘å…å»äº†å¾ˆå¤šå›°æ‰°ï¼Œæ— éœ€xcodeå’Œæ‹…å¿§native deps</p><p>EAS ä¸»è¦åŒ…å« <a href="https://docs.expo.dev/build/introduction/">EAS Build</a>ã€<a href="https://docs.expo.dev/submit/introduction/">EAS Submit</a>ã€<a href="https://docs.expo.dev/eas-update/introduction/">EAS Update</a>ã€<a href="https://docs.expo.dev/eas/metadata/">EAS Metadata</a>ã€<a href="https://docs.expo.dev/eas-insights/introduction/">EAS Insights</a></p><h3 id="EAS-Build"><a href="#EAS-Build" class="headerlink" title="EAS Build"></a><a href="https://docs.expo.dev/build/introduction/">EAS Build</a></h3><p>EAS Build æ˜¯ä¸€ä¸ªæ‰˜ç®¡æœåŠ¡ï¼Œç”¨äºä¸ºæ‚¨çš„ Expo å’Œ React Native é¡¹ç›®æ„å»ºåº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><p>å®ƒé€šè¿‡æä¾›é»˜è®¤è®¾ç½®ï¼Œä½¿å¾—æ„å»ºé€‚ç”¨äº Expo å’Œ React Native é¡¹ç›®çš„åº”ç”¨ç¨‹åºå˜å¾—ç®€å•ä¸”æ˜“äºè‡ªåŠ¨åŒ–ï¼ŒåŒæ—¶è¿˜å¯ä»¥ä¸ºæ‚¨å¤„ç†åº”ç”¨ç¨‹åºç­¾åå‡­è¯ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜é€šè¿‡å†…éƒ¨åˆ†å‘ï¼ˆä½¿ç”¨ä¸´æ—¶å’Œ/æˆ–ä¼ä¸šçº§â€œé€šç”¨â€é…ç½®æ–‡ä»¶ï¼‰ï¼Œä½¿ä¸å›¢é˜Ÿå…±äº«æ„å»ºå˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ï¼Œå¹¶ä¸ EAS Submit æ·±åº¦é›†æˆç”¨äºåº”ç”¨å•†åº—æäº¤ï¼Œè¿˜å¯¹ expo-updates åº“æä¾›ä¸€æµçš„æ”¯æŒã€‚</p><p>æ— è®ºæ‚¨æ˜¯å¦ä½¿ç”¨æ‰˜ç®¡å·¥ä½œæµï¼Œå®ƒéƒ½æ—¨åœ¨é€‚ç”¨äºä»»ä½•åŸç”Ÿé¡¹ç›®ã€‚è¿™æ˜¯ä» npx create-expo-app æˆ– npx react-native init åˆ°åº”ç”¨å•†åº—çš„æœ€å¿«é€”å¾„ã€‚</p><p>ä¸€èˆ¬åœ¨eas.jsonä¸­é…ç½®æ„å»º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eas.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;build&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;development&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;developmentClient&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;distribution&quot;</span>: <span class="string">&quot;internal&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;preview&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;distribution&quot;</span>: <span class="string">&quot;internal&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;production&quot;</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>developmentClient</code>å¼€å¯åˆ™æ˜¯ development builds ï¼Œç›¸å½“äºè‡ªå®šä¹‰ çš„EXPO GOã€‚</p><p>å¯ä»¥æœ‰å¤šä¸ªæ„å»ºç›®æ ‡ï¼Œä¾‹å¦‚ developmentã€previewã€productï¼Œå¹¶ä¸”ä¸€ä¸ªç‰©ç†æœºå¯ä»¥åŒæ—¶å®‰è£…å¤šä¸ªæ„å»ºï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;MyApp&#x27;,</span><br><span class="line">  slug: &#x27;my-app&#x27;,</span><br><span class="line">  ios: &#123;</span><br><span class="line">    bundleIdentifier: &#x27;com.myapp&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  android: &#123;</span><br><span class="line">    package: &#x27;com.myapp&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a><a href="https://docs.expo.dev/build-reference/variants/#prerequisites">å‰æ</a></h3><p>éœ€è¦æ‹¥æœ‰ä¸åŒ bundle id</p><p>app.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;expo&quot;: &#123;</span><br><span class="line">    &quot;name&quot;: &quot;MyApp&quot;,</span><br><span class="line">    &quot;slug&quot;: &quot;my-app&quot;,</span><br><span class="line">    &quot;ios&quot;: &#123;</span><br><span class="line">      &quot;bundleIdentifier&quot;: &quot;com.myapp&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;android&quot;: &#123;</span><br><span class="line">      &quot;package&quot;: &quot;com.myapp&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>eas.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;build&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;development&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;developmentClient&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;production&quot;</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="app-jsonè½¬æ¢ä¸ºapp-config-ts"><a href="#app-jsonè½¬æ¢ä¸ºapp-config-ts" class="headerlink" title="app.jsonè½¬æ¢ä¸ºapp.config.ts"></a><a href="https://docs.expo.dev/build-reference/variants/#convert-appjson-to-appconfigjs">app.jsonè½¬æ¢ä¸ºapp.config.ts</a></h4><p>app.config.ts</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;MyApp&#x27;</span>,</span><br><span class="line">  <span class="attr">slug</span>: <span class="string">&#x27;my-app&#x27;</span>,</span><br><span class="line">  <span class="attr">ios</span>: &#123;</span><br><span class="line">    <span class="attr">bundleIdentifier</span>: <span class="string">&#x27;com.myapp&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">android</span>: &#123;</span><br><span class="line">    <span class="attr">package</span>: <span class="string">&#x27;com.myapp&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ <strong>app.config.js</strong> æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªåä¸º <code>IS_DEV</code> çš„ç¯å¢ƒå˜é‡ï¼Œç”¨äºæ ¹æ®è¯¥å˜é‡åˆ‡æ¢ <code>android.package</code> å’Œ <code>ios.bundleIdentifier</code>ã€‚</p><p>app.config.ts</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const IS_DEV = process.env.APP_VARIANT === &#x27;development&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: IS_DEV ? &#x27;MyApp (Dev)&#x27; : &#x27;MyApp&#x27;,</span><br><span class="line">  slug: &#x27;my-app&#x27;,</span><br><span class="line">  ios: &#123;</span><br><span class="line">    bundleIdentifier: IS_DEV ? &#x27;com.myapp.dev&#x27; : &#x27;com.myapp&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  android: &#123;</span><br><span class="line">    package: IS_DEV ? &#x27;com.myapp.dev&#x27; : &#x27;com.myapp&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œç¯å¢ƒå˜é‡ <code>IS_DEV</code> ç”¨äºåŒºåˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒã€‚æ ¹æ®å…¶å€¼ï¼Œä¸ºæ¯ä¸ªå˜ä½“è®¾ç½®ä¸åŒçš„åº”ç”¨ç¨‹åº ID æˆ–æ†ç»‘æ ‡è¯†ç¬¦ã€‚</p><h3 id="Configuration-for-EAS-Build"><a href="#Configuration-for-EAS-Build" class="headerlink" title="Configuration for EAS Build"></a><a href="https://docs.expo.dev/build-reference/variants/#configuration-for-eas-build">Configuration for EAS Build</a></h3><p>åœ¨ <strong>eas.json</strong> æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ä½¿ç”¨ <code>env</code> å±æ€§è®¾ç½® <code>APP_VARIANT</code> ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿ä½¿ç”¨ <strong>development</strong> é…ç½®æ–‡ä»¶è¿è¡Œæ„å»ºï¼š</p><p>eas.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;build&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;development&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;developmentClient&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;env&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;APP_VARIANT&quot;</span>: <span class="string">&quot;development&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;production&quot;</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå½“æ‚¨è¿è¡Œ <code>eas build --profile development</code> æ—¶ï¼Œåœ¨æœ¬åœ°å’Œ EAS Build æ„å»ºå™¨ä¸Šè¯„ä¼° <strong>app.config.js</strong> æ—¶ï¼Œç¯å¢ƒå˜é‡ <code>APP_VARIANT</code> å°†è¢«è®¾ç½®ä¸º <code>development</code>ã€‚</p><h3 id="Using-the-development-server"><a href="#Using-the-development-server" class="headerlink" title="Using the development server"></a><a href="https://docs.expo.dev/build-reference/variants/#using-the-development-server">Using the development server</a></h3><p>å½“æ‚¨å¯åŠ¨å¼€å‘æœåŠ¡å™¨æ—¶ï¼Œæ‚¨éœ€è¦è¿è¡Œ <code>APP_VARIANT=development npx expo start</code>ï¼ˆå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Windowsï¼Œåˆ™ä½¿ç”¨ç›¸åº”çš„å¹³å°ç­‰æ•ˆå‘½ä»¤ï¼‰ã€‚</p><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;dev&quot;</span>: <span class="string">&quot;APP_VARIANT=development npx expo start&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Using-production-variant"><a href="#Using-production-variant" class="headerlink" title="Using production variant"></a><a href="https://docs.expo.dev/build-reference/variants/#using-production-variant">Using production variant</a></h3><p>å½“æ‚¨è¿è¡Œ <code>eas build --profile production</code> æ—¶ï¼Œ<code>APP_VARIANT</code> ç¯å¢ƒå˜é‡ä¸ä¼šè¢«è®¾ç½®ï¼Œæ„å»ºå°†ä½œä¸ºç”Ÿäº§å˜ä½“è¿è¡Œã€‚</p><h2 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h2><p>æ‹¥æŠ±expo</p>]]></content>
      
      
      <categories>
          
          <category> reactNative </category>
          
      </categories>
      
      
        <tags>
            
            <tag> expo </tag>
            
            <tag> EXPO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Node.js äº‹ä»¶å¾ªç¯</title>
      <link href="post/node-eventLoop/"/>
      <url>post/node-eventLoop/</url>
      
        <content type="html"><![CDATA[<h1 id="Node-js-äº‹ä»¶å¾ªç¯ï¼Œå®šæ—¶å™¨å’Œ-process-nextTick"><a href="#Node-js-äº‹ä»¶å¾ªç¯ï¼Œå®šæ—¶å™¨å’Œ-process-nextTick" class="headerlink" title="Node.js äº‹ä»¶å¾ªç¯ï¼Œå®šæ—¶å™¨å’Œ process.nextTick()"></a>Node.js äº‹ä»¶å¾ªç¯ï¼Œå®šæ—¶å™¨å’Œ <code>process.nextTick()</code></h1><h2 id="ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼Ÿ</h2><p>äº‹ä»¶å¾ªç¯æ˜¯ Node.js å¤„ç†éé˜»å¡ I/O æ“ä½œçš„æœºåˆ¶â€”â€”å°½ç®¡ JavaScript æ˜¯å•çº¿ç¨‹å¤„ç†çš„â€”â€”å½“æœ‰å¯èƒ½çš„æ—¶å€™ï¼Œå®ƒä»¬ä¼šæŠŠæ“ä½œè½¬ç§»åˆ°ç³»ç»Ÿå†…æ ¸ä¸­å»ã€‚</p><p>å› ä¸ºç›®å‰å¤§å¤šæ•°å†…æ ¸éƒ½æ˜¯å¤šçº¿ç¨‹çš„ï¼Œæ‰€ä»¥å®ƒä»¬å¯ä»¥åœ¨åå°å¤„ç†å¤šç§æ“ä½œã€‚å½“å…¶ä¸­çš„ä¸€ä¸ªæ“ä½œå®Œæˆçš„æ—¶å€™ï¼Œå†…æ ¸é€šçŸ¥ Node.js å°†é€‚åˆçš„å›è°ƒå‡½æ•°æ·»åŠ åˆ° <em>è½®è¯¢</em> é˜Ÿåˆ—ä¸­ç­‰å¾…æ—¶æœºæ‰§è¡Œ</p><h2 id="äº‹ä»¶å¾ªç¯æœºåˆ¶è§£æ"><a href="#äº‹ä»¶å¾ªç¯æœºåˆ¶è§£æ" class="headerlink" title="äº‹ä»¶å¾ªç¯æœºåˆ¶è§£æ"></a>äº‹ä»¶å¾ªç¯æœºåˆ¶è§£æ</h2><p>å½“ Node.js å¯åŠ¨åï¼Œå®ƒä¼šåˆå§‹åŒ–äº‹ä»¶å¾ªç¯ï¼Œå¤„ç†å·²æä¾›çš„è¾“å…¥è„šæœ¬ï¼ˆæˆ–ä¸¢å…¥ <a href="https://nodejs.org/api/repl.html#repl_repl">REPL</a>ï¼Œæœ¬æ–‡ä¸æ¶‰åŠåˆ°ï¼‰ï¼Œå®ƒå¯èƒ½ä¼šè°ƒç”¨ä¸€äº›å¼‚æ­¥çš„ APIã€è°ƒåº¦å®šæ—¶å™¨ï¼Œæˆ–è€…è°ƒç”¨ <code>process.nextTick()</code>ï¼Œç„¶åå¼€å§‹å¤„ç†äº‹ä»¶å¾ªç¯ã€‚</p><p>ä¸‹é¢çš„å›¾è¡¨å±•ç¤ºäº†äº‹ä»¶å¾ªç¯æ“ä½œé¡ºåºçš„ç®€åŒ–æ¦‚è§ˆã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”Œâ”€&gt;â”‚           timers          â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚  â”‚     pending callbacks     â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚  â”‚       idle, prepare       â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   incoming:   â”‚</span><br><span class="line">â”‚  â”‚           poll            â”‚&lt;â”€â”€â”€â”€â”€â”¤  connections, â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   data, etc.  â”‚</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â”‚  â”‚           check           â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â””â”€â”€â”¤      close callbacks      â”‚</span><br><span class="line">   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/050990d127d64a85b69c915a05b2e4c4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="äº‹ä»¶å¾ªç¯å›¾"></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/74c76ae1f15e46d48ff67758a37b5511~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="äº‹ä»¶å¾ªç¯å›¾-ç»“æ„"></p><h2 id="äº‹ä»¶å¾ªç¯çš„å…­ä¸ªé˜¶æ®µ"><a href="#äº‹ä»¶å¾ªç¯çš„å…­ä¸ªé˜¶æ®µ" class="headerlink" title="äº‹ä»¶å¾ªç¯çš„å…­ä¸ªé˜¶æ®µ"></a>äº‹ä»¶å¾ªç¯çš„å…­ä¸ªé˜¶æ®µ</h2><ul><li><strong>timers</strong>: æ­¤é˜¶æ®µæ‰§è¡Œç”± <code>setTimeout()</code> å’Œ <code>setInterval()</code> æ’åºã€‚</li><li><strong>pending callbacks</strong>: æ‰§è¡Œ I/O å›è°ƒæ¨è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯ è¿­ä»£ã€‚</li><li><strong>idle, prepare</strong>: ä»…åœ¨å†…éƒ¨ä½¿ç”¨ã€‚</li><li><strong>poll</strong>: æ£€ç´¢æ–°çš„ I/O äº‹ä»¶; æ‰§è¡Œä¸ I/O ç›¸å…³çš„å‡ ä¹ä»»ä½•å›è°ƒï¼ˆç”±â€œè®¡æ—¶å™¨â€æˆ– â€œ<code>setImmediate()</code>â€æ‰€è®¾çš„ç´§é‚»å›è°ƒé™¤å¤–); node å°†åœ¨é€‚å½“æ—¶æœºåœ¨æ­¤å¤„æš‚åœã€‚</li><li><strong>check</strong>: <code>setImmediate()</code> å›è°ƒåœ¨æ­¤å¤„è¢«è°ƒç”¨ã€‚</li><li><strong>close callbacks</strong>ï¼šä¸€äº›å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼š<code>socket.on(&#39;close&#39;, ...)</code>ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9dfc78a7bb96429db52d0943c285d30b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="event loopæµç¨‹æ¢³ç†"></p><h3 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h3><p>ç”±äºè¿™äº›æ“ä½œä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½å¯èƒ½è°ƒåº¦ <em>æ›´å¤šçš„</em> æ“ä½œå¹¶ä¸”åœ¨ <strong>è½®è¯¢ï¼ˆpollï¼‰</strong> é˜¶æ®µè¢«å¤„ç†çš„æ–°äº‹ä»¶ä¼šè¢«å†…æ ¸æ’åˆ—ï¼Œ å¹¶ä¸”åœ¨å¤„ç†è½®è¯¢ä¸­çš„äº‹ä»¶æ—¶ï¼Œè½®è¯¢äº‹ä»¶å¯ä»¥æ’é˜Ÿã€‚å› æ­¤ï¼Œé•¿æ—¶é—´è¿è¡Œçš„å›è°ƒå¯ä»¥å…è®¸è½®è¯¢é˜¶æ®µè¿è¡Œé•¿äºè®¡æ—¶å™¨çš„ <strong>é˜ˆå€¼ï¼ˆthresholdï¼‰</strong>ã€‚</p><p>æ¯ä¸€ä¸ªé˜¶æ®µéƒ½ä¼šç»´æŠ¤ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ã€‚å¯ä»¥æŠŠæ¯ä¸€ä¸ªåœˆæƒ³è±¡æˆä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ã€‚è¿™å°±å’Œæµè§ˆå™¨ä¸ä¸€æ ·äº†ï¼Œæµè§ˆå™¨æœ€å¤šä¸¤ä¸ªé˜Ÿåˆ—ï¼ˆå®é˜Ÿåˆ—ã€å¾®é˜Ÿåˆ—ï¼‰ã€‚ä½†æ˜¯åœ¨nodeé‡Œè¾¹æœ‰å…­ä¸ªé˜Ÿåˆ—ã€‚åˆ°è¾¾ä¸€ä¸ªé˜Ÿåˆ—åï¼Œæ£€æŸ¥é˜Ÿåˆ—å†…æ˜¯å¦æœ‰ä»»åŠ¡ï¼ˆä¹Ÿå°±æ˜¯çœ‹ä¸‹æ˜¯å¦æœ‰å›è°ƒå‡½æ•°ï¼‰éœ€è¦æ‰§è¡Œã€‚å¦‚æœæœ‰ï¼Œå°±ä¾æ¬¡æ‰§è¡Œï¼Œç›´åˆ°å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€æ¸…ç©ºé˜Ÿåˆ—ã€‚å¦‚æœæ²¡æœ‰ä»»åŠ¡ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªé˜Ÿåˆ—å»æ£€æŸ¥ã€‚ç›´åˆ°æ‰€æœ‰é˜Ÿåˆ—æ£€æŸ¥ä¸€éï¼Œç®—ä¸€ä¸ªè½®è¯¢ã€‚å…¶ä¸­ï¼Œtimersã€pending callbackã€idle prepareç­‰æ‰§è¡Œå®Œæ¯•åï¼Œåˆ°è¾¾pollé˜Ÿåˆ—ã€‚</p><h2 id="å„é˜¶æ®µè¯¦è§£"><a href="#å„é˜¶æ®µè¯¦è§£" class="headerlink" title="å„é˜¶æ®µè¯¦è§£"></a>å„é˜¶æ®µè¯¦è§£</h2><h3 id="timersé˜¶æ®µ"><a href="#timersé˜¶æ®µ" class="headerlink" title="timersé˜¶æ®µ"></a>timersé˜¶æ®µ</h3><p>timerså¹¶éçœŸæ­£æ„ä¹‰ä¸Šçš„é˜Ÿåˆ—ï¼Œä»–å†…éƒ¨å­˜æ”¾çš„æ˜¯è®¡æ—¶å™¨ã€‚æ¯æ¬¡åˆ°è¾¾è¿™ä¸ªé˜Ÿåˆ—ï¼Œä¼šæ£€æŸ¥è®¡æ—¶å™¨çº¿ç¨‹å†…çš„æ‰€æœ‰è®¡æ—¶å™¨ï¼Œè®¡æ—¶å™¨çº¿ç¨‹å†…éƒ¨å¤šä¸ªè®¡æ—¶å™¨æŒ‰ç…§æ—¶é—´é¡ºåºæ’åºã€‚</p><p>æ£€æŸ¥è¿‡ç¨‹ï¼šå°†æ¯ä¸€ä¸ªè®¡æ—¶å™¨æŒ‰é¡ºåºåˆ†åˆ«è®¡ç®—ä¸€éï¼Œè®¡ç®—è¯¥è®¡æ—¶å™¨å¼€å§‹è®¡æ—¶çš„æ—¶é—´åˆ°å½“å‰æ—¶é—´æ˜¯å¦æ»¡è¶³è®¡æ—¶å™¨çš„é—´éš”å‚æ•°è®¾å®šï¼ˆæ¯”å¦‚1000msï¼Œè®¡ç®—è®¡æ—¶å™¨å¼€å§‹è®¡æ—¶åˆ°ç°åœ¨æ˜¯å¦æœ‰1mï¼‰ã€‚å½“æŸä¸ªè®¡æ—¶å™¨æ£€æŸ¥é€šè¿‡ï¼Œåˆ™æ‰§è¡Œå…¶å›è°ƒå‡½æ•°ã€‚</p><blockquote><p>ä»æŠ€æœ¯ä¸Šè®²ï¼Œ <a href="https://nodejs.org/zh-cn/docs/guides/event-loop-timers-and-nexttick#poll"><strong>è½®è¯¢</strong> é˜¶æ®µ</a> æ§åˆ¶æ‰§è¡Œè®¡æ—¶å™¨çš„æ—¶é—´ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> startTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(), <span class="keyword">new</span> <span class="built_in">Date</span>() - startTime);</span><br><span class="line">&#125;, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;node ç”Ÿå‘½å‘¨æœŸ&#x27;</span>, startTime);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fs.readFile(<span class="string">&#x27;./poll.js&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>, <span class="function"><span class="keyword">function</span> <span class="title">fsFunc</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> fsTime = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fs&#x27;</span>, fsTime);</span><br><span class="line">  <span class="comment">// pollé˜¶æ®µæ§ç€å®šæ—¶å™¨æ‰§è¡Œæ—¶é—´ï¼Œè¶…å‡ºäº†å…¶é˜ˆå€¼</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">new</span> <span class="built_in">Date</span>() - fsTime &lt; <span class="number">500</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;ç»“æŸæ­»å¾ªç¯&#x27;</span>, <span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ä¸Šè¿°ä»£ç è§£æï¼š</strong></p><ol><li>æ‰§è¡Œå…¨å±€ä¸Šä¸‹æ–‡ï¼Œæ‰“å°ã€Œnode ç”Ÿå‘½å‘¨æœŸ + æ—¶é—´ã€</li><li>è¯¢é—®æ˜¯å¦æœ‰event loop</li><li>æœ‰ï¼Œè¿›å…¥timersé˜Ÿåˆ—ï¼Œæ£€æŸ¥æ²¡æœ‰è®¡æ—¶å™¨ï¼ˆcpuå¤„ç†é€Ÿåº¦å¯ä»¥ï¼Œè¿™æ—¶è¿˜æ²¡åˆ°200msï¼‰</li><li>è½®è¯¢è¿›å…¥åˆ°pollï¼Œè¯»æ–‡ä»¶è¿˜æ²¡è¯»å®Œï¼ˆæ¯”å¦‚æ­¤æ—¶æ‰ç”¨äº†20msï¼‰ï¼Œå› æ­¤pollé˜Ÿåˆ—æ˜¯ç©ºçš„ï¼Œä¹Ÿæ²¡æœ‰ä»»åŠ¡å›è°ƒ</li><li>åœ¨pollé˜Ÿåˆ—ç­‰å¾…â€¦â€¦ä¸æ–­è½®è¯¢çœ‹æœ‰æ²¡æœ‰å›è°ƒ</li><li>æ–‡ä»¶è¯»å®Œï¼Œpollé˜Ÿåˆ—æœ‰äº†fsFuncå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”è¢«æ‰§è¡Œï¼Œè¾“å‡ºã€Œfs + æ—¶é—´ã€</li><li>åœ¨whileæ­»å¾ªç¯é‚£é‡Œå¡300æ¯«ç§’ï¼Œ</li><li>æ­»å¾ªç¯å¡åˆ°200msçš„æ—¶å€™ï¼Œf1å›è°ƒè¿›å…¥timersé˜Ÿåˆ—ã€‚ä½†æ­¤æ—¶pollé˜Ÿåˆ—å¾ˆå¿™ï¼Œå ç”¨äº†çº¿ç¨‹ï¼Œä¸ä¼šå‘ä¸‹æ‰§è¡Œã€‚</li><li>ç›´åˆ°300msåpollé˜Ÿåˆ—æ¸…ç©ºï¼Œè¾“å‡ºã€Œç»“æŸæ­»å¾ªç¯ + æ—¶é—´ã€</li><li>event loopèµ¶ç´§å‘ä¸‹èµ°</li><li>å†æ¥ä¸€è½®åˆ°timersï¼Œæ‰§è¡Œtimersé˜Ÿåˆ—é‡Œçš„f1å›è°ƒã€‚äºæ˜¯çœ‹åˆ°ã€ŒsetTimeout + æ—¶é—´ã€</li><li>timersé˜Ÿåˆ—æ¸…ç©ºï¼Œå›åˆ°pollé˜Ÿåˆ—ï¼Œæ²¡æœ‰ä»»åŠ¡ï¼Œç­‰å¾…ä¸€ä¼šã€‚</li><li>ç­‰å¾…æ—¶é—´å¤Ÿé•¿åï¼Œå‘ä¸‹å›åˆ°event loopã€‚</li><li>event loopæ£€æŸ¥æ²¡æœ‰å…¶ä»–å¼‚æ­¥ä»»åŠ¡äº†ï¼Œç»“æŸçº¿ç¨‹ï¼Œæ•´ä¸ªç¨‹åºoveré€€å‡ºã€‚</li></ol><h3 id="pending-callback-é˜¶æ®µ"><a href="#pending-callback-é˜¶æ®µ" class="headerlink" title="pending callback é˜¶æ®µ"></a>pending callback é˜¶æ®µ</h3><p>æ­¤é˜¶æ®µå¯¹æŸäº›ç³»ç»Ÿæ“ä½œï¼ˆå¦‚ TCP é”™è¯¯ç±»å‹ï¼‰æ‰§è¡Œå›è°ƒã€‚ä¾‹å¦‚ï¼Œå¦‚æœ TCP å¥—æ¥å­—åœ¨å°è¯•è¿æ¥æ—¶æ¥æ”¶åˆ° <code>ECONNREFUSED</code>ï¼Œåˆ™æŸäº› *nix çš„ç³»ç»Ÿå¸Œæœ›ç­‰å¾…æŠ¥å‘Šé”™è¯¯ã€‚è¿™å°†è¢«æ’é˜Ÿä»¥åœ¨ <strong>æŒ‚èµ·çš„å›è°ƒ</strong> é˜¶æ®µæ‰§è¡Œã€‚</p><h3 id="Poll-è½®è¯¢é˜¶æ®µ"><a href="#Poll-è½®è¯¢é˜¶æ®µ" class="headerlink" title="Poll è½®è¯¢é˜¶æ®µ"></a>Poll è½®è¯¢é˜¶æ®µ</h3><p>å¦‚æœpollä¸­æœ‰å›è°ƒå‡½æ•°éœ€è¦æ‰§è¡Œï¼Œä¾æ¬¡æ‰§è¡Œå›è°ƒï¼Œç›´åˆ°æ¸…ç©ºé˜Ÿåˆ—ã€‚</p><p>å¦‚æœpollä¸­æ²¡æœ‰å›è°ƒå‡½æ•°éœ€è¦æ‰§è¡Œï¼Œå·²ç»æ˜¯ç©ºé˜Ÿåˆ—äº†ã€‚åˆ™ä¼šåœ¨è¿™é‡Œç­‰å¾…ï¼Œç­‰å¾…å…¶ä»–é˜Ÿåˆ—ä¸­å‡ºç°å›è°ƒï¼Œ</p><ul><li>å¦‚æœå…¶ä»–é˜Ÿåˆ—ä¸­å‡ºç°å›è°ƒï¼Œåˆ™ä»pollå‘ä¸‹åˆ°overï¼Œç»“æŸè¯¥é˜¶æ®µï¼Œè¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚</li><li>å¦‚æœå…¶ä»–é˜Ÿåˆ—ä¹Ÿéƒ½æ²¡æœ‰å›è°ƒï¼Œåˆ™æŒç»­åœ¨pollé˜Ÿåˆ—ç­‰å¾…ï¼Œç›´åˆ°ä»»ä½•ä¸€ä¸ªé˜Ÿåˆ—å‡ºç°å›è°ƒåå†è¿›è¡Œå·¥ä½œã€‚ï¼ˆæ˜¯ä¸ªå°æ‡’è™«çš„å¤„äº‹æ–¹å¼ï¼‰</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;object&#x27;</span>);</span><br><span class="line">&#125;,Â <span class="number">5000</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;node&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ä»¥ä¸Šä»£ç çš„äº‹ä»¶æµç¨‹æ¢³ç†ï¼š</strong></p><ul><li>è¿›å…¥ä¸»çº¿ç¨‹ï¼Œæ‰§è¡ŒsetTimeout()ï¼Œå›è°ƒå‡½æ•°ä½œä¸ºå¼‚æ­¥ä»»åŠ¡è¢«æ”¾å…¥å¼‚æ­¥é˜Ÿåˆ—timersé˜Ÿåˆ—ä¸­ï¼Œæš‚æ—¶ä¸æ‰§è¡Œã€‚</li><li>ç»§ç»­å‘ä¸‹ï¼Œæ‰§è¡Œå®šæ—¶å™¨åè¾¹çš„consoleï¼Œæ‰“å°â€œnodeâ€ã€‚</li><li>åˆ¤æ–­æ˜¯å¦æœ‰äº‹ä»¶å¾ªç¯ã€‚æ˜¯ï¼Œèµ°ä¸€åœˆè½®è¯¢ï¼šä»timers - pending callback - idle prepareâ€¦â€¦</li><li>åˆ°pollé˜Ÿåˆ—åœä¸‹å¾ªç¯å¹¶ç­‰å¾…ã€‚</li><li>ç”±äºè¿™æ—¶å€™æ²¡åˆ°5ç§’ï¼Œtimersé˜Ÿåˆ—æ— ä»»åŠ¡ï¼Œæ‰€ä»¥ä¸€ç›´åœ¨pollé˜Ÿåˆ—å¡ç€ï¼ŒåŒæ—¶è½®è¯¢æ£€æŸ¥å…¶ä»–é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡ã€‚</li><li>ç­‰5ç§’åˆ°è¾¾ï¼ŒsetTimeoutçš„å›è°ƒå¡åˆ°timerså†…ï¼Œä¾‹è¡Œè½®è¯¢æ£€æŸ¥åˆ°timersé˜Ÿåˆ—æœ‰ä»»åŠ¡ï¼Œåˆ™å‘ä¸‹èµ°ï¼Œç»è¿‡checkã€close callbacksååˆ°è¾¾timersã€‚å°†timersé˜Ÿåˆ—æ¸…ç©ºã€‚</li><li>ç»§ç»­è½®è¯¢åˆ°pollç­‰å¾…ï¼Œè¯¢é—®æ˜¯å¦è¿˜éœ€è¦event loopï¼Œä¸éœ€è¦ï¼Œåˆ™åˆ°è¾¾overç»“æŸã€‚</li></ul><h3 id="Checké˜¶æ®µ"><a href="#Checké˜¶æ®µ" class="headerlink" title="Checké˜¶æ®µ"></a>Checké˜¶æ®µ</h3><p><strong>æ£€æŸ¥é˜¶æ®µï¼ˆä½¿ç”¨ setImmediate çš„å›è°ƒä¼šç›´æ¥è¿›å…¥è¿™ä¸ªé˜Ÿåˆ—ï¼‰</strong></p><h4 id="checké˜Ÿåˆ—çš„å®é™…å·¥ä½œåŸç†"><a href="#checké˜Ÿåˆ—çš„å®é™…å·¥ä½œåŸç†" class="headerlink" title="checké˜Ÿåˆ—çš„å®é™…å·¥ä½œåŸç†"></a>checké˜Ÿåˆ—çš„å®é™…å·¥ä½œåŸç†</h4><p>çœŸæ­£çš„é˜Ÿåˆ—ï¼Œé‡Œè¾¹æ‰”çš„å°±æ˜¯å¾…æ‰§è¡Œçš„å›è°ƒå‡½æ•°çš„é›†åˆã€‚ç±»ä¼¼[fn,fn]è¿™ç§å½¢å¼çš„ã€‚æ¯æ¬¡åˆ°è¾¾checkè¿™ä¸ªé˜Ÿåˆ—åï¼Œç«‹å³æŒ‰é¡ºåºæ‰§è¡Œå›è°ƒå‡½æ•°å³å¯ã€ç±»ä¼¼äº[fn1,fn2].forEach((fn)=&gt;fn())çš„æ„Ÿè§‰ã€‘</p><h4 id="setImmediate-ä¸-setTimeout-0-çš„å¯¹æ¯”"><a href="#setImmediate-ä¸-setTimeout-0-çš„å¯¹æ¯”" class="headerlink" title="setImmediate() ä¸ setTimeout(0) çš„å¯¹æ¯”"></a>setImmediate() ä¸ setTimeout(0) çš„å¯¹æ¯”</h4><ul><li>setImmediateçš„å›è°ƒæ˜¯å¼‚æ­¥çš„ï¼Œå’ŒsetTimeoutå›è°ƒæ€§è´¨ä¸€è‡´ã€‚</li><li>setImmediateå›è°ƒåœ¨<code>check</code>é˜Ÿåˆ—ï¼ŒsetTimeoutå›è°ƒåœ¨<code>timers</code>é˜Ÿåˆ—ï¼ˆæ¦‚å¿µæ„ä¹‰ï¼Œå®é™…åœ¨<strong>è®¡æ—¶å™¨çº¿ç¨‹</strong>ï¼Œåªæ˜¯setTimeoutåœ¨timersé˜Ÿåˆ—åšæ£€æŸ¥è°ƒç”¨è€Œå·²ã€‚è¯¦ç»†çœ‹timersçš„å·¥ä½œåŸç†ï¼‰ã€‚</li><li>setImmediateå‡½æ•°è°ƒç”¨åï¼Œå›è°ƒå‡½æ•°ä¼šç«‹å³<em>push</em>åˆ°checké˜Ÿåˆ—ï¼Œå¹¶åœ¨ä¸‹æ¬¡eventloopæ—¶è¢«æ‰§è¡Œã€‚setTimeoutå‡½æ•°è°ƒç”¨åï¼Œè®¡æ—¶å™¨çº¿ç¨‹å¢åŠ ä¸€ä¸ªå®šæ—¶å™¨ä»»åŠ¡ï¼Œä¸‹æ¬¡eventloopæ—¶ä¼šåœ¨timersé˜¶æ®µé‡Œ<em>æ£€æŸ¥åˆ¤æ–­</em>å®šæ—¶å™¨ä»»åŠ¡æ˜¯å¦åˆ°è¾¾æ—¶é—´ï¼Œåˆ°äº†åˆ™æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</li><li>ç»¼ä¸Šï¼ŒsetImmediateçš„è¿ç®—é€Ÿåº¦æ¯”setTimeout(0)çš„è¦å¿«ï¼Œå› ä¸ºsetTimeoutè¿˜éœ€è¦å¼€è®¡æ—¶å™¨çº¿ç¨‹ï¼Œå¹¶å¢åŠ è®¡ç®—çš„å¼€é”€ã€‚</li></ul><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;,Â <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">setImmediate(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediate&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰“å°é¡ºåºä¸å®šï¼Œ<em>è¿™æ˜¯å› ä¸ºsetTimeoutçš„é—´éš”æ•°æœ€å°å¡«1ï¼Œè™½ç„¶ä¸‹è¾¹ä»£ç å¡«äº†0ã€‚ä½†å®é™…è®¡ç®—æœºæ‰§è¡Œå½“1msç®—ã€‚</em>ï¼ˆè¿™é‡Œæ³¨æ„å’Œæµè§ˆå™¨çš„è®¡æ—¶å™¨åŒºåˆ†ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼ŒsetIntervalçš„æœ€å°é—´éš”æ•°ä¸º10msï¼Œå°äº10msåˆ™ä¼šè¢«è®¾ç½®ä¸º10ï¼›è®¾å¤‡ä¾›ç”µçŠ¶æ€ä¸‹ï¼Œé—´éš”æœ€å°ä¸º16.6msã€‚ï¼‰</p><p>ä»¥ä¸Šä»£ç ï¼Œä¸»çº¿ç¨‹è¿è¡Œçš„æ—¶å€™ï¼ŒsetTimeoutå‡½æ•°è°ƒç”¨ï¼Œè®¡æ—¶å™¨çº¿ç¨‹å¢åŠ ä¸€ä¸ªå®šæ—¶å™¨ä»»åŠ¡ã€‚setImmediateå‡½æ•°è°ƒç”¨åï¼Œå…¶å›è°ƒå‡½æ•°ç«‹å³pushåˆ°checké˜Ÿåˆ—ã€‚ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ã€‚</p><p>eventloopåˆ¤æ–­æ—¶ï¼Œå‘ç°timerså’Œchecké˜Ÿåˆ—æœ‰å†…å®¹ï¼Œè¿›å…¥å¼‚æ­¥è½®è¯¢ï¼š</p><p>ç¬¬ä¸€ç§æƒ…å†µï¼šç­‰åˆ°äº†timersé‡Œè¿™æ®µæ—¶é—´ï¼Œå¯èƒ½è¿˜æ²¡æœ‰1msçš„æ—¶é—´ï¼Œå®šæ—¶å™¨ä»»åŠ¡é—´éš”æ—¶é—´çš„æ¡ä»¶ä¸æˆç«‹æ‰€ä»¥timersé‡Œè¿˜æ²¡æœ‰å›è°ƒå‡½æ•°ã€‚ç»§ç»­å‘ä¸‹åˆ°äº†checké˜Ÿåˆ—é‡Œï¼Œè¿™æ—¶å€™setImmediateçš„å›è°ƒå‡½æ•°æ—©å·²ç­‰å€™å¤šæ—¶ï¼Œç›´æ¥æ‰§è¡Œã€‚è€Œå†ä¸‹æ¬¡eventloopåˆ°è¾¾timersé˜Ÿåˆ—ï¼Œå®šæ—¶å™¨ä¹Ÿæ—©å·²æˆç†Ÿï¼Œæ‰ä¼šæ‰§è¡ŒsetTimeoutçš„å›è°ƒä»»åŠ¡ã€‚äºæ˜¯é¡ºåºå°±æ˜¯ã€ŒsetImmediate -&gt; setTimeoutã€ã€‚</p><p>ç¬¬äºŒç§æƒ…å†µï¼šä½†ä¹Ÿæœ‰å¯èƒ½åˆ°äº†timersé˜¶æ®µæ—¶ï¼Œè¶…è¿‡äº†1msã€‚äºæ˜¯è®¡ç®—å®šæ—¶å™¨æ¡ä»¶æˆç«‹ï¼ŒsetTimeoutçš„å›è°ƒå‡½æ•°è¢«ç›´æ¥æ‰§è¡Œã€‚eventloopå†å‘ä¸‹åˆ°è¾¾checké˜Ÿåˆ—æ‰§è¡ŒsetImmediateçš„å›è°ƒã€‚æœ€ç»ˆé¡ºåºå°±æ˜¯ã€ŒsetTimeout -&gt; setImmediateã€äº†ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>åªæ¯”è¾ƒè¿™ä¸¤ä¸ªå‡½æ•°çš„æƒ…å†µä¸‹ï¼ŒäºŒè€…çš„æ‰§è¡Œé¡ºåºæœ€ç»ˆç»“æœå–å†³äºå½“ä¸‹è®¡ç®—æœºçš„è¿è¡Œç¯å¢ƒä»¥åŠè¿è¡Œé€Ÿåº¦ã€‚</strong></p><p><strong>ç¤ºä¾‹2ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">------------------<span class="built_in">setTimeout</span>æµ‹è¯•ï¼š-------------------</span><br><span class="line"><span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">test</span>(<span class="params"></span>)Â </span>&#123;</span><br><span class="line">Â Â <span class="keyword">if</span>Â (iÂ &lt;Â <span class="number">1000</span>)Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">setTimeout</span>(test,Â <span class="number">0</span>)</span><br><span class="line">Â Â Â Â i++</span><br><span class="line">Â Â &#125;Â <span class="keyword">else</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.timeEnd(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">------------------setImmediateæµ‹è¯•ï¼š-------------------</span><br><span class="line"><span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;setImmediate&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">test</span>(<span class="params"></span>)Â </span>&#123;</span><br><span class="line">Â Â <span class="keyword">if</span>Â (iÂ &lt;Â <span class="number">1000</span>)Â &#123;</span><br><span class="line">Â Â Â Â setImmediate(test)</span><br><span class="line">Â Â Â Â i++</span><br><span class="line">Â Â &#125;Â <span class="keyword">else</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.timeEnd(<span class="string">&#x27;setImmediate&#x27;</span>);</span><br><span class="line">Â Â &#125;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç»“æœï¼š</strong>å¯è§<strong>setTimeoutè¿œæ¯”setImmediateè€—æ—¶å¤šå¾—å¤š</strong>ï¼Œè¿™æ˜¯å› ä¸ºsetTimeoutä¸ä»…æœ‰ä¸»ä»£ç æ‰§è¡Œçš„æ—¶é—´æ¶ˆè€—ã€‚è¿˜æœ‰åœ¨timersé˜Ÿåˆ—é‡Œï¼Œå¯¹äºè®¡æ—¶å™¨çº¿ç¨‹ä¸­å„ä¸ªå®šæ—¶ä»»åŠ¡çš„è®¡ç®—æ—¶é—´ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdc9d3488f53493ea71ffe079e65b0bb~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="setTimeoutä¸setImmediateæ—¶é—´å·®è·"></p><p><strong>ç¤ºä¾‹3ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â è¯´è¯´ä¸‹è¾¹ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œå…ˆæ‰“å°å“ªä¸ªï¼Ÿ</span></span><br><span class="line"><span class="keyword">const</span>Â fsÂ =Â <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.readFile(<span class="string">&#x27;./poll.js&#x27;</span>,Â <span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>),Â <span class="number">0</span>)</span><br><span class="line">Â Â setImmediate(<span class="function">()Â =&gt;</span>Â <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediate&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç»“æœï¼š</strong><code>setImmediate</code> å…ˆäº  `setTimeoutï¼Œå› ä¸ºfså„ä¸ªå‡½æ•°çš„å›è°ƒæ˜¯æ”¾åœ¨pollé˜Ÿåˆ—çš„ã€‚å½“ç¨‹åºholdingåœ¨pollé˜Ÿåˆ—åï¼Œå‡ºç°å›è°ƒç«‹å³æ‰§è¡Œã€‚å›è°ƒå†…æ‰§è¡ŒsetTimeoutå’ŒsetImmediateçš„å‡½æ•°åï¼Œchecké˜Ÿåˆ—ç«‹å³å¢åŠ äº†å›è°ƒã€‚å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼Œè½®è¯¢æ£€æŸ¥å…¶ä»–é˜Ÿåˆ—æœ‰å†…å®¹ï¼Œç¨‹åºç»“æŸpollé˜Ÿåˆ—çš„holdingå‘ä¸‹æ‰§è¡Œã€‚checkæ˜¯pollé˜¶æ®µçš„ç´§æ¥ç€çš„ä¸‹ä¸€ä¸ªã€‚æ‰€ä»¥åœ¨å‘ä¸‹çš„è¿‡ç¨‹ä¸­ï¼Œå…ˆæ‰§è¡Œchecké˜¶æ®µå†…çš„å›è°ƒï¼Œä¹Ÿå°±æ˜¯å…ˆæ‰“å°setImmediateã€‚åˆ°ä¸‹ä¸€è½®å¾ªç¯ï¼Œåˆ°è¾¾timersé˜Ÿåˆ—ï¼Œæ£€æŸ¥setTimeoutè®¡æ—¶å™¨ç¬¦åˆæ¡ä»¶ï¼Œåˆ™å®šæ—¶å™¨å›è°ƒè¢«æ‰§è¡Œã€‚</p><h2 id="nextTick-ä¸-Promise"><a href="#nextTick-ä¸-Promise" class="headerlink" title="nextTick ä¸ Promise"></a>nextTick ä¸ Promise</h2><p>è¯´å®Œå®ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥è¯´ä¸‹å¾®ä»»åŠ¡</p><ul><li>äºŒè€…éƒ½æ˜¯ã€Œå¾®é˜Ÿåˆ—ã€ï¼Œæ‰§è¡Œå¼‚æ­¥å¾®ä»»åŠ¡ã€‚</li><li>äºŒè€…ä¸æ˜¯äº‹ä»¶å¾ªç¯çš„ä¸€éƒ¨åˆ†ï¼Œç¨‹åºä¹Ÿä¸ä¼šå¼€å¯é¢å¤–çš„çº¿ç¨‹å»å¤„ç†ç›¸å…³ä»»åŠ¡ã€‚ï¼ˆç†è§£ï¼špromiseé‡Œå‘ç½‘ç»œè¯·æ±‚ï¼Œé‚£æ˜¯ç½‘ç»œè¯·æ±‚å¼€çš„ç½‘ç»œçº¿ç¨‹ï¼Œè·ŸPromiseè¿™ä¸ªå¾®ä»»åŠ¡æ²¡å…³ç³»ï¼‰</li><li>å¾®é˜Ÿåˆ—è®¾ç«‹çš„ç›®çš„å°±æ˜¯è®©ä¸€äº›ä»»åŠ¡ã€Œé©¬ä¸Šã€ã€ã€Œç«‹å³ã€ä¼˜å…ˆæ‰§è¡Œã€‚</li><li>nextTickä¸Promiseæ¯”è¾ƒï¼ŒnextTickçš„çº§åˆ«æ›´é«˜ã€‚</li></ul><p><strong>ç¤ºä¾‹1ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Â å…ˆæ€è€ƒä¸‹åˆ—ä»£ç çš„æ‰§è¡Œé¡ºåº</span></span><br><span class="line">setImmediate(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediate&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ 1&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ 2&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;global&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promiseÂ 1&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ promise&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æœ€ç»ˆé¡ºåºï¼š</strong></p><ol><li>global</li><li>nextTick 1</li><li>nextTick 2</li><li>promise 1</li><li>nextTick in promise</li><li>setImmediate</li></ol><p><strong>ç»¼åˆç¤ºä¾‹ï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeoutÂ 100&#x27;</span>);</span><br><span class="line">Â Â <span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeoutÂ 100Â -Â 0&#x27;</span>);</span><br><span class="line">Â Â Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ setTimeoutÂ 100Â -Â 0&#x27;</span>);</span><br><span class="line">Â Â Â Â &#125;)</span><br><span class="line">Â Â &#125;,Â <span class="number">0</span>)</span><br><span class="line">Â Â setImmediate(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediateÂ inÂ setTimeoutÂ 100&#x27;</span>);</span><br><span class="line">Â Â Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ setImmediateÂ inÂ setTimeoutÂ 100&#x27;</span>);</span><br><span class="line">Â Â Â Â &#125;)</span><br><span class="line">Â Â &#125;);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ setTimeout100&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">Â Â <span class="built_in">Promise</span>.resolve().then(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promiseÂ inÂ setTimeout100&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;,Â <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>Â fsÂ =Â <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.readFile(<span class="string">&#x27;./1.poll.js&#x27;</span>,Â <span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;pollÂ 1&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ pollÂ ======&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeoutÂ 0&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ setTimeout&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;,Â <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeoutÂ 1&#x27;</span>);</span><br><span class="line">Â Â <span class="built_in">Promise</span>.resolve().then(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promiseÂ inÂ setTimeout1&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ setTimeout1&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;,Â <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">setImmediate(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediate&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ setImmediate&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ 1&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ 2&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;globalÂ ------&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promiseÂ 1&#x27;</span>);</span><br><span class="line">Â Â process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTickÂ inÂ promise&#x27;</span>);</span><br><span class="line">Â Â &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**Â æ‰§è¡Œé¡ºåºå¦‚ä¸‹</span></span><br><span class="line"><span class="comment">globalÂ ------</span></span><br><span class="line"><span class="comment">nextTickÂ 1</span></span><br><span class="line"><span class="comment">nextTickÂ 2</span></span><br><span class="line"><span class="comment">promiseÂ 1</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ promise</span></span><br><span class="line"><span class="comment">setTimeoutÂ 0Â //Â è§£é‡Šé—®é¢˜1.Â æ²¡æœ‰ä¸Šè¾¹çš„nextTickå’Œpromiseï¼ŒsetTimeoutå’ŒsetImmediateçš„é¡ºåºä¸ä¸€å®šï¼Œæœ‰äº†ä»¥åè‚¯å®šæ˜¯0å…ˆå¼€å§‹ã€‚</span></span><br><span class="line"><span class="comment">//Â å¯è§ï¼Œæ‰§è¡Œä¸€ä¸ªé˜Ÿåˆ—ä¹‹å‰ï¼Œå°±å…ˆæ£€æŸ¥å¹¶æ‰§è¡Œäº†nextTickå’Œpromiseå¾®é˜Ÿåˆ—</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ setTimeout</span></span><br><span class="line"><span class="comment">setTimeoutÂ 1</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ setTimeout1</span></span><br><span class="line"><span class="comment">promiseÂ inÂ setTimeout1</span></span><br><span class="line"><span class="comment">setImmediate</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ setImmediate</span></span><br><span class="line"><span class="comment">pollÂ 1</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ pollÂ ======</span></span><br><span class="line"><span class="comment">setTimeoutÂ 100</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ setTimeout100</span></span><br><span class="line"><span class="comment">promiseÂ inÂ setTimeout100</span></span><br><span class="line"><span class="comment">setImmediateÂ inÂ setTimeoutÂ 100</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ setImmediateÂ inÂ setTimeoutÂ 100</span></span><br><span class="line"><span class="comment">setTimeoutÂ 100Â -Â 0</span></span><br><span class="line"><span class="comment">nextTickÂ inÂ setTimeoutÂ 100Â -Â 0</span></span><br><span class="line"><span class="comment">Â */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œé¡ºåºåŠå…·ä½“åŸå› è¯´æ˜å¦‚ä¸‹ï¼š</p><ol><li><code>global</code> ï¼šä¸»çº¿ç¨‹åŒæ­¥ä»»åŠ¡ï¼Œç‡å…ˆæ‰§è¡Œæ²¡æ¯›ç—…</li><li><code>nextTick 1</code>ï¼šæ‰§è¡Œå¼‚æ­¥å®ä»»åŠ¡ä¹‹å‰ï¼Œæ¸…ç©ºå¼‚æ­¥å¾®ä»»åŠ¡ï¼ŒnextTickä¼˜å…ˆçº§é«˜ï¼Œå…ˆè¡Œä¸€æ­¥</li><li><code>nextTick 2</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œç«‹å³ç‡å…ˆæ‰§è¡Œ</li><li><code>promise 1</code>ï¼šæ‰§è¡Œå¼‚æ­¥å®ä»»åŠ¡ä¹‹å‰ï¼Œæ¸…ç©ºå¼‚æ­¥å¾®ä»»åŠ¡ï¼ŒPromiseçš„ä¼˜å…ˆçº§ä½ï¼Œæ‰€ä»¥åœ¨nextTickå®Œäº†ä»¥åç«‹å³æ‰§è¡Œ</li><li><code>nextTick in promise</code>ï¼šæ¸…ç©ºPromiseé˜Ÿåˆ—çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°nextTickå¾®ä»»åŠ¡ï¼Œç«‹å³æ‰§è¡Œã€æ¸…ç©º</li><li><code>setTimeout 0</code>ï¼š è§£é‡Šç¬¬ä¸€ä¸ªé—®é¢˜. æ²¡æœ‰ä¸Šè¾¹çš„nextTickå’Œpromiseï¼Œåªæœ‰setTimeoutå’ŒsetImmediateæ—¶ä»–ä¿©çš„æ‰§è¡Œé¡ºåºä¸ä¸€å®šã€‚æœ‰äº†ä»¥åè‚¯å®šæ˜¯0å…ˆå¼€å§‹ã€‚å¯è§ï¼Œæ‰§è¡Œä¸€ä¸ªå®é˜Ÿåˆ—ä¹‹å‰ï¼Œå°±å…ˆæŒ‰é¡ºåºæ£€æŸ¥å¹¶æ‰§è¡Œäº†nextTickå’Œpromiseå¾®é˜Ÿåˆ—ã€‚ç­‰å¾®é˜Ÿåˆ—å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼ŒsetTimeout(0)çš„æ—¶æœºä¹Ÿæˆç†Ÿäº†ï¼Œå°±è¢«æ‰§è¡Œã€‚</li><li><code>nextTick in setTimeout</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œç«‹å³ç‡å…ˆæ‰§è¡Œ <em>ã€è¿™ç§å›è°ƒå‡½æ•°é‡Œçš„å¾®ä»»åŠ¡ï¼Œæˆ‘ä¸èƒ½ç¡®å®šæ˜¯ç´§éšåŒæ­¥ä»»åŠ¡æ‰§è¡Œçš„ï¼›è¿˜æ˜¯æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰ä¸‹ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå‰å†æ¸…ç©ºçš„ä»–ä»¬ã€‚ä½†æ˜¯é¡ºåºçœ‹ä¸Šå»å’Œç«‹å³æ‰§è¡Œä»–ä»¬ä¸€æ ·ã€‚ä¸è¿‡æˆ‘æ¯”è¾ƒå€¾å‘äºæ˜¯åè€…ï¼šå…ˆæ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…ï¼Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå‰æ¸…ç©ºä»–ä»¬ã€‚ã€‘</em></li><li><code>setTimeout 1</code>ï¼šå› ä¸ºæ‰§è¡Œå¾®ä»»åŠ¡è€—è´¹æ—¶é—´ï¼Œå¯¼è‡´æ­¤æ—¶timersé‡Œåˆ¤æ–­ä¸¤ä¸ª0å’Œ1çš„setTimeoutè®¡æ—¶å™¨å·²ç»ç»“æŸï¼Œæ‰€ä»¥ä¸¤ä¸ªsetTimeoutå›è°ƒéƒ½å·²åŠ å…¥é˜Ÿåˆ—å¹¶è¢«æ‰§è¡Œ</li><li><code>nextTick in setTimeout1</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œç«‹å³ç‡å…ˆæ‰§è¡Œ <em>ã€å¯èƒ½æ˜¯ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰æ¸…ç©ºå¾®ä»»åŠ¡ã€‘</em></li><li><code>promise in setTimeout1</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªPromiseå¾®ä»»åŠ¡ï¼Œç«‹å³ç´§éšæ‰§è¡Œ <em>ã€å¯èƒ½æ˜¯ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰æ¸…ç©ºå¾®ä»»åŠ¡ã€‘</em></li><li><code>setImmediate</code>ï¼špollé˜Ÿåˆ—å›è°ƒæ—¶æœºæœªåˆ°ï¼Œå…ˆè¡Œå‘ä¸‹åˆ°checké˜Ÿåˆ—ï¼Œæ¸…ç©ºé˜Ÿåˆ—ï¼Œç«‹å³æ‰§è¡ŒsetImmediateå›è°ƒ</li><li><code>nextTick in setImmediate</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œç«‹å³ç‡å…ˆæ‰§è¡Œ <em>ã€å¯èƒ½æ˜¯ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰æ¸…ç©ºå¾®ä»»åŠ¡ã€‘</em></li><li><code>poll 1</code>ï¼špollé˜Ÿåˆ—å®é™…æˆç†Ÿï¼Œå›è°ƒè§¦å‘ï¼ŒåŒæ­¥ä»»åŠ¡æ‰§è¡Œã€‚</li><li><code>nextTick in poll</code> ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œç«‹å³ç‡å…ˆæ‰§è¡Œ <em>ã€å¯èƒ½æ˜¯ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰æ¸…ç©ºå¾®ä»»åŠ¡ã€‘</em></li><li><code>setTimeout 100</code>ï¼šå®šæ—¶å™¨ä»»åŠ¡åˆ°è¾¾æ—¶é—´ï¼Œæ‰§è¡Œå›è°ƒã€‚å¹¶åœ¨å›è°ƒé‡Œå¾€å¾®ä»»åŠ¡æ¨å…¥äº†nextTickã€Promiseï¼Œå¾€å®ä»»åŠ¡çš„checké‡Œæ¨å…¥äº†setImmediateçš„å›è°ƒã€‚å¹¶ä¸”ä¹Ÿå¼€å¯äº†è®¡æ—¶å™¨çº¿ç¨‹ï¼Œå¾€timersé‡Œå¢åŠ äº†ä¸‹ä¸€è½®å›è°ƒçš„å¯èƒ½ã€‚</li><li><code>nextTick in setTimeout100</code>ï¼šå®ä»»åŠ¡å‘ä¸‹å‰ï¼Œç‡å…ˆæ‰§è¡Œå®šæ—¶å™¨å›è°ƒå†…æ–°å¢çš„å¾®ä»»åŠ¡-nextTick <strong>ã€è¿™é‡Œå°±èƒ½ç¡®å®šäº†ï¼Œæ˜¯ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰æ¸…ç©ºå¾®ä»»åŠ¡çš„æµç¨‹ã€‘</strong></li><li><code>promise in setTimeout100</code>ï¼šç´§æ¥ç€æ‰§è¡Œå®šæ—¶å™¨å›è°ƒå†…æ–°å¢çš„å¾®ä»»åŠ¡-Promise <strong>ã€æ¸…ç©ºå®ŒnextTickæ¸…ç©ºPromiseçš„é¡ºåºã€‘</strong></li><li><code>setImmediate in setTimeout 100</code>ï¼šè¿™æ¬¡setImmediateæ¯”setTimeout(0)å…ˆæ‰§è¡Œçš„åŸå› æ˜¯ï¼šæµç¨‹ä»timerså‘åèµ°åˆ°checké˜Ÿåˆ—ï¼Œå·²ç»æœ‰äº†setImmediateçš„å›è°ƒï¼Œç«‹å³æ‰§è¡Œã€‚</li><li><code>nextTick in setImmediate in setTimeout 100</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œ<strong>ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰ç‡å…ˆæ¸…ç©ºå¾®ä»»åŠ¡</strong></li><li><code>setTimeout 100 - 0</code>ï¼šè½®è¯¢åˆä¸€æ¬¡å›åˆ°timersï¼Œæ‰§è¡Œ100-0çš„å›è°ƒã€‚</li><li><code>nextTick in setTimeout 100 - 0</code>ï¼šæ‰§è¡Œå®Œä¸Šè¾¹è¿™å¥ä»£ç ï¼Œåˆä¸€ä¸ªnextTickå¾®ä»»åŠ¡ï¼Œ<strong>ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‰ç‡å…ˆæ¸…ç©ºå¾®ä»»åŠ¡ã€‚</strong></li></ol><p><strong>ç»¼åˆç¤ºä¾‹2ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">async1</span>(<span class="params"></span>)Â </span>&#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;asyncÂ start&#x27;</span>);</span><br><span class="line">Â Â <span class="keyword">await</span>Â async2();</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;asyncÂ end&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span>Â <span class="function"><span class="keyword">function</span>Â <span class="title">async2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;scriptÂ start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeoutÂ 0&#x27;</span>);</span><br><span class="line">&#125;,Â <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeoutÂ 3&#x27;</span>);</span><br><span class="line">&#125;,Â <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">setImmediate(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;setImmediate&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;nextTick&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">async1();</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span>Â <span class="built_in">Promise</span>(<span class="function">(<span class="params">res</span>)Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">Â Â res();</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;).then(<span class="function">()Â =&gt;</span>Â &#123;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;promiseÂ 3&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;scriptÂ end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">scriptÂ start</span></span><br><span class="line"><span class="comment">asyncÂ start</span></span><br><span class="line"><span class="comment">async2</span></span><br><span class="line"><span class="comment">promise1</span></span><br><span class="line"><span class="comment">promise2</span></span><br><span class="line"><span class="comment">scriptÂ end</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">nextTick</span></span><br><span class="line"><span class="comment">asyncÂ end</span></span><br><span class="line"><span class="comment">promiseÂ 3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">//Â åè¾¹è¿™ä»¨çš„è¿è¡Œé¡ºåºå°±æ˜¯éªŒè¯ä½ ç”µè„‘è¿ç®—é€Ÿåº¦çš„æ—¶å€™äº†ã€‚</span></span><br><span class="line"><span class="comment">é€Ÿåº¦æœ€å¥½ï¼ˆæ‰§è¡Œä¸Šè¾¹çš„åŒæ­¥ä»£ç Â +Â å¾®ä»»åŠ¡Â +Â è®¡æ—¶å™¨è¿ç®—ç”¨äº†ä¸åˆ°0msï¼‰ï¼š</span></span><br><span class="line"><span class="comment">setImmediate</span></span><br><span class="line"><span class="comment">setTimeoutÂ 0</span></span><br><span class="line"><span class="comment">setTimeoutÂ 3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">é€Ÿåº¦ä¸­ç­‰ï¼ˆæ‰§è¡Œä¸Šè¾¹çš„åŒæ­¥ä»£ç Â +Â å¾®ä»»åŠ¡Â +Â è®¡æ—¶å™¨è¿ç®—ç”¨äº†0~3msä»¥ä¸Šï¼‰ï¼š</span></span><br><span class="line"><span class="comment">setTimeoutÂ 0</span></span><br><span class="line"><span class="comment">setImmediate</span></span><br><span class="line"><span class="comment">setTimeoutÂ 3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">é€Ÿåº¦è¾ƒå·®ï¼ˆæ‰§è¡Œä¸Šè¾¹çš„åŒæ­¥ä»£ç Â +Â å¾®ä»»åŠ¡Â +Â è®¡æ—¶å™¨è¿ç®—ç”¨äº†3msä»¥ä¸Šï¼‰ï¼š</span></span><br><span class="line"><span class="comment">setTimeoutÂ 0</span></span><br><span class="line"><span class="comment">setTimeoutÂ 3</span></span><br><span class="line"><span class="comment">setImmediate</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>è„‘å›¾</strong></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/634ceee86ce5439caff966c02cdc98c2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="Nodeç”Ÿå‘½å‘¨æœŸæ ¸å¿ƒé˜¶æ®µ"></p>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥é’©å­-å¼‚æ­¥ä¸Šä¸‹æ–‡å­˜å‚¨</title>
      <link href="post/node-asyncLocalStorage/"/>
      <url>post/node-asyncLocalStorage/</url>
      
        <content type="html"><![CDATA[<h1 id="Asynclocalstorage"><a href="#Asynclocalstorage" class="headerlink" title="Asynclocalstorage"></a>Asynclocalstorage</h1><p>æ­¤ç±»åˆ›å»ºé€šè¿‡å¼‚æ­¥æ“ä½œä¿æŒä¸€è‡´çš„å­˜å‚¨ã€‚</p><p>è™½ç„¶ä½ å¯ä»¥åœ¨ <code>node:async_hooks</code> æ¨¡å—ä¹‹ä¸Šåˆ›å»ºè‡ªå·±çš„å®ç°ï¼Œä½† <code>AsyncLocalStorage</code> åº”è¯¥æ˜¯é¦–é€‰ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§é«˜æ€§èƒ½ä¸”å†…å­˜å®‰å…¨çš„å®ç°ï¼Œæ¶‰åŠå®ç°èµ·æ¥å¹¶ä¸æ˜æ˜¾çš„é‡è¦ä¼˜åŒ–ã€‚</p><p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ <code>AsyncLocalStorage</code> æ„å»ºä¸€ä¸ªç®€å•çš„è®°å½•å™¨ï¼Œå®ƒä¸ºä¼ å…¥çš„ HTTP è¯·æ±‚åˆ†é… IDï¼Œå¹¶å°†å®ƒä»¬åŒ…å«åœ¨æ¯ä¸ªè¯·æ±‚ä¸­è®°å½•çš„æ¶ˆæ¯ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&#x27;node:http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; AsyncLocalStorage &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> asyncLocalStorage = <span class="keyword">new</span> AsyncLocalStorage();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logWithId</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> id = asyncLocalStorage.getStore();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;id !== <span class="literal">undefined</span> ? id : <span class="string">&#x27;-&#x27;</span>&#125;</span>:`</span>, msg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> idSeq = <span class="number">0</span>;</span><br><span class="line">http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  asyncLocalStorage.run(idSeq++, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    logWithId(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line">    <span class="comment">// Imagine any chain of async operations here</span></span><br><span class="line">    setImmediate(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      logWithId(<span class="string">&#x27;finish&#x27;</span>);</span><br><span class="line">      res.end();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;).listen(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line">http.get(<span class="string">&#x27;http://localhost:8080&#x27;</span>);</span><br><span class="line">http.get(<span class="string">&#x27;http://localhost:8080&#x27;</span>);</span><br><span class="line"><span class="comment">// Prints:</span></span><br><span class="line"><span class="comment">//   0: start</span></span><br><span class="line"><span class="comment">//   1: start</span></span><br><span class="line"><span class="comment">//   0: finish</span></span><br><span class="line"><span class="comment">//   1: finish</span></span><br></pre></td></tr></table></figure><p><code>AsyncLocalStorage</code> çš„æ¯ä¸ªå®ä¾‹éƒ½ç»´æŠ¤ä¸€ä¸ªç‹¬ç«‹çš„å­˜å‚¨ä¸Šä¸‹æ–‡ã€‚ å¤šä¸ªå®ä¾‹å¯ä»¥å®‰å…¨åœ°åŒæ—¶å­˜åœ¨ï¼Œè€Œä¸ä¼šæœ‰å¹²æ‰°å½¼æ­¤æ•°æ®çš„é£é™©ã€‚</p><h1 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h1><blockquote><p>æ–°å¢äº 18.16.0</p></blockquote><h2 id="AsyncLocalStorage-bind-fn"><a href="#AsyncLocalStorage-bind-fn" class="headerlink" title="AsyncLocalStorage.bind(fn)"></a>AsyncLocalStorage.bind(fn)</h2><p><code>fn</code> ç»‘å®šåˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‡½æ•°</p><p>è¿”å› åœ¨æ•è·æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è°ƒç”¨<code>fn</code>çš„æ–°å‡½æ•°</p><h2 id="AsyncLocalStorage-snapshot"><a href="#AsyncLocalStorage-snapshot" class="headerlink" title="AsyncLocalStorage.snapshot()"></a>AsyncLocalStorage.snapshot()</h2><p>è¿”å› å¸¦æœ‰ç­¾å <code>(fn: (...args) : R, ...args) : R</code> çš„æ–°å‡½æ•°</p><p>æ•è·å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶è¿”å›ä¸€ä¸ªå‚æ•°ä¸ºå‡½æ•°çš„æ–°å‡½æ•°ã€‚æ¯å½“è°ƒç”¨è¿”å›çš„å‡½æ•°ï¼Œéƒ½ä¼šåœ¨æ•è·çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¼ å…¥çš„å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> asyncLocalStorage = <span class="keyword">new</span> AsyncLocalStorage();</span><br><span class="line"><span class="keyword">const</span> runInAsyncScope = asyncLocalStorage.run(<span class="number">123</span>, <span class="function">() =&gt;</span> AsyncLocalStorage.snapshot());</span><br><span class="line"><span class="keyword">const</span> result = asyncLocalStorage.run(<span class="number">321</span>, <span class="function">() =&gt;</span> runInAsyncScope(<span class="function">() =&gt;</span> asyncLocalStorage.getStore()));</span><br><span class="line"><span class="built_in">console</span>.log(result);  <span class="comment">// returns 123</span></span><br></pre></td></tr></table></figure><p>AsyncLocalStorage.snapshot() å¯ä»¥ä»£æ›¿ AsyncResource ç”¨äºç®€å•çš„å¼‚æ­¥ä¸Šä¸‹æ–‡è·Ÿè¸ªç›®çš„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span>&#123;</span><br><span class="line">  #runInScope = AsyncLocalStorage.snapshot()</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">this</span>.#runInScope(<span class="function">()=&gt;</span>asyncLocalStorage.getStore())&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> foo =  asyncLocalStorage.run(<span class="number">789</span>,<span class="function">()=&gt;</span><span class="keyword">new</span> Foo())</span><br><span class="line"></span><br><span class="line"><span class="comment">// print 789</span></span><br><span class="line"><span class="built_in">console</span>.log(asyncLocalStorage.run(<span class="number">8910</span>,<span class="function">()=&gt;</span>foo.get()));</span><br></pre></td></tr></table></figure><h1 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h1><h2 id="asyncLocalStorage-disable"><a href="#asyncLocalStorage-disable" class="headerlink" title="asyncLocalStorage.disable()"></a>asyncLocalStorage.disable()</h2><p>ç¦ç”¨ <code>AsyncLocalStorage</code> çš„å®ä¾‹ã€‚ å¯¹ <code>asyncLocalStorage.getStore()</code> çš„æ‰€æœ‰åç»­è°ƒç”¨éƒ½å°†è¿”å› <code>undefined</code>ï¼Œç›´åˆ°å†æ¬¡è°ƒç”¨ <code>asyncLocalStorage.run()</code> æˆ– <code>asyncLocalStorage.enterWith()</code>ã€‚</p><p>è°ƒç”¨ <code>asyncLocalStorage.disable()</code> æ—¶ï¼Œå°†é€€å‡ºæ‰€æœ‰å½“å‰é“¾æ¥åˆ°è¯¥å®ä¾‹çš„ä¸Šä¸‹æ–‡ã€‚</p><p>åœ¨å¯ä»¥å¯¹ <code>asyncLocalStorage</code> è¿›è¡Œåƒåœ¾å›æ”¶ä¹‹å‰ï¼Œéœ€è¦è°ƒç”¨ <code>asyncLocalStorage.disable()</code>ã€‚ è¿™ä¸é€‚ç”¨äº <code>asyncLocalStorage</code> æä¾›çš„å­˜å‚¨ï¼Œå› ä¸ºè¿™äº›å¯¹è±¡ä¸ç›¸åº”çš„å¼‚æ­¥èµ„æºä¸€èµ·è¢«åƒåœ¾å›æ”¶ã€‚</p><p>å½“ <code>asyncLocalStorage</code> åœ¨å½“å‰è¿›ç¨‹ä¸­ä¸å†ä½¿ç”¨æ—¶ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p><h2 id="asyncLocalStorage-getStore"><a href="#asyncLocalStorage-getStore" class="headerlink" title="asyncLocalStorage.getStore()"></a>asyncLocalStorage.getStore()</h2><p>è¿”å›å½“å‰å­˜å‚¨ã€‚ å¦‚æœåœ¨é€šè¿‡è°ƒç”¨ <code>asyncLocalStorage.run()</code> æˆ– <code>asyncLocalStorage.enterWith()</code> åˆå§‹åŒ–çš„å¼‚æ­¥ä¸Šä¸‹æ–‡ä¹‹å¤–è°ƒç”¨ï¼Œå®ƒå°†è¿”å› <code>undefined</code>ã€‚</p><h2 id="asyncLocalStorage-enterWith-store"><a href="#asyncLocalStorage-enterWith-store" class="headerlink" title="asyncLocalStorage.enterWith(store)"></a>asyncLocalStorage.enterWith(store)</h2><p>è½¬æ¢ä¸ºå½“å‰åŒæ­¥æ‰§è¡Œçš„å‰©ä½™éƒ¨åˆ†çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åé€šè¿‡ä»»ä½•åç»­å¼‚æ­¥è°ƒç”¨æŒä¹…ä¿å­˜å­˜å‚¨ã€‚</p><p>ç¤ºä¾‹1ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="comment">// Replaces previous store with the given store object</span></span><br><span class="line">asyncLocalStorage.enterWith(store);</span><br><span class="line">asyncLocalStorage.getStore(); <span class="comment">// Returns the store object</span></span><br><span class="line">someAsyncOperation(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  asyncLocalStorage.getStore(); <span class="comment">// Returns the same object</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ­¤è½¬æ¢å°†æŒç»­æ•´ä¸ªåŒæ­¥æ‰§è¡Œã€‚ è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚ï¼Œå¦‚æœåœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è¾“å…¥ä¸Šä¸‹æ–‡ï¼Œåˆ™åç»­äº‹ä»¶å¤„ç†ç¨‹åºä¹Ÿå°†åœ¨è¯¥ä¸Šä¸‹æ–‡ä¸­è¿è¡Œï¼Œé™¤éä½¿ç”¨ <code>AsyncResource</code> ä¸“é—¨ç»‘å®šåˆ°å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>run()</code> åº”è¯¥ä¼˜äº <code>enterWith()</code> çš„åŸå› ï¼Œé™¤éæœ‰å……åˆ†çš„ç†ç”±ä½¿ç”¨åä¸€ç§æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> emitter = <span class="keyword">new</span> EventEmitter()</span><br><span class="line"></span><br><span class="line">emitter.on(<span class="string">&#x27;my-event&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  asyncLocalStorage.enterWith(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">emitter.on(<span class="string">&#x27;my-event&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result= asyncLocalStorage.getStore()</span><br><span class="line">  <span class="comment">// print &#123;a:1&#125;</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;1111&#x27;</span>,result);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// print undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;2222&#x27;</span>,asyncLocalStorage.getStore());</span><br><span class="line">emitter.emit(<span class="string">&#x27;my-event&#x27;</span>)</span><br><span class="line"><span class="comment">// print &#123;a:1&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;3333&#x27;</span>,asyncLocalStorage.getStore());</span><br></pre></td></tr></table></figure><h2 id="asyncLocalStorage-run-store-callback-â€¦args"><a href="#asyncLocalStorage-run-store-callback-â€¦args" class="headerlink" title="asyncLocalStorage.run(store, callback[, â€¦args])"></a>asyncLocalStorage.run(store, callback[, â€¦args])</h2><ul><li>store  <code>any</code> </li><li>callback å›è°ƒå‡½æ•°</li><li>â€¦args  åç»­å‚æ•° </li></ul><p>åœ¨ä¸Šä¸‹æ–‡ä¸­åŒæ­¥è¿è¡Œå‡½æ•°å¹¶è¿”å›å…¶è¿”å›å€¼ã€‚ åœ¨å›è°ƒå‡½æ•°ä¹‹å¤–æ— æ³•è®¿é—®è¯¥å­˜å‚¨ã€‚ åœ¨å›è°ƒä¸­åˆ›å»ºçš„ä»»ä½•å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥è®¿é—®è¯¥å­˜å‚¨ã€‚</p><p>å¯é€‰çš„ <code>args</code> è¢«ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚</p><p>å¦‚æœå›è°ƒå‡½æ•°æŠ›å‡ºé”™è¯¯ï¼Œåˆ™ <code>run()</code> ä¹Ÿä¼šæŠ›å‡ºè¯¥é”™è¯¯ã€‚ å †æ ˆè·Ÿè¸ªä¸å—æ­¤è°ƒç”¨çš„å½±å“ï¼Œä¸Šä¸‹æ–‡å·²é€€å‡ºã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = &#123; <span class="attr">id</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  asyncLocalStorage.run(store, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    asyncLocalStorage.getStore(); <span class="comment">// Returns the store object</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      asyncLocalStorage.getStore(); <span class="comment">// Returns the store object</span></span><br><span class="line">    &#125;, <span class="number">200</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  asyncLocalStorage.getStore(); <span class="comment">// Returns undefined</span></span><br><span class="line">  <span class="comment">// The error will be caught here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="asyncLocalStorage-exit-callback-â€¦args"><a href="#asyncLocalStorage-exit-callback-â€¦args" class="headerlink" title="asyncLocalStorage.exit(callback[, â€¦args])"></a>asyncLocalStorage.exit(callback[, â€¦args])</h2><ul><li>callback å›è°ƒå‡½æ•°</li><li>â€¦args  åç»­å‚æ•° </li></ul><p>åœ¨ä¸Šä¸‹æ–‡ä¹‹å¤–åŒæ­¥è¿è¡Œå‡½æ•°å¹¶è¿”å›å…¶è¿”å›å€¼ã€‚ è¯¥å­˜å‚¨åœ¨å›è°ƒå‡½æ•°æˆ–å›è°ƒä¸­åˆ›å»ºçš„å¼‚æ­¥æ“ä½œä¸­ä¸å¯è®¿é—®ã€‚ åœ¨å›è°ƒå‡½æ•°å†…å®Œæˆçš„ä»»ä½• <code>getStore()</code> è°ƒç”¨å°†å§‹ç»ˆè¿”å› <code>undefined</code>ã€‚</p><p>å¯é€‰çš„ <code>args</code> è¢«ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚</p><p>å¦‚æœå›è°ƒå‡½æ•°æŠ›å‡ºé”™è¯¯ï¼Œåˆ™ <code>exit()</code> ä¹Ÿä¼šæŠ›å‡ºè¯¥é”™è¯¯ã€‚ å †æ ˆè·Ÿè¸ªä¸å—æ­¤è°ƒç”¨çš„å½±å“ï¼Œå¹¶ä¸”é‡æ–°è¿›å…¥ä¸Šä¸‹æ–‡ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Within a call to run</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  asyncLocalStorage.getStore(); <span class="comment">// Returns the store object or value</span></span><br><span class="line">  asyncLocalStorage.exit(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    asyncLocalStorage.getStore(); <span class="comment">// Returns undefined</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  asyncLocalStorage.getStore(); <span class="comment">// Returns the same object or value</span></span><br><span class="line">  <span class="comment">// The error will be caught here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥é’©å­</title>
      <link href="post/node-async_hooks/"/>
      <url>post/node-async_hooks/</url>
      
        <content type="html"><![CDATA[<h1 id="æœ¯è¯­"><a href="#æœ¯è¯­" class="headerlink" title="æœ¯è¯­"></a>æœ¯è¯­</h1><p>å¼‚æ­¥çš„èµ„æºè¡¨ç¤ºå…·æœ‰å…³è”å›è°ƒçš„å¯¹è±¡ã€‚ æ­¤å›è°ƒå¯èƒ½ä¼šè¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ¯”å¦‚ <code>net.createServer()</code> ä¸­çš„ <code>&#39;connection&#39;</code> äº‹ä»¶ã€æˆ–è€…åƒ <code>fs.open()</code> ä¸€æ ·åªè°ƒç”¨ä¸€æ¬¡ã€‚ èµ„æºä¹Ÿå¯ä»¥åœ¨è°ƒç”¨å›è°ƒä¹‹å‰å…³é—­ã€‚ <code>AsyncHook</code> æ²¡æœ‰æ˜ç¡®åŒºåˆ†è¿™äº›ä¸åŒçš„æƒ…å†µï¼Œè€Œæ˜¯å°†å®ƒä»¬è¡¨ç¤ºä¸ºæŠ½è±¡çš„æ¦‚å¿µï¼Œå³èµ„æºã€‚</p><p>å¦‚æœä½¿ç”¨ <a href="https://nodejs.cn/dist/latest-v18.x/docs/api/worker_threads.html#class-worker"><code>Worker</code></a>ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ <code>async_hooks</code> æ¥å£ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šä½¿ç”¨ä¸€ç»„æ–°çš„ async IDã€‚</p><h1 id="APIæ¦‚è¿°"><a href="#APIæ¦‚è¿°" class="headerlink" title="APIæ¦‚è¿°"></a>APIæ¦‚è¿°</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> async_hooks <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the ID of the current execution context.</span></span><br><span class="line"><span class="keyword">const</span> eid = async_hooks.executionAsyncId();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the ID of the handle responsible for triggering the callback of the</span></span><br><span class="line"><span class="comment">// current execution scope to call.</span></span><br><span class="line"><span class="keyword">const</span> tid = async_hooks.triggerAsyncId();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a new AsyncHook instance. All of these callbacks are optional.</span></span><br><span class="line"><span class="keyword">const</span> asyncHook =</span><br><span class="line">    async_hooks.createHook(&#123; init, before, after, destroy, promiseResolve &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Allow callbacks of this AsyncHook instance to call. This is not an implicit</span></span><br><span class="line"><span class="comment">// action after running the constructor, and must be explicitly run to begin</span></span><br><span class="line"><span class="comment">// executing callbacks.</span></span><br><span class="line">asyncHook.enable();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Disable listening for new asynchronous events.</span></span><br><span class="line">asyncHook.disable();</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// The following are the callbacks that can be passed to createHook().</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// init() is called during object construction. The resource may not have</span></span><br><span class="line"><span class="comment">// completed construction when this callback runs. Therefore, all fields of the</span></span><br><span class="line"><span class="comment">// resource referenced by &quot;asyncId&quot; may not have been populated.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">asyncId, type, triggerAsyncId, resource</span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// before() is called just before the resource&#x27;s callback is called. It can be</span></span><br><span class="line"><span class="comment">// called 0-N times for handles (such as TCPWrap), and will be called exactly 1</span></span><br><span class="line"><span class="comment">// time for requests (such as FSReqCallback).</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">before</span>(<span class="params">asyncId</span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// after() is called just after the resource&#x27;s callback has finished.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">after</span>(<span class="params">asyncId</span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// destroy() is called when the resource is destroyed.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">destroy</span>(<span class="params">asyncId</span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// promiseResolve() is called only for promise resources, when the</span></span><br><span class="line"><span class="comment">// resolve() function passed to the Promise constructor is invoked</span></span><br><span class="line"><span class="comment">// (either directly or through other means of resolving a promise).</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">promiseResolve</span>(<span class="params">asyncId</span>) </span>&#123; &#125;</span><br></pre></td></tr></table></figure><h1 id="async-hooks-createHook-callbacks"><a href="#async-hooks-createHook-callbacks" class="headerlink" title="async_hooks.createHook(callbacks)"></a>async_hooks.createHook(callbacks)</h1><ul><li>callbacks (Object)<ul><li>init</li><li>before</li><li>after</li><li>destroy</li><li>promiseResolve</li></ul></li></ul><blockquote><p>å›è°ƒ <code>init()</code>/<code>before()</code>/<code>after()</code>/<code>destroy()</code> åœ¨èµ„æºçš„ç”Ÿå‘½å‘¨æœŸå†…ä¸ºç›¸åº”çš„å¼‚æ­¥äº‹ä»¶è°ƒç”¨ï¼Œæ‰€æœ‰å›è°ƒçš†æ˜¯å¯é€‰çš„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createHook &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> asyncHook = createHook(&#123;</span><br><span class="line">  <span class="function"><span class="title">init</span>(<span class="params">asyncId, type, triggerAsyncId, resource</span>)</span> &#123; &#125;,</span><br><span class="line">  <span class="function"><span class="title">destroy</span>(<span class="params">asyncId</span>)</span> &#123; &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="async-hooks-createHook-callbacks-enable"><a href="#async-hooks-createHook-callbacks-enable" class="headerlink" title="async_hooks.createHook(callbacks).enable()"></a>async_hooks.createHook(callbacks).enable()</h1><p>è¿”å› <code>Asynchook</code> å®ä¾‹çš„å¼•ç”¨</p><p>å¯ç”¨ç»™å®š <code>AsyncHook</code> å®ä¾‹çš„å›è°ƒã€‚ å¦‚æœæ²¡æœ‰æä¾›å›è°ƒï¼Œåˆ™å¯ç”¨æ˜¯æ— æ“ä½œçš„ã€‚</p><p>é»˜è®¤ç¦ç”¨ <code>AsyncHook</code> å®ä¾‹ã€‚ å¦‚æœ <code>AsyncHook</code> å®ä¾‹åº”è¯¥åœ¨åˆ›å»ºåç«‹å³å¯ç”¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¨¡å¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createHook &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hook = createHook(callbacks).enable();</span><br></pre></td></tr></table></figure><h1 id="async-hooks-createHook-callbacks-disable"><a href="#async-hooks-createHook-callbacks-disable" class="headerlink" title="async_hooks.createHook(callbacks).disable()"></a>async_hooks.createHook(callbacks).disable()</h1><p>ä»è¦æ‰§è¡Œçš„ <code>AsyncHook</code> å›è°ƒå…¨å±€æ± ä¸­ç¦ç”¨ç»™å®š <code>AsyncHook</code> å®ä¾‹çš„å›è°ƒã€‚ ä¸€æ—¦ä¸€ä¸ªé’©å­è¢«ç¦ç”¨ï¼Œåˆ™å®ƒåœ¨å¯ç”¨ä¹‹å‰ä¸ä¼šè¢«å†æ¬¡è°ƒç”¨ã€‚</p><p>ä¸ºäº† API ä¸€è‡´æ€§ï¼Œ<code>disable()</code> ä¹Ÿè¿”å› <code>AsyncHook</code> å®ä¾‹ã€‚</p><h1 id="Hooks-Callbocks"><a href="#Hooks-Callbocks" class="headerlink" title="Hooks Callbocks"></a>Hooks Callbocks</h1><h2 id="init-asyncId-type-triggerAsyncId-resource"><a href="#init-asyncId-type-triggerAsyncId-resource" class="headerlink" title="init(asyncId, type, triggerAsyncId, resource)"></a>init(asyncId, type, triggerAsyncId, resource)</h2><ul><li><code>asyncId</code> <code>number</code> å¼‚æ­¥èµ„æºçš„å”¯ä¸€ IDã€‚</li><li><code>type</code>  <code>string</code> å¼‚æ­¥èµ„æºçš„ç±»å‹ã€‚</li><li><code>triggerAsyncId</code> <code>number</code> åœ¨å…¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºæ­¤å¼‚æ­¥èµ„æºçš„å¼‚æ­¥èµ„æºçš„å”¯ä¸€ IDã€‚</li><li><code>resource</code> <code>Object</code> å¯¹è¡¨ç¤ºå¼‚æ­¥æ“ä½œçš„èµ„æºçš„å¼•ç”¨ï¼Œéœ€è¦åœ¨é”€æ¯æœŸé—´é‡Šæ”¾ã€‚</li></ul><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p>â€‹    typeæ˜¯å­—ç¬¦ä¸²ï¼Œæ ‡è¯†è°ƒç”¨initçš„èµ„æºç±»å‹ï¼Œä¸€èˆ¬å¯¹åº”ç€èµ„æºçš„æ„é€ å‡½æ•°ç­¾åã€‚</p><p>â€‹    ç”± Node.js æœ¬èº«åˆ›å»ºçš„ <code>type</code> èµ„æºå¯ä»¥åœ¨ä»»ä½• Node.js ç‰ˆæœ¬ä¸­æ›´æ”¹ã€‚ æœ‰æ•ˆå€¼åŒ…æ‹¬ <code>PROMISE</code> <code>TLSWRAP</code>ã€<code>TCPWRAP</code>ã€<code>TCPSERVERWRAP</code>ã€<code>GETADDRINFOREQWRAP</code>ã€<code>FSREQCALLBACK</code>ã€<code>Microtask</code> å’Œ <code>Timeout</code>ã€‚</p><h3 id="triggerAsyncId"><a href="#triggerAsyncId" class="headerlink" title="triggerAsyncId"></a>triggerAsyncId</h3><p>â€‹    <code>triggerAsyncId</code> is the <code>asyncId</code> of the resource that caused (or â€œtriggeredâ€) the new resource to initialize and that caused <code>init</code> to call. This is different from <code>async_hooks.executionAsyncId()</code> that only shows <em>when</em> a resource was created, while <code>triggerAsyncId</code> shows <em>why</em> a resource was created.</p><p>â€‹    ä¸‹é¢æ˜¯ <code>triggerAsyncId</code> çš„ç®€å•æ¼”ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createHook, executionAsyncId &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; stdout &#125; <span class="keyword">from</span> <span class="string">&#x27;node:process&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> net <span class="keyword">from</span> <span class="string">&#x27;node:net&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&#x27;node:fs&#x27;</span>;</span><br><span class="line"></span><br><span class="line">createHook(&#123;</span><br><span class="line">  <span class="function"><span class="title">init</span>(<span class="params">asyncId, type, triggerAsyncId, resource</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> eid = executionAsyncId();</span><br><span class="line">    fs.writeSync(</span><br><span class="line">      stdout.fd,</span><br><span class="line">      <span class="string">`<span class="subst">$&#123;type&#125;</span>(<span class="subst">$&#123;asyncId&#125;</span>): trigger: <span class="subst">$&#123;triggerAsyncId&#125;</span> execution: <span class="subst">$&#123;eid&#125;</span>\n`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;).enable();</span><br><span class="line"></span><br><span class="line">net.createServer(<span class="function">(<span class="params">conn</span>) =&gt;</span> &#123;&#125;).listen(<span class="number">8080</span>);</span><br></pre></td></tr></table></figure><p>â€‹    å½“ä½¿ç”¨ <code>nc localhost 8080</code> è®¿é—®æœåŠ¡å™¨æ—¶çš„è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TCPSERVERWRAP(5): trigger: 1 execution: 1</span><br><span class="line">TCPWRAP(7): trigger: 5 execution: 0</span><br></pre></td></tr></table></figure><p>â€‹    The <code>TCPSERVERWRAP</code> is the server which receives the connections.</p><p>â€‹    The <code>TCPWRAP</code> is the new connection from the client. When a new connection is made, the <code>TCPWrap</code> instance is immediately constructed. This happens outside of any JavaScript stack. (An <code>executionAsyncId()</code> of <code>0</code> means that it is being executed from C++ with no JavaScript stack above it.) With only that information, it would be impossible to link resources together in terms of what caused them to be created, so <code>triggerAsyncId</code> is given the task of propagating what resource is responsible for the new resourceâ€™s existence.</p><h3 id="resource"><a href="#resource" class="headerlink" title="resource"></a>resource</h3><p>â€‹    <code>resource</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå·²åˆå§‹åŒ–çš„å®é™…å¼‚æ­¥èµ„æºã€‚ è®¿é—®å¯¹è±¡çš„ API å¯èƒ½ç”±èµ„æºçš„åˆ›å»ºè€…æŒ‡å®šã€‚ Node.js æœ¬èº«åˆ›å»ºçš„èµ„æºæ˜¯å†…éƒ¨çš„ï¼Œå¯èƒ½éšæ—¶æ›´æ”¹ã€‚ å› æ­¤æ²¡æœ‰ä¸ºè¿™äº›æŒ‡å®š APIã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå‡ºäºæ€§èƒ½åŸå› ï¼Œèµ„æºå¯¹è±¡ä¼šè¢«é‡ç”¨ï¼Œå› æ­¤å°†å…¶ç”¨ä½œ <code>WeakMap</code> ä¸­çš„é”®æˆ–å‘å…¶æ·»åŠ å±æ€§æ˜¯ä¸å®‰å…¨çš„ã€‚</p><h3 id="å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹-1ï¼š"><a href="#å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹-1ï¼š" class="headerlink" title="å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹ 1ï¼š"></a>å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹ 1ï¼š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> async_hooks <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&#x27;node:fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> net <span class="keyword">from</span> <span class="string">&#x27;node:net&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; stdout &#125; <span class="keyword">from</span> <span class="string">&#x27;node:process&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; fd &#125; = stdout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> indent = <span class="number">0</span>;</span><br><span class="line">async_hooks.createHook(&#123;</span><br><span class="line">  <span class="function"><span class="title">init</span>(<span class="params">asyncId, type, triggerAsyncId</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> eid = async_hooks.executionAsyncId();</span><br><span class="line">    <span class="keyword">const</span> indentStr = <span class="string">&#x27; &#x27;</span>.repeat(indent);</span><br><span class="line">    fs.writeSync(</span><br><span class="line">      fd,</span><br><span class="line">      <span class="string">`<span class="subst">$&#123;indentStr&#125;</span><span class="subst">$&#123;type&#125;</span>(<span class="subst">$&#123;asyncId&#125;</span>):`</span> +</span><br><span class="line">      <span class="string">` trigger: <span class="subst">$&#123;triggerAsyncId&#125;</span> execution: <span class="subst">$&#123;eid&#125;</span>\n`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">before</span>(<span class="params">asyncId</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> indentStr = <span class="string">&#x27; &#x27;</span>.repeat(indent);</span><br><span class="line">    fs.writeSync(fd, <span class="string">`<span class="subst">$&#123;indentStr&#125;</span>before:  <span class="subst">$&#123;asyncId&#125;</span>\n`</span>);</span><br><span class="line">    indent += <span class="number">2</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">after</span>(<span class="params">asyncId</span>)</span> &#123;</span><br><span class="line">    indent -= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">const</span> indentStr = <span class="string">&#x27; &#x27;</span>.repeat(indent);</span><br><span class="line">    fs.writeSync(fd, <span class="string">`<span class="subst">$&#123;indentStr&#125;</span>after:  <span class="subst">$&#123;asyncId&#125;</span>\n`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">destroy</span>(<span class="params">asyncId</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> indentStr = <span class="string">&#x27; &#x27;</span>.repeat(indent);</span><br><span class="line">    fs.writeSync(fd, <span class="string">`<span class="subst">$&#123;indentStr&#125;</span>destroy:  <span class="subst">$&#123;asyncId&#125;</span>\n`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;).enable();</span><br><span class="line"></span><br><span class="line">net.createServer(<span class="function">() =&gt;</span> &#123;&#125;).listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Let&#x27;s wait 10ms before logging the server started.</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;&gt;&gt;&gt;&#x27;</span>, async_hooks.executionAsyncId());</span><br><span class="line">  &#125;, <span class="number">10</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä»…å¯åŠ¨æœåŠ¡å™¨è¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">TCPSERVERWRAP(5): trigger: 1 execution: 1</span><br><span class="line">TickObject(6): trigger: 5 execution: 1</span><br><span class="line">before:  6</span><br><span class="line">  Timeout(7): trigger: 6 execution: 6</span><br><span class="line">after:   6</span><br><span class="line">destroy: 6</span><br><span class="line">before:  7</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; 7</span></span><br><span class="line">  TickObject(8): trigger: 7 execution: 7</span><br><span class="line">after:   7</span><br><span class="line">before:  8</span><br><span class="line">after:   8</span><br></pre></td></tr></table></figure><p>å¦‚ç¤ºä¾‹ä¸­æ‰€ç¤ºï¼Œ<code>executionAsyncId()</code> å’Œ <code>execution</code> å„è‡ªæŒ‡å®šå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å€¼ï¼› è¿™æ˜¯é€šè¿‡è°ƒç”¨ <code>before</code> å’Œ <code>after</code> æ¥æè¿°çš„ã€‚</p><p>ä»…ä½¿ç”¨ <code>execution</code> ç»˜åˆ¶èµ„æºåˆ†é…å›¾ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root(1)</span><br><span class="line">     ^</span><br><span class="line">     |</span><br><span class="line">TickObject(6)</span><br><span class="line">     ^</span><br><span class="line">     |</span><br><span class="line">Timeout(7) </span><br></pre></td></tr></table></figure><p><code>TCPSERVERWRAP</code> ä¸æ˜¯è¿™ä¸ªå›¾è¡¨çš„ä¸€éƒ¨åˆ†ï¼Œå°½ç®¡å®ƒæ˜¯è°ƒç”¨ <code>console.log()</code> çš„åŸå› ã€‚ è¿™æ˜¯å› ä¸ºç»‘å®šåˆ°ä¸€ä¸ªæ²¡æœ‰ä¸»æœºåçš„ç«¯å£æ˜¯ä¸€ä¸ªåŒæ­¥æ“ä½œï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒä¸€ä¸ªå®Œå…¨å¼‚æ­¥çš„ APIï¼Œç”¨æˆ·çš„å›è°ƒè¢«æ”¾åœ¨ä¸€ä¸ª <code>process.nextTick()</code> ä¸­ã€‚ è¿™å°±æ˜¯ <code>TickObject</code> å‡ºç°åœ¨è¾“å‡ºä¸­å¹¶ä¸”æ˜¯ <code>.listen()</code> å›è°ƒçš„ â€˜parentâ€™ çš„åŸå› ã€‚</p><p>è¯¥å›¾ä»…æ˜¾ç¤ºåˆ›å»ºèµ„æºçš„æ—¶é—´ï¼Œè€Œä¸æ˜¾ç¤ºåˆ›å»ºåŸå› ï¼Œå› æ­¤è¦è·Ÿè¸ªåŸå› ï¼Œè¯·ä½¿ç”¨ <code>triggerAsyncId</code>ã€‚ å¯ä»¥ç”¨ä¸‹å›¾è¡¨ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> bootstrap(1)</span><br><span class="line">     |</span><br><span class="line">     Ë…</span><br><span class="line">TCPSERVERWRAP(5)</span><br><span class="line">     |</span><br><span class="line">     Ë…</span><br><span class="line"> TickObject(6)</span><br><span class="line">     |</span><br><span class="line">     Ë…</span><br><span class="line"> Timeout(7)</span><br></pre></td></tr></table></figure><h3 id="å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹2ï¼š"><a href="#å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹2ï¼š" class="headerlink" title="å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹2ï¼š"></a>å¼‚æ­¥ä¸Šä¸‹æ–‡ç¤ºä¾‹2ï¼š</h3><p>ç»“åˆæµ‹é‡å·¥å…·ï¼Œè§‚æµ‹ <code>setTimeout</code> å¼‚æ­¥èµ„æºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> async_hooks <span class="keyword">from</span> <span class="string">&#x27;async_hooks&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;performance, PerformanceObserver&#125;  <span class="keyword">from</span> <span class="string">&quot;perf_hooks&quot;</span></span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line"><span class="keyword">const</span> hook = async_hooks.createHook(&#123;</span><br><span class="line">  <span class="function"><span class="title">init</span>(<span class="params">id, type</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="string">&#x27;Timeout&#x27;</span>) &#123;</span><br><span class="line">      performance.mark(<span class="string">`Timeout-<span class="subst">$&#123;id&#125;</span>-Init`</span>)</span><br><span class="line">      set.add(id)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">destroy</span>(<span class="params">id</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (set.has(id)) &#123;</span><br><span class="line">      set.delete(id);</span><br><span class="line">      performance.mark(<span class="string">`Timeout-<span class="subst">$&#123;id&#125;</span>-Destroy`</span>)</span><br><span class="line">      performance.measure(<span class="string">`Timeout-<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">                          <span class="string">`Timeout-<span class="subst">$&#123;id&#125;</span>-Init`</span>,</span><br><span class="line">                          <span class="string">`Timeout-<span class="subst">$&#123;id&#125;</span>-Destroy`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">hook.enable()</span><br><span class="line"><span class="keyword">const</span> obs = <span class="keyword">new</span> PerformanceObserver(<span class="function">(<span class="params">list, observer</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(list.getEntries()[<span class="number">0</span>])</span><br><span class="line">  performance.clearMarks()</span><br><span class="line">  observer.disconnect()</span><br><span class="line">&#125;)</span><br><span class="line">obs.observe(&#123; <span class="attr">entryTypes</span>: [<span class="string">&#x27;measure&#x27;</span>], <span class="attr">buffered</span>: <span class="literal">true</span> &#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿè¾“å‡ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PerformanceEntry &#123;</span><br><span class="line">  name: &#x27;Timeout-8&#x27;,</span><br><span class="line">  entryType: &#x27;measure&#x27;,</span><br><span class="line">  startTime: 89.764083,</span><br><span class="line">  duration: 1001.982167</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="before-asyncId"><a href="#before-asyncId" class="headerlink" title="before(asyncId)"></a>before(asyncId)</h2><p><code>asyncId number</code></p><p>å½“å¼‚æ­¥æ“ä½œå¯åŠ¨ï¼ˆå¦‚ TCP æœåŠ¡å™¨æ¥æ”¶æ–°è¿æ¥ï¼‰æˆ–å®Œæˆï¼ˆå¦‚å°†æ•°æ®å†™å…¥ç£ç›˜ï¼‰æ—¶ï¼Œä¼šè°ƒç”¨å›è°ƒé€šçŸ¥ç”¨æˆ·ã€‚ <code>before</code> å›è°ƒåœ¨æ‰€è¿°å›è°ƒæ‰§è¡Œä¹‹å‰è¢«è°ƒç”¨ã€‚ <code>asyncId</code> æ˜¯åˆ†é…ç»™å³å°†æ‰§è¡Œå›è°ƒçš„èµ„æºçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p><p><code>before</code> å›è°ƒå°†è¢«è°ƒç”¨ 0 åˆ° N æ¬¡ã€‚ å¦‚æœå¼‚æ­¥æ“ä½œè¢«å–æ¶ˆï¼Œæˆ–è€…ä¾‹å¦‚ï¼Œå¦‚æœ TCP æœåŠ¡å™¨æ²¡æœ‰æ¥æ”¶åˆ°è¿æ¥ï¼Œåˆ™ <code>before</code> å›è°ƒé€šå¸¸ä¼šè¢«è°ƒç”¨ 0 æ¬¡ã€‚ åƒ TCP æœåŠ¡å™¨è¿™æ ·çš„æŒä¹…å¼‚æ­¥èµ„æºé€šå¸¸ä¼šå¤šæ¬¡è°ƒç”¨ <code>before</code> å›è°ƒï¼Œè€Œåƒ <code>fs.open()</code> ç­‰å…¶ä»–æ“ä½œåªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚</p><h2 id="after-asyncId"><a href="#after-asyncId" class="headerlink" title="after(asyncId)"></a>after(asyncId)</h2><p><code>asyncId number</code></p><p>åœ¨ <code>before</code> ä¸­æŒ‡å®šçš„å›è°ƒå®Œæˆåç«‹å³è°ƒç”¨ã€‚</p><p>å¦‚æœåœ¨æ‰§è¡Œå›è°ƒæœŸé—´å‘ç”Ÿæœªæ•è·çš„å¼‚å¸¸ï¼Œåˆ™ <code>after</code> å°†åœ¨ <code>&#39;uncaughtException&#39;</code> äº‹ä»¶è§¦å‘æˆ– <code>domain</code> çš„å¤„ç†ç¨‹åºè¿è¡Œåè¿è¡Œã€‚</p><h2 id="destroy-asyncId"><a href="#destroy-asyncId" class="headerlink" title="destroy(asyncId)"></a>destroy(asyncId)</h2><p><code>asyncId number</code></p><p><code>asyncId</code> å¯¹åº”çš„èµ„æºé”€æ¯åè°ƒç”¨ã€‚ å®ƒä¹Ÿä»åµŒå…¥å™¨ API <code>emitDestroy()</code> å¼‚æ­¥è°ƒç”¨ã€‚</p><p>æœ‰äº›èµ„æºä¾èµ–åƒåœ¾å›æ”¶æ¥æ¸…ç†ï¼Œæ‰€ä»¥å¦‚æœå¼•ç”¨ä¼ ç»™ <code>init</code> çš„ <code>resource</code> å¯¹è±¡ï¼Œå¯èƒ½æ°¸è¿œä¸ä¼šè°ƒç”¨ <code>destroy</code>ï¼Œä»è€Œå¯¼è‡´åº”ç”¨å†…å­˜æ³„æ¼ã€‚ å¦‚æœèµ„æºä¸ä¾èµ–åƒåœ¾å›æ”¶ï¼Œåˆ™è¿™ä¸æ˜¯é—®é¢˜ã€‚ä½¿ç”¨é”€æ¯é’©å­ä¼šå¯¼è‡´é¢å¤–çš„å¼€é”€ï¼Œå› ä¸ºå®ƒå¯ä»¥é€šè¿‡åƒåœ¾æ”¶é›†å™¨è·Ÿè¸ª <code>Promise</code> å®ä¾‹ã€‚</p><h2 id="promiseResolve-asyncId"><a href="#promiseResolve-asyncId" class="headerlink" title="promiseResolve(asyncId)"></a>promiseResolve(asyncId)</h2><p><code>asyncId number</code></p><p>å½“è°ƒç”¨ä¼ ç»™ <code>Promise</code> æ„é€ å‡½æ•°çš„ <code>resolve</code> å‡½æ•°æ—¶è°ƒç”¨ï¼ˆç›´æ¥æˆ–é€šè¿‡å…¶ä»–è§£å†³ promise çš„æ–¹æ³•ï¼‰ã€‚</p><p><code>resolve()</code> ä¸åšä»»ä½•å¯è§‚å¯Ÿåˆ°çš„åŒæ­¥å·¥ä½œã€‚</p><p>å¦‚æœ <code>Promise</code> æ˜¯é€šè¿‡å‡è®¾å¦ä¸€ä¸ª <code>Promise</code> çš„çŠ¶æ€æ¥è§£å†³çš„ï¼Œåˆ™æ­¤æ—¶ <code>Promise</code> ä¸ä¸€å®šæ»¡è¶³æˆ–æ‹’ç»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> resolve(<span class="literal">true</span>)).then(<span class="function">(<span class="params">a</span>) =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ä»¥ä¸‹å›è°ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">init for PROMISE with id 5, trigger id: 1</span><br><span class="line">  promise resolve 5      # corresponds to resolve(true)</span><br><span class="line">init for PROMISE with id 6, trigger id: 5  # the Promise returned by then()</span><br><span class="line">  before 6               # the then() callback is entered</span><br><span class="line">  promise resolve 6      # the then() callback resolves the promise by returning</span><br><span class="line">  after 6</span><br></pre></td></tr></table></figure><h1 id="async-hooks-executionAsyncResource"><a href="#async-hooks-executionAsyncResource" class="headerlink" title="async_hooks.executionAsyncResource()"></a>async_hooks.executionAsyncResource()</h1><ul><li>è¿”å› <code>Object</code> ä»£è¡¨å½“å‰æ‰§è¡Œçš„èµ„æºã€‚ ç”¨äºåœ¨èµ„æºä¸­å­˜å‚¨æ•°æ®ã€‚</li><li><code>executionAsyncResource()</code> è¿”å›çš„èµ„æºå¯¹è±¡é€šå¸¸æ˜¯å¸¦æœ‰æœªè®°å½• API çš„å†…éƒ¨ Node.js å¥æŸ„å¯¹è±¡ã€‚ åœ¨å¯¹è±¡ä¸Šä½¿ç”¨ä»»ä½•å‡½æ•°æˆ–å±æ€§éƒ½å¯èƒ½ä½¿ä½ çš„åº”ç”¨å´©æºƒï¼Œåº”è¯¥é¿å…ã€‚</li></ul><h1 id="async-hooks-executionAsyncId"><a href="#async-hooks-executionAsyncId" class="headerlink" title="async_hooks.executionAsyncId()"></a>async_hooks.executionAsyncId()</h1><ul><li>è¿”å› <code>number</code>ï¼Œè¡¨ç¤ºå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ <code>asyncId</code>ã€‚ å½“æœ‰è°ƒç”¨æ—¶å¯¹è·Ÿè¸ªå¾ˆæœ‰ç”¨ã€‚</li><li><code>executionAsyncId()</code> è¿”å›çš„ ID ä¸æ‰§è¡Œæ—¶æœºæœ‰å…³ï¼Œä¸å› æœæ— å…³ï¼ˆè¢« <code>triggerAsyncId()</code> æ¶µç›–ï¼‰</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œpromise ä¸Šä¸‹æ–‡å¯èƒ½æ— æ³•è·å¾—ç²¾ç¡®çš„ <code>executionAsyncIds</code>ã€‚</li></ul><h1 id="async-hooks-triggerAsyncId"><a href="#async-hooks-triggerAsyncId" class="headerlink" title="async_hooks.triggerAsyncId()"></a>async_hooks.triggerAsyncId()</h1><ul><li>è¿”å› <code>number</code>ï¼Œä»£è¡¨è´Ÿè´£è°ƒç”¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„å›è°ƒçš„èµ„æº` IDã€‚</li><li>è®¤æƒ…å†µä¸‹ï¼ŒPromise ä¸Šä¸‹æ–‡å¯èƒ½æ— æ³•è·å¾—æœ‰æ•ˆçš„ <code>triggerAsyncId</code></li></ul><h1 id="Promise-æ‰§è¡Œè¿½è¸ª"><a href="#Promise-æ‰§è¡Œè¿½è¸ª" class="headerlink" title="Promise æ‰§è¡Œè¿½è¸ª"></a>Promise æ‰§è¡Œè¿½è¸ª</h1><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”±äº V8 æä¾›çš„ <a href="https://docs.google.com/document/d/1rda3yKGHimKIhg5YeoAmCOtyURgsbTH_qaYR79FELlk/edit">promise è‡ªçœ API</a> ç›¸å¯¹æ˜‚è´µï¼Œå› æ­¤ä¸ä¼šä¸º promise æ‰§è¡Œåˆ†é… <code>asyncId</code>ã€‚ è¿™æ„å‘³ç€é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ promise æˆ– <code>async</code>/<code>await</code> çš„ç¨‹åºå°†æ— æ³•æ­£ç¡®æ‰§è¡Œå¹¶è§¦å‘ promise å›è°ƒä¸Šä¸‹æ–‡çš„ idã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; executionAsyncId, triggerAsyncId &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1729</span>).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`eid <span class="subst">$&#123;executionAsyncId()&#125;</span> tid <span class="subst">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// produces:</span></span><br><span class="line"><span class="comment">// eid 1 tid 0</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ <code>then()</code> å›è°ƒå£°ç§°å·²åœ¨å¤–éƒ¨èŒƒå›´çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œï¼Œå³ä½¿æ¶‰åŠå¼‚æ­¥çš„è·ƒç‚¹ã€‚ å¦å¤–ï¼Œ<code>triggerAsyncId</code> çš„å€¼æ˜¯ <code>0</code>ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ç¼ºå°‘æœ‰å…³å¯¼è‡´ï¼ˆè§¦å‘ï¼‰<code>then()</code> å›è°ƒè¢«æ‰§è¡Œçš„èµ„æºçš„ä¸Šä¸‹æ–‡ã€‚</p><p>é€šè¿‡ <code>async_hooks.createHook</code> å®‰è£…å¼‚æ­¥é’©å­å¯ç”¨ promise æ‰§è¡Œè·Ÿè¸ªï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createHook, executionAsyncId, triggerAsyncId &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line">createHook(&#123; <span class="function"><span class="title">init</span>(<span class="params"></span>)</span> &#123;&#125; &#125;).enable(); <span class="comment">// forces PromiseHooks to be enabled.</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve(<span class="number">1729</span>).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`eid <span class="subst">$&#123;executionAsyncId()&#125;</span> tid <span class="subst">$&#123;triggerAsyncId()&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// produces:</span></span><br><span class="line"><span class="comment">// eid 7 tid 6</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ·»åŠ ä»»ä½•å®é™…çš„é’©å­å‡½æ•°å¯ç”¨äº†å¯¹ promise çš„è·Ÿè¸ªã€‚ ä¸Šé¢çš„ä¾‹å­ä¸­æœ‰ä¸¤ä¸ª promiseï¼› <code>Promise.resolve()</code> åˆ›å»ºçš„ promise å’Œè°ƒç”¨ <code>then()</code> è¿”å›çš„ promiseã€‚ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ª promise å¾—åˆ° <code>asyncId</code> <code>6</code>ï¼Œåè€…å¾—åˆ° <code>asyncId</code> <code>7</code>ã€‚ åœ¨æ‰§è¡Œ <code>then()</code> å›è°ƒæœŸé—´ï¼Œæˆ‘ä»¬åœ¨ <code>asyncId</code> <code>7</code> çš„ promise ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚ æ­¤ promise ç”±å¼‚æ­¥èµ„æº <code>6</code> è§¦å‘ã€‚</p><p>promise çš„å¦ä¸€ä¸ªå¾®å¦™ä¹‹å¤„æ˜¯ <code>before</code> å’Œ <code>after</code> å›è°ƒä»…åœ¨é“¾å¼ promise ä¸Šè¿è¡Œã€‚ è¿™æ„å‘³ç€ä¸æ˜¯ç”± <code>then()</code>/<code>catch()</code> åˆ›å»ºçš„ promise ä¸ä¼šè§¦å‘ <code>before</code> å’Œ <code>after</code> å›è°ƒã€‚ æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… V8 <a href="https://docs.google.com/document/d/1rda3yKGHimKIhg5YeoAmCOtyURgsbTH_qaYR79FELlk/edit">PromiseHooks</a> API çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥èµ„æº</title>
      <link href="post/node-asyncResource/"/>
      <url>post/node-asyncResource/</url>
      
        <content type="html"><![CDATA[<h1 id="AsyncResource"><a href="#AsyncResource" class="headerlink" title="AsyncResource"></a>AsyncResource</h1><p><code>AsyncResource</code> ç±»æ—¨åœ¨é€šè¿‡åµŒå…¥å™¨çš„å¼‚æ­¥èµ„æºè¿›è¡Œæ‰©å±•ã€‚ ä½¿ç”¨å®ƒï¼Œç”¨æˆ·å¯ä»¥è½»æ¾è§¦å‘è‡ªå·±èµ„æºçš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚</p><p><code>init</code> é’©å­å°†åœ¨å®ä¾‹åŒ– <code>AsyncResource</code> æ—¶è§¦å‘ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>AsyncResource</code> API çš„æ¦‚è¿°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; AsyncResource, executionAsyncId &#125; <span class="keyword">from</span> <span class="string">&#x27;node:async_hooks&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AsyncResource() is meant to be extended. Instantiating a</span></span><br><span class="line"><span class="comment">// new AsyncResource() also triggers init. If triggerAsyncId is omitted then</span></span><br><span class="line"><span class="comment">// async_hook.executionAsyncId() is used.</span></span><br><span class="line"><span class="keyword">const</span> asyncResource = <span class="keyword">new</span> AsyncResource(</span><br><span class="line">  type, &#123; <span class="attr">triggerAsyncId</span>: executionAsyncId(), <span class="attr">requireManualDestroy</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Run a function in the execution context of the resource. This will</span></span><br><span class="line"><span class="comment">// * establish the context of the resource</span></span><br><span class="line"><span class="comment">// * trigger the AsyncHooks before callbacks</span></span><br><span class="line"><span class="comment">// * call the provided function `fn` with the supplied arguments</span></span><br><span class="line"><span class="comment">// * trigger the AsyncHooks after callbacks</span></span><br><span class="line"><span class="comment">// * restore the original execution context</span></span><br><span class="line">asyncResource.runInAsyncScope(fn, thisArg, ...args);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Call AsyncHooks destroy callbacks.</span></span><br><span class="line">asyncResource.emitDestroy();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the unique ID assigned to the AsyncResource instance.</span></span><br><span class="line">asyncResource.asyncId();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return the trigger ID for the AsyncResource instance.</span></span><br><span class="line">asyncResource.triggerAsyncId();</span><br></pre></td></tr></table></figure><h2 id="new-AsyncResource-type-options"><a href="#new-AsyncResource-type-options" class="headerlink" title="new AsyncResource(type[, options])"></a>new AsyncResource(type[, options])</h2><ul><li>type <code>string</code> : å¼‚æ­¥äº‹ä»¶ç±»å‹</li><li>options <code>Object</code> : <ul><li>triggerAsyncId <code>number</code> : åˆ›å»ºæ­¤å¼‚æ­¥äº‹ä»¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„ IDã€‚ <strong>é»˜è®¤å€¼ï¼š</strong> <code>executionAsyncId()</code>ã€‚</li><li>requireManualDestroy <code>boolean</code> : æ˜¯å¦éœ€è¦æ‰‹åŠ¨è°ƒç”¨ emitDestroy() æ¥å¯åŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œ<strong>é»˜è®¤å€¼ï¼š</strong> false</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DBQuery</span> <span class="keyword">extends</span> <span class="title">AsyncResource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">db</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(<span class="string">&#x27;DBQuery&#x27;</span>);</span><br><span class="line">    <span class="built_in">this</span>.db = db;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getInfo</span>(<span class="params">query, callback</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.db.get(query, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.runInAsyncScope(callback, <span class="literal">null</span>, err, data);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">close</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.db = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>.emitDestroy();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“åˆasync_hooks å®ç°ä¸€ä¸ªç±»ä¼¼<a href="https://link.juejin.cn/?target=https://zh.m.wikipedia.org/zh-hans/%E7%BA%BF%E7%A8%8B%E5%B1%80%E9%83%A8%E5%AD%98%E5%82%A8">çº¿ç¨‹å±€éƒ¨å­˜å‚¨</a>çš„ä¾‹å­(è¯¥ä¾‹å­å¯ç”¨asyncLocalStorage æ›´ç®€æ´çš„å®ç°)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; AsyncResource, createHook, executionAsyncId &#125; = <span class="built_in">require</span>(<span class="string">&#x27;async_hooks&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> authProfiles = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> hook = createHook(&#123;</span><br><span class="line">  <span class="function"><span class="title">init</span>(<span class="params">asyncId, type, triggerAsyncId, resource</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="string">&#x27;HTTP_PARSER&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> authProfiles[asyncId] === <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">        authProfiles[asyncId] = &#123;&#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">destroy</span>(<span class="params">asyncId</span>)</span> &#123;</span><br><span class="line">    authProfiles[asyncId] = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">hook.enable();</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> asyncResource = <span class="keyword">new</span> AsyncResource(<span class="string">&#x27;HTTP_PARSER&#x27;</span>);</span><br><span class="line">  asyncResource.runInAsyncScope(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> asyncId = executionAsyncId();</span><br><span class="line">    authProfiles[asyncId].key = <span class="built_in">Date</span>.now();</span><br><span class="line">    <span class="comment">// å…¶å®ƒå¼‚æ­¥æ“ä½œ....</span></span><br><span class="line">    res.end();</span><br><span class="line">  &#125;, <span class="literal">null</span>, req, res);</span><br><span class="line">&#125;).listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure><h2 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h2><h3 id="AsyncResource-bind-fn-type-thisArg"><a href="#AsyncResource-bind-fn-type-thisArg" class="headerlink" title="AsyncResource.bind(fn[, type[, thisArg]])"></a>AsyncResource.bind(fn[, type[, thisArg]])</h3><ul><li><code>fn</code>  ï¼šç»‘å®šåˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‡½æ•°ã€‚</li><li><code>type</code> <code>string</code> ï¼šä¸åº•å±‚ <code>AsyncResource</code> å…³è”çš„å¯é€‰åç§°ã€‚</li><li><code>thisArg</code> ï¼šç»‘å®šåˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‡½æ•°çš„thisæŒ‡å‘</li></ul><p>å°†ç»™å®šå‡½æ•°ç»‘å®šåˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><p>è¿”å›çš„å‡½æ•°å°†å…·æœ‰ <code>asyncResource</code> å±æ€§ï¼Œè¯¥å±æ€§å¼•ç”¨å‡½æ•°ç»‘å®šåˆ°çš„ <code>AsyncResource</code>ã€‚</p><h2 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h2><h3 id="asyncResource-bind-fn-thisArg"><a href="#asyncResource-bind-fn-thisArg" class="headerlink" title="asyncResource.bind(fn[, thisArg])"></a>asyncResource.bind(fn[, thisArg])</h3><ul><li><code>fn</code>  ï¼šç»‘å®šåˆ°å½“å‰<code>AsyncResource</code> çš„å‡½æ•°ã€‚</li><li><code>thisArg</code> ï¼šç»‘å®šåˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å‡½æ•°ä¸­thisæŒ‡å‘</li></ul><p>å°†ç»™å®šå‡½æ•°ç»‘å®šåˆ°æ­¤<code>AsyncResource</code> å¼‚æ­¥èµ„æºçš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><p>è¿”å›çš„å‡½æ•°å°†å…·æœ‰ <code>asyncResource</code> å±æ€§ï¼Œè¯¥å±æ€§å¼•ç”¨å‡½æ•°ç»‘å®šåˆ°çš„ <code>AsyncResource</code>ã€‚</p><h3 id="asyncResource-runInAsyncScope-fn-thisArg-â€¦args"><a href="#asyncResource-runInAsyncScope-fn-thisArg-â€¦args" class="headerlink" title="asyncResource.runInAsyncScope(fn[, thisArg, â€¦args])"></a>asyncResource.runInAsyncScope(fn[, thisArg, â€¦args])</h3><ul><li><code>fn</code>  ï¼šåœ¨æ­¤å¼‚æ­¥èµ„æºçš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­è°ƒç”¨çš„å‡½æ•°ã€‚</li><li><code>thisArg</code> ï¼šfn ä¸­thisçš„æŒ‡å‘</li><li><code>...args</code> ï¼šä¼ é€’ç»™fnçš„å‚æ•°</li></ul><h3 id="asyncResource-emitDestroy"><a href="#asyncResource-emitDestroy" class="headerlink" title="asyncResource.emitDestroy()"></a>asyncResource.emitDestroy()</h3><ul><li>è¿”å›<code>asyncResource</code> çš„å¼•ç”¨ã€‚</li></ul><p>è°ƒç”¨æ‰€æœ‰çš„ <code>destroy</code> é’©å­ã€‚ è¿™åº”è¯¥åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ å¦‚æœå¤šæ¬¡è°ƒç”¨ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚ æ­¤ <strong>å¿…é¡»</strong> è¢«æ‰‹åŠ¨è°ƒç”¨ã€‚ å¦‚æœèµ„æºç•™ç»™ GC æ”¶é›†ï¼Œåˆ™æ°¸è¿œä¸ä¼šè°ƒç”¨ <code>destroy</code> é’©å­ã€‚</p><h3 id="asyncResource-asyncId"><a href="#asyncResource-asyncId" class="headerlink" title="asyncResource.asyncId()"></a>asyncResource.asyncId()</h3><ul><li>è¿”å›åˆ†é…ç»™èµ„æºçš„å”¯ä¸€ <code>asyncId</code>ã€‚</li></ul><h3 id="asyncResource-triggerAsyncId"><a href="#asyncResource-triggerAsyncId" class="headerlink" title="asyncResource.triggerAsyncId()"></a>asyncResource.triggerAsyncId()</h3><ul><li>è¿”å› ä¼ ç»™ <code>AsyncResource</code> æ„é€ å‡½æ•°çš„åŒä¸€ä¸ª <code>triggerAsyncId</code>ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆ ahooks</title>
      <link href="post/ahooks/"/>
      <url>post/ahooks/</url>
      
        <content type="html"><![CDATA[<h1 id="ahooks"><a href="#ahooks" class="headerlink" title="ahooks"></a>ahooks</h1><p>ä¸€å¥—é«˜è´¨é‡å¯é çš„ React Hooks åº“</p><h2 id="ahooks-å‡½æ•°å¤„ç†è§„èŒƒ"><a href="#ahooks-å‡½æ•°å¤„ç†è§„èŒƒ" class="headerlink" title="ahooks å‡½æ•°å¤„ç†è§„èŒƒ"></a>ahooks å‡½æ•°å¤„ç†è§„èŒƒ</h2><ol><li><p><strong>æ‰€æœ‰è¾“å…¥å‡½æ•°æ°¸è¿œä½¿ç”¨æœ€æ–°çš„</strong>ï¼ˆuseRef ç¼“å­˜ï¼‰</p><p>é’ˆå¯¹è¾“å…¥å‡½æ•°ï¼Œé€šè¿‡ <code>useRef</code> åšä¸€æ¬¡è®°å½•ï¼Œä»¥ä¿è¯åœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®åˆ°æœ€æ–°çš„å‡½æ•°ã€‚</p></li></ol><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fnRef = useRef(fn)</span><br><span class="line">fnRef.current = fn</span><br></pre></td></tr></table></figure><p>â€‹ æ¯”å¦‚ useUmount ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useUnmount = <span class="function">(<span class="params">fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> fnRef = useRef(fn)</span><br><span class="line">  fnRef.current = fn</span><br><span class="line"></span><br><span class="line">  useEffect(</span><br><span class="line">    <span class="function">() =&gt;</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fnRef.current()</span><br><span class="line">    &#125;,</span><br><span class="line">    []</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p><strong>æ‰€æœ‰çš„è¾“å‡ºå‡½æ•°åœ°å€éƒ½ä¸ä¼šå˜åŒ–</strong> ï¼ˆuseMemo/useCallback/useMemoizedFnï¼‰</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰ä¸ªè‡ªå®šä¹‰ hook <code>useToggle</code> ,å…¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰hook useToggle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useToggle</span>&lt;<span class="title">T</span>, <span class="title">D</span>&gt;(<span class="params">left: T, right: D</span>): [<span class="title">D</span> | <span class="title">T</span>, (<span class="params"></span>) =&gt; <span class="title">void</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState&lt;T | D&gt;(left)</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * åœ°å€æ”¹å˜</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">const</span> toggle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function">(<span class="params">pre</span>) =&gt;</span> (pre === left ? right : left))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [state, toggle]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªè¦ state å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆ toggle å‡½æ•°åœ°å€å°±ä¼šæ”¹å˜ï¼Œæ˜¾ç„¶ä¸æ˜¯é‚£ä¹ˆèƒ½æ¥å—çš„ã€‚</p><p>æ”¹é€ ä¸€ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰hook useToggle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useToggle</span>&lt;<span class="title">T</span>, <span class="title">D</span>&gt;(<span class="params">left: T, right: D</span>): [<span class="title">D</span> | <span class="title">T</span>, (<span class="params"></span>) =&gt; <span class="title">void</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState&lt;T | D&gt;(left)</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç¼“å­˜åœ°å€ useMemoizedFn</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="comment">// const toggle = useMemoizedFn(() =&gt; &#123;</span></span><br><span class="line">  <span class="comment">//   setState((pre) =&gt; (pre === left ? right : left))</span></span><br><span class="line">  <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç¼“å­˜åœ°å€ useCallback (æ— ä¾èµ–)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">const</span> toggle = useCallback(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function">(<span class="params">pre</span>) =&gt;</span> (pre === left ? right : left))</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [state, toggle]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æ— è®º state æ€ä¹ˆæ”¹å˜ï¼Œæ¸²æŸ“å‡ æ¬¡ï¼Œtoggle å‡½æ•°çš„åœ°å€éƒ½ä¸ä¼šæ”¹å˜ã€‚so easy !</p></li></ol><h2 id="useRequest"><a href="#useRequest" class="headerlink" title="useRequest"></a>useRequest</h2><p><code>useRequest</code> æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¼‚æ­¥æ•°æ®ç®¡ç†çš„ Hooks</p><p><code>useRequest</code> é€šè¿‡<code>æ’ä»¶å¼</code>ç»„ç»‡ä»£ç ï¼Œæ ¸å¿ƒä»£ç æå…¶ç®€å•ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰©å±•å‡ºæ›´é«˜çº§çš„åŠŸèƒ½ã€‚ç›®å‰å·²æœ‰èƒ½åŠ›åŒ…æ‹¬ï¼š</p><ul><li>è‡ªåŠ¨è¯·æ±‚/æ‰‹åŠ¨è¯·æ±‚</li><li>è½®è¯¢</li><li>é˜²æŠ–</li><li>èŠ‚æµ</li><li>å±å¹•èšç„¦é‡æ–°è¯·æ±‚</li><li>é”™è¯¯é‡è¯•</li><li>loading delay</li><li>SWR(stale-while-revalidate)</li><li>ç¼“å­˜</li></ul><p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬å…ˆä»ä¸¤ä¸ªæœ€ç®€å•çš„ä¾‹å­è®¤è¯† <code>useRequest</code>ã€‚</p><ul><li><code>useRequest</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œåœ¨ç»„ä»¶åˆæ¬¡åŠ è½½æ—¶ï¼Œä¼šè‡ªåŠ¨è§¦å‘è¯¥å‡½æ•°æ‰§è¡Œã€‚åŒæ—¶è‡ªåŠ¨ç®¡ç†è¯¥å¼‚æ­¥å‡½æ•°çš„ <code>loading</code> , <code>data</code> , <code>error</code> ç­‰çŠ¶æ€ã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useRequest &#125; <span class="keyword">from</span> <span class="string">&#x27;ahooks&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">&#x27;mockjs&#x27;</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUsername</span>(<span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">string</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(Mock.mock(<span class="string">&#x27;@name&#x27;</span>))</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; data, error, loading &#125; = useRequest(getUsername)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (error) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>failed to load<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (loading) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Username: &#123;data&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœè®¾ç½®äº† <code>options.manual = true</code>ï¼Œåˆ™ useRequest ä¸ä¼šé»˜è®¤æ‰§è¡Œï¼Œéœ€è¦é€šè¿‡ <code>run</code> æ¥è§¦å‘æ‰§è¡Œã€‚</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; message &#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useRequest &#125; <span class="keyword">from</span> <span class="string">&#x27;ahooks&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// eslint-disable-next-line @typescript-eslint/no-unused-vars</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeUsername</span>(<span class="params">username: <span class="built_in">string</span></span>): <span class="title">Promise</span>&lt;</span>&#123; success: <span class="built_in">boolean</span> &#125;&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(&#123; <span class="attr">success</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> &#123; loading, run &#125; = useRequest(changeUsername, &#123;</span><br><span class="line">    <span class="attr">manual</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">onSuccess</span>: <span class="function">(<span class="params">result, params</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (result.success) &#123;</span><br><span class="line">        setState(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        message.success(<span class="string">`The username was changed to &quot;<span class="subst">$&#123;params[<span class="number">0</span>]&#125;</span>&quot; !`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">input</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">onChange</span>=<span class="string">&#123;(e)</span> =&gt;</span> setState(e.target.value)&#125;</span></span><br><span class="line"><span class="xml">        value=&#123;state&#125;</span></span><br><span class="line"><span class="xml">        placeholder=&quot;Please enter username&quot;</span></span><br><span class="line"><span class="xml">        style=&#123;&#123; width: 240, marginRight: 16 &#125;&#125;</span></span><br><span class="line"><span class="xml">      /&gt;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">disabled</span>=<span class="string">&#123;loading&#125;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> run(state)&#125;&gt;</span></span><br><span class="line"><span class="xml">        &#123;loading ? &#x27;Loading&#x27; : &#x27;Edit&#x27;&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç†è§£æ’ä»¶å¼"><a href="#ç†è§£æ’ä»¶å¼" class="headerlink" title="ç†è§£æ’ä»¶å¼"></a>ç†è§£æ’ä»¶å¼</h3><p>useRequest å…¥å£æ–‡ä»¶ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useRequest</span>&lt;<span class="title">TData</span>, <span class="title">TParams</span> <span class="title">extends</span> <span class="title">any</span>[]&gt;(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  service: Service&lt;TData, TParams&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">  options?: Options&lt;TData, TParams&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">  plugins?: Plugin&lt;TData, TParams&gt;[]</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> useRequestImplement&lt;TData, TParams&gt;(service, options, [</span><br><span class="line">    ...(plugins || []),</span><br><span class="line">    useDebouncePlugin,</span><br><span class="line">    useLoadingDelayPlugin,</span><br><span class="line">    usePollingPlugin,</span><br><span class="line">    useRefreshOnWindowFocusPlugin,</span><br><span class="line">    useThrottlePlugin,</span><br><span class="line">    useAutoRunPlugin,</span><br><span class="line">    useCachePlugin,</span><br><span class="line">    useRetryPlugin,</span><br><span class="line">  ] <span class="keyword">as</span> Plugin&lt;TData, TParams&gt;[])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>useRequestImplement</code> å‡½æ•°æ‰¹é‡æ³¨å…¥æ’ä»¶ï¼Œåˆå§‹åŒ–æ’ä»¶</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// run all plugins hooks</span></span><br><span class="line">fetchInstance.pluginImpls = plugins.map(<span class="function">(<span class="params">p</span>) =&gt;</span> p(fetchInstance, fetchOptions))</span><br></pre></td></tr></table></figure><p>useRequestImplement å‡½æ•°ä½¿ç”¨ useCreate hook å®ç° Fetch çš„å•ä¾‹æ¨¡å¼ ï¼ˆä¸ºä»€ä¹ˆä¸ç”¨ useCallback/useMemo?ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchInstance = useCreation(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> initState = plugins</span><br><span class="line">    .map(<span class="function">(<span class="params">p</span>) =&gt;</span> p?.onInit?.(fetchOptions))</span><br><span class="line">    .filter(<span class="built_in">Boolean</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Fetch&lt;TData, TParams&gt;(</span><br><span class="line">    serviceRef,</span><br><span class="line">    fetchOptions,</span><br><span class="line">    update,</span><br><span class="line">    <span class="built_in">Object</span>.assign(&#123;&#125;, ...initState)</span><br><span class="line">  )</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure><p>å¾€ä¸‹å…³æ³¨ <code>Fetch</code> ç±»ï¼Œè¿™ä¸ª Fetch.ts æ–‡ä»¶æ˜¯å‘èµ·è¯·æ±‚çš„æ ¸å¿ƒæ–‡ä»¶ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Fetch</span>&lt;<span class="title">TData</span>, <span class="title">TParams</span> <span class="keyword">extends</span> <span class="title">any</span>[]&gt; </span>&#123;</span><br><span class="line">  <span class="attr">pluginImpls</span>: PluginReturn&lt;TData, TParams&gt;[];</span><br><span class="line"></span><br><span class="line">  count: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// ç»´æŠ¤çš„çŠ¶æ€</span></span><br><span class="line">  state: FetchState&lt;TData, TParams&gt; = &#123;</span><br><span class="line">    <span class="attr">loading</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">params</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">error</span>: <span class="literal">undefined</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">public</span> serviceRef: MutableRefObject&lt;Service&lt;TData, TParams&gt;&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">public</span> options: Options&lt;TData, TParams&gt;,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">public</span> subscribe: Subscribe,</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">public</span> initState: Partial&lt;FetchState&lt;TData, TParams&gt;&gt; = &#123;&#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  </span>)</span> &#123;</span><br><span class="line">     <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      ...this.state,</span><br><span class="line">      <span class="attr">loading</span>: !options.manual,</span><br><span class="line">      ...initState,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">runPluginHandler</span>(<span class="params">event: keyof PluginReturn&lt;TData, TParams&gt;, ...rest: <span class="built_in">any</span>[]</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> r = <span class="built_in">this</span>.pluginImpls.map(<span class="function">(<span class="params">i</span>) =&gt;</span> i[event]?.(...rest)).filter(<span class="built_in">Boolean</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.assign(&#123;&#125;, ...r);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> runAsync(...params: TParams): <span class="built_in">Promise</span>&lt;TData&gt; &#123;</span><br><span class="line">   ...</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// replace service =&gt; useCachePlugin</span></span><br><span class="line">      <span class="keyword">let</span> &#123; servicePromise &#125; = <span class="built_in">this</span>.runPluginHandler(<span class="string">&#x27;onRequest&#x27;</span>, <span class="built_in">this</span>.serviceRef.current, params);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!servicePromise) &#123;</span><br><span class="line">        servicePromise = <span class="built_in">this</span>.serviceRef.current(...params);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">run</span>(<span class="params">...params: TParams</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">cancel</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">   ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">refresh</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"> ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">refreshAsync</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">mutate</span>(<span class="params">data?: TData | ((oldData?: TData) =&gt; TData | <span class="literal">undefined</span>)</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hook </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm version</title>
      <link href="post/npn%20version/"/>
      <url>post/npn%20version/</url>
      
        <content type="html"><![CDATA[<h2 id="npm-version"><a href="#npm-version" class="headerlink" title="npm version"></a>npm version</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm version [&lt;newversion&gt; | major | minor | patch | premajor | preminor | prepatch | prerelease | from-git]</span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span>: verison</span><br></pre></td></tr></table></figure><blockquote><p>npm version from-git å‘½ä»¤è·å–æœ€æ–°æœ€æ–°çš„tagï¼ˆgit describeï¼‰</p></blockquote><p>ä¸‹é¢æ˜¯å…³äºç‰ˆæœ¬é€‰é¡¹çš„æè¿°ï¼ˆå‡è®¾é»˜è®¤ç‰ˆæœ¬ä¸º0.2.0ï¼‰ï¼š</p><table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th><th>ä¾‹å­</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>major</td><td>é‡å¤§æ›´æ–°ç‰ˆæœ¬</td><td><code>npm version major</code></td><td>0.2.0 =ã€‹1.0.0</td></tr><tr><td>minor</td><td>ä¸»è¦æ›´æ–°ç‰ˆæœ¬</td><td><code>npm version minor</code></td><td>0.2.0 =ã€‹0.3.0</td></tr><tr><td>patch</td><td>è¡¥ä¸æ›´æ–°ç‰ˆæœ¬</td><td><code>npm version patch</code></td><td>0.2.0 =ã€‹0.2.1</td></tr><tr><td>premajor</td><td>é‡å¤§æ›´æ–°é¢„å‘å¸ƒç‰ˆæœ¬</td><td><code>npm version premajor</code></td><td>0.2.0 =ã€‹1.0.0-0</td></tr><tr><td>preminor</td><td>ä¸»è¦æ›´æ–°é¢„å‘å¸ƒç‰ˆæœ¬</td><td><code>npm version preminor</code></td><td>0.2.0 =ã€‹0.3.0-0</td></tr><tr><td>prepatch</td><td>è¡¥ä¸æ›´æ–°é¢„å‘å¸ƒç‰ˆæœ¬</td><td><code>npm version prepatch</code></td><td>0.2.0 =ã€‹0.2.1-0</td></tr><tr><td>prerelease</td><td>é¢„å‘å¸ƒç‰ˆæœ¬</td><td><code>npm version prerelease</code></td><td>0.2.0 =ã€‹0.2.1-0</td></tr><tr><td>from-git</td><td>æ‹¿å–gitçš„tagä½œä¸ºç‰ˆæœ¬å·è®¾ç½®è‡³package.jsonå†…</td><td><code>npm version from-git</code></td><td>gitçš„tagæ ‡ç­¾æ²¡æœ‰è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œä¼šæŠ›å‡ºé”™è¯¯</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å·¥ç¨‹åŒ– </category>
          
          <category> npm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESLint, Prettier, Commitizen, Husky è§„èŒƒä»£ç </title>
      <link href="post/husky+lint-staged+commitlint/"/>
      <url>post/husky+lint-staged+commitlint/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><strong>Eslint</strong>, ä¸€ä¸ªæ ¹æ®æ–¹æ¡ˆè¯†åˆ«å¹¶æŠ¥å‘Š ECMAScript/JavaScript ä»£ç é—®é¢˜çš„å·¥å…·ï¼Œå…¶ç›®çš„æ˜¯ä½¿ä»£ç é£æ ¼æ›´åŠ ä¸€è‡´å¹¶é¿å…é”™è¯¯ã€‚</p><p><strong>Prettier</strong>, code formatting tool é£æ ¼æ ¼å¼åŒ–å·¥å…·ã€‚</p><p><strong>husky</strong>ï¼Œä¸€ä¸ªä¸º git å®¢æˆ·ç«¯å¢åŠ  hook çš„å·¥å…·ã€‚æ¯”å¦‚ pre-commit é’©å­å°±ä¼šåœ¨ä½ æ‰§è¡Œ git commit çš„è§¦å‘ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ pre-commit ä¸­å®ç°ä¸€äº›æ¯”å¦‚ lint æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€ä»£ç ç¾åŒ–ç­‰æ“ä½œã€‚</p><p><strong>lint-staged</strong>ï¼Œä¸€ä¸ªä»…ä»…è¿‡æ»¤å‡º Git ä»£ç æš‚å­˜åŒºæ–‡ä»¶(è¢« git add çš„æ–‡ä»¶)çš„å·¥å…·ï¼›è¿™ä¸ªå¾ˆå®ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬å¦‚æœå¯¹æ•´ä¸ªé¡¹ç›®çš„ä»£ç åšä¸€ä¸ªæ£€æŸ¥ï¼Œå¯èƒ½è€—æ—¶å¾ˆé•¿ï¼Œå¦‚æœæ˜¯è€é¡¹ç›®ï¼Œè¦å¯¹ä¹‹å‰çš„ä»£ç åšä¸€ä¸ªä»£ç è§„èŒƒæ£€æŸ¥å¹¶ä¿®æ”¹çš„è¯ï¼Œè¿™å¯èƒ½å°±éº»çƒ¦äº†ï¼Œå¯èƒ½å¯¼è‡´é¡¹ç›®æ”¹åŠ¨å¾ˆå¤§ã€‚æ‰€ä»¥è¿™ä¸ª lint-stagedï¼Œå¯¹å›¢é˜Ÿé¡¹ç›®å’Œå¼€æºé¡¹ç›®æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ï¼Œå®ƒæ˜¯å¯¹ä¸ªäººè¦æäº¤çš„ä»£ç çš„ä¸€ä¸ªè§„èŒƒå’Œçº¦æŸã€‚</p><p><strong>Commitizen</strong> , æç¤ºå’Œæ ¼å¼åŒ– git commit æ—¥å¿—è§„èŒƒçš„å·¥å…·,è¾…åŠ©ç”Ÿæˆæ ‡å‡†è§„èŒƒåŒ–çš„ commitMsg,æ”¯æŒå¤šç§æäº¤è§„èŒƒï¼Œå¯ä»¥å®‰è£…å’Œé…ç½®ä¸åŒçš„é€‚é…å™¨å®ç°ï¼Œæœ¬æ–‡ä»¥ conventional-change-log é€‚é…å™¨ä¸ºä¾‹ ã€‚</p><p><strong>Commitlint</strong>ï¼Œæ ¡éªŒ commitMsg è§„èŒƒçš„å·¥å…·ã€‚</p><p><strong>cz-conventional-changelog</strong> , Commitizen é€‚é…å™¨ã€‚</p><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>åˆ›å»ºpackage.jsonæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm init</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-ESlint-å’Œ-Prettier"><a href="#é…ç½®-ESlint-å’Œ-Prettier" class="headerlink" title="é…ç½® ESlint å’Œ Prettier"></a>é…ç½® ESlint å’Œ Prettier</h2><p>å®‰è£…ç›¸å…³ä¾èµ–åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D eslint prettier eslint-config-prettier</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆ ESlint é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm init @eslint/config</span><br></pre></td></tr></table></figure><p><code>eslint-config-prettier</code> ç”¨æ¥å…³é—­ ESlint é£æ ¼æ£€æŸ¥ï¼Œé¿å…å’Œ Prettieré£æ ¼è§„åˆ™å†²çª</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;env&quot;</span>: &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;extends&quot;</span>: [<span class="string">&quot;eslint:recommended&quot;</span>, <span class="string">&quot;prettier&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;parserOptions&quot;</span>: &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>: &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºPrettierçš„é…ç½®æ–‡ä»¶ <strong>. prettierrc</strong> </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;tabWidth&quot;</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºPrettierå¿½ç•¥é…ç½®æ–‡ä»¶ .prettierignore</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pnpm-lock.yaml</span></span><br><span class="line"><span class="string">build</span></span><br><span class="line"><span class="string">dist</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ESlintå’ŒPrettier</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ESlintæ£€æµ‹æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">npx eslint .</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨Prettieræ£€æµ‹æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">npx prettier --check .</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨prettieræ£€æµ‹å¹¶ä¿®å¤æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">npx prettier --write .</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹package.json ,æ·»åŠ scrit</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;prettier:check&quot;</span>: <span class="string">&quot;npx prettier . --check&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;prettier:fix&quot;</span>: <span class="string">&quot;npx prettier . --write&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;npx eslint .&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Husky"><a href="#Husky" class="headerlink" title="Husky"></a>Husky</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D husky</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>Edit <code>package.json &gt; prepare</code> script and run it once:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm set-script prepare <span class="string">&quot;husky install&quot;</span></span><br><span class="line">npm run prepare</span><br></pre></td></tr></table></figure><p>Add a hook:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/pre-commit <span class="string">&quot;npx lint-staged&quot;</span></span><br><span class="line">git add .husky/pre-commit</span><br></pre></td></tr></table></figure><blockquote><p>æˆ–è€…ç›´æ¥ä½¿ç”¨ <code>npx husky-init &amp;&amp; pnpm i -D</code>  åˆ›å»ºä»¥ä¸Šæ–‡ä»¶</p></blockquote><h2 id="Lint-staged"><a href="#Lint-staged" class="headerlink" title="Lint-staged"></a>Lint-staged</h2><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D lint-staged</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º <code>lint-staged.config.js</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="string">&#x27;*.&#123;js,jsx,ts,tsx,vue&#125;&#x27;</span>: [<span class="string">&#x27;eslint --fix&#x27;</span>, <span class="string">&#x27;prettier --write&#x27;</span>],</span><br><span class="line">  <span class="string">&#x27;*.&#123;css,scss,less,md,json,yaml&#125;&#x27;</span>: [<span class="string">&#x27;prettier --write&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ .husky/pre-commit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env sh</span></span><br><span class="line">. <span class="string">&quot;<span class="subst">$(dirname -- <span class="string">&quot;<span class="variable">$0</span>&quot;</span>)</span>/_/husky.sh&quot;</span></span><br><span class="line"></span><br><span class="line">npx lint-staged</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Commitizen"><a href="#Commitizen" class="headerlink" title="Commitizen"></a>Commitizen</h2><h3 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add commitizen cz-conventional-changelog -D </span><br></pre></td></tr></table></figure><p>ä¿®æ”¹package.jsonæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨æ ¹ç›®å½•åˆ›å»º <code>.czrc</code> æ–‡ä»¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">   <span class="attr">&quot;config&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;commitizen&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;path&quot;</span>: <span class="string">&quot;cz-conventional-changelog&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºhuskyè„šæœ¬"><a href="#åˆ›å»ºhuskyè„šæœ¬" class="headerlink" title="åˆ›å»ºhuskyè„šæœ¬"></a>åˆ›å»ºhuskyè„šæœ¬</h3><p>.husky/prepare-commit-msgï¼Œåœ¨æ‰§è¡Œ <code>git commit</code>æ—¶ï¼Œä½¿ç”¨commitizen çš„äº¤äº’å¼å‘½ä»¤æ¥ä¹¦å†™commitMsg</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/prepare-commit-msg <span class="string">&quot;exec &lt; /dev/tty &amp;&amp; git cz --hook || true&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Commitlint"><a href="#Commitlint" class="headerlink" title="Commitlint"></a>Commitlint</h2><h3 id="å®‰è£…-3"><a href="#å®‰è£…-3" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Install commitlint cli and conventional config</span></span><br><span class="line">pnpm add -D @commitlint/&#123;config-conventional,cli&#125;</span><br><span class="line"><span class="comment"># For Windows:</span></span><br><span class="line">pnpm add -D @commitlint/config-conventional @commitlint/cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># Configure commitlint to use conventional config</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;module.exports = &#123;extends: [&#x27;@commitlint/config-conventional&#x27;]&#125;&quot;</span> &gt; commitlint.config.js</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-husky-è„šæœ¬"><a href="#åˆ›å»º-husky-è„šæœ¬" class="headerlink" title="åˆ›å»º husky è„šæœ¬"></a>åˆ›å»º husky è„šæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx husky add .husky/commit-msg <span class="string">&quot;npx --no -- commitlint --edit <span class="variable">$1</span>&quot;</span></span><br></pre></td></tr></table></figure><p>so easy!</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ç¨‹åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Husky </tag>
            
            <tag> ESLint </tag>
            
            <tag> Prettier </tag>
            
            <tag> Commitizen </tag>
            
            <tag> Commitlint </tag>
            
            <tag> cz-conventional-changelog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ˆè°ˆäºŒè¿›åˆ¶â€”â€”ä½è¿ç®—åŠå…¶åº”ç”¨</title>
      <link href="post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E4%BD%8D%E8%BF%90%E7%AE%97%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/"/>
      <url>post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E4%BD%8D%E8%BF%90%E7%AE%97%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="0-æ¦‚è¦"><a href="#0-æ¦‚è¦" class="headerlink" title="0. æ¦‚è¦"></a>0. æ¦‚è¦</h2><p>å‰ä¸¤ç¯‡æ–‡ç« æˆ‘ä»¬äº†è§£äº†äºŒè¿›åˆ¶çš„åŸºæœ¬åŸç†ï¼ˆ<a href="https://segmentfault.com/a/1190000023833719">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸€ï¼‰</a>ï¼‰ä»¥åŠäºŒè¿›åˆ¶çš„å››åˆ™è¿ç®—ï¼ˆ<a href="https://segmentfault.com/a/1190000023880414">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆäºŒï¼‰</a>ï¼‰ï¼Œæœ¬ç¯‡æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹äºŒè¿›åˆ¶çš„ä½è¿ç®—ã€‚</p><p>å…ˆæ¥çœ‹ä¸€ä¸‹æœ‰å“ªäº›ä½è¿ç®—ï¼š</p><p><img src="https://segmentfault.com/img/remote/1460000023918717" alt="ä½è¿ç®—ç¬¦è¡¨æ ¼"></p><p>ä¸Šè¡¨ä¸­åˆ—å‡ºäº†æˆ‘ä»¬ç¼–ç¨‹è¯­è¨€ä¸­çš„æ‰€æœ‰ä½è¿ç®—ç¬¦ä»¥åŠå®ƒä»¬å¯¹åº”çš„è§„åˆ™ã€‚åœ¨å‰é¢çš„æ–‡ç« ä¸­æˆ‘ä»¬è®²è¿‡ï¼ŒäºŒè¿›åˆ¶çš„<code>1</code>å’Œ<code>0</code>å¯¹åº”äº†ç”µå­å…ƒå™¨ä»¶ä¸­çš„é«˜ä½ç”µå¹³ï¼Œæˆ–æ˜¯å¼€å’Œå…³ï¼Œè€Œå®é™…ä¸Šï¼Œ<code>1</code>å’Œ<code>0</code>ä¹Ÿå¯ä»¥ä»£è¡¨é€»è¾‘ä¸­çš„<code>çœŸ</code>ä¸<code>å‡</code>ã€‚å› æ­¤ï¼Œä¸Šè¡¨ä¸­çš„å‰ä¸‰ä¸ªè¿ç®—ç¬¦å…¶å®ä¹Ÿæ˜¯é€»è¾‘è¿ç®—ç¬¦ï¼Œè€Œå®ƒä»¬åœ¨é€»è¾‘è¿ç®—ä¸­çš„è§„åˆ™ï¼Œå’ŒäºŒè¿›åˆ¶ä½è¿ç®—åŸºæœ¬ä¸€è‡´ï¼Œæˆ‘ä»¬ä¼šåœ¨æ–‡ä¸­æåŠæ—¶åšä¸€äº›è¯´æ˜ã€‚</p><h2 id="1-ä½è¿ç®—"><a href="#1-ä½è¿ç®—" class="headerlink" title="1. ä½è¿ç®—"></a>1. ä½è¿ç®—</h2><p>æ‰€è°“ä½è¿ç®—ï¼ŒæŒ‡çš„æ˜¯ç›´æ¥å¯¹äºŒè¿›åˆ¶çš„ä½è¿›è¡Œçš„è¿ç®—ï¼Œå®ƒåªé’ˆå¯¹äºŒè¿›åˆ¶çš„æ¯ä¸€ä¸ªä½ï¼Œæ‰€ä»¥å®ƒä¸å‰é¢æˆ‘ä»¬è®²çš„å››åˆ™è¿ç®—çš„æœ€æ ¹æœ¬çš„åŒºåˆ«æ˜¯ï¼š<strong>ä½è¿ç®—æ²¡æœ‰è¿›ä½</strong>ã€‚</p><p>æ³¨æ„äº†ï¼Œæœ¬ç¯‡æ–‡ç« æ‰€è°ˆçš„ä½è¿ç®—ï¼Œéƒ½æ˜¯é’ˆå¯¹äºŒè¿›åˆ¶çš„è¿ç®—ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥å°†è¿™äº›è¿ç®—ç¬¦ç›´æ¥ä½œç”¨åœ¨åè¿›åˆ¶æ•°ä¸Šï¼ˆä»£ç ä¸­ï¼‰ï¼Œä½†å®ƒèƒŒåçš„è®¡ç®—è¿‡ç¨‹å´æ˜¯é’ˆå¯¹è¯¥æ•°å¯¹åº”çš„äºŒè¿›åˆ¶æ•°çš„ã€‚</p><p>æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªæ¥çœ‹ã€‚</p><h2 id="1-1-ä¸"><a href="#1-1-ä¸" class="headerlink" title="1.1 ä¸"></a>1.1 ä¸</h2><p>ä¸è¿ç®—ï¼Œè¿ç®—ç¬¦å·æ˜¯<code>&amp;</code>ã€‚é¦–å…ˆï¼Œä¸è¿ç®—æ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯åƒæˆ‘ä»¬çš„åŠ å‡ä¹˜é™¤å››åˆ™è¿ç®—ä¸€æ ·ï¼Œä¸è¿ç®—ä¹Ÿéœ€è¦ä¸¤ä¸ªæ•°è¿›è¡Œè¿ç®—ï¼Œç„¶åç”Ÿæˆç¬¬ä¸‰ä¸ªæ•°ï¼Œè­¬å¦‚ï¼š<code>A &amp; B = C</code>ã€‚</p><p>ä¸è¿ç®—çš„è§„åˆ™æ­£å¦‚ä¸Šé¢è¡¨æ ¼ä¸­æ‰€è¯´ï¼Œ**å‚ä¸è¿ç®—çš„ä¸¤ä¸ªæ•°çš„æ¯ä¸ªå¯¹åº”ä½ä¸Šçš„æ•°ï¼Œå¦‚æœéƒ½ä¸º<code>1</code>ï¼Œåˆ™ç»“æœä¹Ÿä¸º<code>1</code>ï¼Œå¦åˆ™ä¸º<code>0</code>**ã€‚è§£é‡Šä¸€ä¸‹ï¼Œå‡å¦‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªåªæœ‰ä¸€ä½çš„æœ€ç®€å•çš„äºŒè¿›åˆ¶æ•°ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´è¿›è¡Œä¸è¿ç®—çš„ç»“æœåªæœ‰å¦‚ä¸‹ä¸‰ç§ï¼š<code>1 &amp; 1 = 1</code>ï¼Œ<code>1 &amp; 0 = 0</code>ï¼Œ<code>0 &amp; 0 = 0</code>ã€‚å—¯ï¼Œè‡³å°‘åœ¨è¿™ç»„è¿ç®—ä¸­ï¼Œçœ‹ä¸Šå»æ˜¯ä¸æ˜¯å¾ˆåƒä¹˜æ³•ï¼Ÿå®é™…ä¸Šå‰é¢æˆ‘ä»¬ä¹Ÿè¯´åˆ°äº†ï¼Œä½è¿ç®—è¡¨æ ¼ä¸­çš„å‰ä¸‰ä¸ªè¿ç®—ç¬¦ä¹Ÿæ˜¯é€»è¾‘è¿ç®—ç¬¦ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠ<code>1</code>çœ‹åš<code>çœŸ</code>ï¼Œ<code>0</code>çœ‹åš<code>å‡</code>ï¼Œåˆ™è¿™ä¸‰ä¸ªè¿ç®—ç»“æœå°±å˜æˆäº†é€»è¾‘è¿ç®—çš„ç»“æœï¼Œ<code>&amp;</code>æ‰€ä»£è¡¨çš„<code>ä¸</code>ï¼Œå…¶å®å°±æ˜¯<code>ä¸”</code>ã€‚<code>çœŸä¸”çœŸ</code>ï¼Œå…¶ç»“æœæ‰èƒ½ä¸ºçœŸï¼Œå¦åˆ™éƒ½ä¸ºå‡ï¼Œä¹Ÿå°±æ˜¯<code>0</code>äº†ã€‚</p><p>ä¸Šé¢è¯´çš„æ˜¯ä¸€ä½äºŒè¿›åˆ¶çš„è¿ç®—æƒ…å†µï¼Œä¹Ÿé¡ºå¸¦æäº†ä¸€ä¸‹é€»è¾‘è¿ç®—ï¼Œé‚£ä¹ˆå¤šä½çš„äºŒè¿›åˆ¶æ•°ä¹‹é—´çš„ä¸è¿ç®—åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿå…¶å®å°±æ˜¯æŠŠä¸¤ä¸ªæ•°çš„æ¯ä¸€ä½éƒ½ä¸å¯¹æ–¹åšä¸€ä¸ªä¸è¿ç®—ï¼Œæœ€åæŠŠç»“æœæŒ‰ä½æ’åˆ—èµ·æ¥å°±è¡Œäº†ï¼Œç«–å¼å¦‚ä¸‹ï¼š</p><p><img src="https://segmentfault.com/img/remote/1460000023918716" alt="ä¸è¿ç®—"></p><p>ä¸Šé¢ä¸¤ä¸ªæ•°åˆ†åˆ«å¯¹åº”åè¿›åˆ¶çš„<code>5</code>å’Œ<code>7</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»£ç å»éªŒè¯ä¸€ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">print</span>(<span class="number">5</span>&amp;<span class="number">7</span>)    # <span class="number">5</span></span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯äºŒè¿›åˆ¶çš„ä¸è¿ç®—ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Ÿå…¶å®æ—©åœ¨å‰é¢è®²å››åˆ™è¿ç®—çš„æ—¶å€™æˆ‘ä»¬å°±å·²ç»å‘ç°ï¼ŒäºŒè¿›åˆ¶çš„è¿ç®—çœŸçš„éå¸¸ç®€å•ï¼Œè€Œä»Šå¤©æˆ‘ä»¬çœ‹åˆ°çš„ä½è¿ç®—ï¼Œç”šè‡³è¿è¿›ä½éƒ½çœäº†ï¼ŒçœŸçš„æ˜¯â€¦â€¦ç®€å•ã€‚</p><h2 id="1-2-æˆ–"><a href="#1-2-æˆ–" class="headerlink" title="1.2 æˆ–"></a>1.2 æˆ–</h2><p>ç´§æ¥ç€ï¼Œæˆ–è¿ç®—ï¼Œè¿ç®—ç¬¦ä¸º<code>|</code>ï¼ŒåŒæ ·æ˜¯äºŒå…ƒè¿ç®—ã€‚å®ƒå’Œä¸Šé¢çš„ä¸è¿ç®—çš„è¿ç®—æ–¹å¼ä¸€è‡´ï¼Œä¹Ÿæ˜¯ä¸¤ä¸ªæ•°çš„æ¯ä¸€ä½ä¸å¯¹æ–¹çš„å¯¹åº”ä¸ºè¿›è¡Œè¿ç®—ï¼Œè¿ç®—è§„åˆ™å”¯ä¸€ä¸åŒçš„åœ°æ–¹å°±æ˜¯ï¼Œ**æˆ–è¿ç®—åªéœ€è¦å…¶ä¸­ä¸€ä¸ªæ•°ä¸º<code>1</code>ï¼Œç»“æœå°±ä¸º<code>1</code>**ã€‚å³ä¸¤ä¸ªä¸€ä½äºŒè¿›åˆ¶æ•°ä¹‹é—´çš„æˆ–è¿ç®—çš„ç»“æœæœ‰å¦‚ä¸‹ä¸‰ç§ï¼š<code>1 | 1 = 1</code>ï¼Œ<code>1 | 0 = 1</code>ï¼Œ<code>0 | 0 = 0</code>ã€‚åŒæ ·çš„ï¼Œæˆ–è¿ç®—ä¹Ÿæ˜¯ä¸€ç§é€»è¾‘è¿ç®—ï¼Œè¿™é‡Œå°±ä¸å†å±•å¼€äº†ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹ä¾‹å­ï¼Œè¿˜æ˜¯<code>5</code>å’Œ<code>7</code>ï¼š</p><p><img src="https://segmentfault.com/img/remote/1460000023918719" alt="æˆ–è¿ç®—"></p><p>ç»“æœæ˜¯<code>7</code>ï¼Œæˆ‘ä»¬åŒæ ·ç”¨ä»£ç å»éªŒè¯ä¸€ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">print</span>(<span class="number">5</span>|<span class="number">7</span>)    # <span class="number">7</span></span><br></pre></td></tr></table></figure><p>éå¸¸ç®€å•ã€‚</p><h2 id="1-3-å¼‚æˆ–"><a href="#1-3-å¼‚æˆ–" class="headerlink" title="1.3 å¼‚æˆ–"></a>1.3 å¼‚æˆ–</h2><p>å¼‚æˆ–è¿ç®—ï¼Œè¿ç®—ç¬¦ä¸º<code>^</code>ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ï¼Œè¿ç®—æ–¹å¼åŒå‰é¢ä¸¤ä¸ªè¿ç®—ä¸€æ ·ï¼Œè§„åˆ™æ–¹é¢ï¼š**å¯¹åº”ä½çš„ä¸¤ä¸ªæ•°<code>ä¸åŒ</code>æ—¶ä¸º<code>1</code>ï¼Œå¦åˆ™ä¸º<code>0</code>**ã€‚å®ƒçš„è¿ç®—è§„åˆ™ä¸€éƒ¨åˆ†å’Œæˆ–è¿ç®—ç±»ä¼¼ï¼Œåªè¦ä¸¤ä¸ªæ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯<code>1</code>ï¼Œç»“æœå°±å¯ä»¥æ˜¯<code>1</code>ï¼Œä½†å¿…é¡»æ˜¯ç›¸å¼‚çš„ä¸¤ä¸ªæ•°ã€‚è¿™å¤§æ¦‚å°±æ˜¯å®ƒ<code>å¼‚æˆ–</code>è¿™ä¸ªåå­—çš„æ¥æºã€‚</p><p>ä¾ç„¶æ˜¯<code>5</code>å’Œ<code>7</code>ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç»“æœï¼š</p><p><img src="https://segmentfault.com/img/remote/1460000023918718" alt="å¼‚æˆ–è¿ç®—"></p><p>ç»“æœæ˜¯<code>10</code>ï¼Œä¹Ÿå°±æ˜¯<code>2</code>ï¼ŒéªŒè¯ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">5</span>^<span class="number">7</span>)    <span class="comment"># 2</span></span><br></pre></td></tr></table></figure><p>è®°å¾—ï¼Œå¼‚æˆ–å°±æ˜¯ä¸ç›¸åŒæ—¶ä¸º<code>1</code>ï¼Œç›¸ç­‰ä¸º<code>0</code>ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹åº”æ•°å­—æ˜¯å¦<code>ä¸ç›¸ç­‰</code>ã€‚åŒæ—¶ï¼Œå¼‚æˆ–ä¹Ÿæ˜¯ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œè¿ç®—è§„åˆ™åŒç†ã€‚</p><h2 id="1-4-å–å"><a href="#1-4-å–å" class="headerlink" title="1.4 å–å"></a>1.4 å–å</h2><p>å–åè¿ç®—ï¼Œç¬¦å·ä¸º<code>~</code>ã€‚è¿™ä¸ªè¿ç®—å°±ç¨å¾®æœ‰ç‚¹ç‰¹æ®Šäº†ï¼Œé¦–å…ˆï¼Œå®ƒæ˜¯ä¸€ç§ä¸€å…ƒè¿ç®—ï¼Œä¹Ÿå°±æ˜¯å®ƒåªå¯¹ä¸€ä¸ªæ•°è¿›è¡Œä½è¿ç®—ï¼Œç„¶åå½¢æˆç»“æœï¼›å…¶æ¬¡ï¼Œå–åè¿ç®—è¿˜æ¶‰åŠåˆ°äº†è¡¥ç ã€åç ã€åŸç ä¹‹ç±»çš„é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹å®ƒçš„è§„åˆ™ï¼š**äºŒè¿›åˆ¶æ¯ä¸€ä½æ•°å–åï¼Œå³<code>0</code>å˜<code>1</code>ï¼Œ<code>1</code>å˜<code>0</code>**ã€‚çœ‹ä¸Šå»éå¸¸ç®€å•å¯¹å§ï¼Ÿæˆ‘ä»¬æ¥æŒ‰ç…§æˆ‘ä»¬åˆæ­¥ç†è§£çš„è§„åˆ™è¯•ä¸€ä¸‹ï¼š</p><p><img src="https://segmentfault.com/img/remote/1460000023918721" alt="å–åè¿ç®—"></p><p>*<strong>ï¼ˆæ³¨æ„ï¼Œä¸Šé¢è¿™ä¸ªç­”æ¡ˆæ˜¯é”™è¯¯çš„ã€‚ï¼‰*</strong></p><p>æˆ‘ä»¬å¯¹<code>101ï¼ˆ5ï¼‰</code>å–åå¾—åˆ°äº†<code>010</code>ä¹Ÿå°±æ˜¯<code>2</code>ï¼Œç„¶åç”¨ä»£ç éªŒè¯ä¸€ä¸‹ï¼š</p><figure class="highlight stan"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(~<span class="number">5</span>)    <span class="comment"># -6</span></span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯<code>-6</code>ï¼å¥½å¥‡æ€ªï¼Œæˆ‘ä»¬å†ç”¨<code>C++</code>è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;iostream&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> number;</span><br><span class="line">    number = <span class="number">5</span>;</span><br><span class="line">    std::cout &lt;&lt; ~number;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// -6</span></span><br></pre></td></tr></table></figure><p>ç»“æœä¾ç„¶æ˜¯<code>-6</code>ï¼</p><p>æ­£å¦‚å‰é¢æ‰€è¯´ï¼ŒæŒ‰ä½å–åè¿ç®—æ¶‰åŠåˆ°äº†è¡¥ç ä¹‹ç±»çš„éªšæ“ä½œï¼Œè€Œè¿™äº›å†…å®¹ä¸åœ¨æœ¬ç¯‡æ–‡ç« çš„æ¶‰åŠèŒƒå›´å†…ï¼Œå°†ä¼šåœ¨ä¸‹ä¸€ç¯‡äºŒè¿›åˆ¶æ–‡ç« ä¸­è®²è§£ï¼Œå› æ­¤è¿™é‡Œä¸åšè¯¦ç»†å±•å¼€ï¼Œåªå¤§æ¦‚è§£é‡Šä¸€ä¸‹ï¼š</p><p>ä¸Šé¢æˆ‘ä»¬ç”¨åˆ°çš„<code>int</code>å‹çš„æ•´æ•°éƒ½æ˜¯æœ‰ç¬¦å·æ•°ï¼Œè€Œè®¡ç®—æœºåœ¨å­˜å‚¨æœ‰ç¬¦å·æ•°æ—¶å‡ä½¿ç”¨<code>äºŒè¿›åˆ¶è¡¥ç </code>ï¼Œè€Œè¡¥ç è¿™ä¸ªä¸œè¥¿ï¼Œç®€å•è¯´ä¼šåœ¨é«˜ä½ï¼ˆæ•°å­—è‡ªèº«çš„äºŒè¿›åˆ¶èŒƒå›´ä»¥å¤–ï¼‰è¡¨ç¤ºæ•°å­—çš„æ­£è´Ÿï¼Œå…¶ä¸­<code>0</code>è¡¨ç¤ºæ­£ï¼Œ<code>1</code>è¡¨ç¤ºè´Ÿï¼Œå› æ­¤æˆ‘ä»¬åœ¨åšæŒ‰ä½å–åæ“ä½œåï¼ŒåŸæ•°å­—ä¸ä»…ä»…æ˜¯è‡ªèº«æŒ‰ä½å–åï¼Œé«˜ä½ä¸Šçš„æˆ‘ä»¬çœ‹ä¸è§çš„éƒ¨åˆ†ä¹Ÿå–åäº†ï¼Œæ‰€ä»¥<code>5</code>å˜æˆ<code>-6</code>ï¼Œå°±æ˜¯ä»æ­£æ•°å˜æˆäº†è´Ÿæ•°ã€‚é‚£ä¸ºä»€ä¹ˆæ˜¯<code>-6ï¼ˆ-110ï¼‰</code>å‘¢ï¼Ÿè¿™ä¸ªå°±æ¶‰åŠåˆ°è´Ÿæ•°è¡¥ç çš„è¿ç®—è¿‡ç¨‹äº†ï¼Œç­‰æˆ‘ä»¬ä¸‹ä¸€ç¯‡è®²åˆ°çš„æ—¶å€™å†æã€‚</p><p>æ€»ä¹‹æˆ‘ä»¬è®°ä½ï¼ŒæŒ‰ä½å–åçš„ç»“æœå°±æ˜¯<strong>åŸæ•°å–è´Ÿå€¼åå†å‡ä¸€</strong>ã€‚è­¬å¦‚ä¸Šé¢çš„<code>5</code>å˜æˆ<code>-6</code>ï¼Œå°±æ˜¯<code>5 Ã— (-1) - 1 = -6</code>ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬å¦‚æœå¯¹<code>-6</code>å–åï¼Œä¼šå¾—åˆ°<code>-6 Ã— (-1) - 1 = 5</code>ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æŒ‰ä½å–åï¼Œç»†å¿ƒçš„æœ‹å‹å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œè¿™é‡Œå…¶å®è¿˜æœ‰ä¸ªå°é—®é¢˜ï¼Œä¸Šé¢æåˆ°çš„æŒ‰ä½å–åå˜æˆè´Ÿæ•°ï¼Œæ˜¯å› ä¸ºè¡¥ç ï¼Œè€Œè¡¥ç çš„é«˜ä½ä¼šç”¨<code>1</code>å’Œ<code>0</code>è¡¨ç¤ºæ­£è´Ÿï¼Œé‚£ä¹ˆå¦‚æœå¯¹ä¸€ä¸ªæ— ç¬¦å·æ•´å‹åšå–åå‘¢ï¼Ÿæˆ‘ä»¬æ¥è¯•éªŒä¸€ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;iostream&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> five;</span><br><span class="line">    five = <span class="number">5</span>;</span><br><span class="line">    cout &lt;&lt; ~five;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4294967290</span></span><br></pre></td></tr></table></figure><p>å¯¹äºä¸€ä¸ªæ— ç¬¦å·æ•°<code>5</code>å–ååå¾—åˆ°äº†<code>4294967290</code>ï¼Œçœ‹ä¸Šå»æœ‰ç‚¹åƒæº¢å‡ºäº†ï¼Œä½†å®é™…ä¸Šï¼Œ<code>4294967290</code>è¿™ä¸ªæ•°ç­‰äº$2^{32}-6$ï¼Œè¿™ä¸¤ä¸ªæ•°ï¼Œç”¨<code>32</code>ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºï¼Œåˆ†åˆ«æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0101</span>    // <span class="number">5</span></span><br><span class="line"><span class="attribute">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1010</span>    // <span class="number">4294967290</span></span><br></pre></td></tr></table></figure><p>æ•´ä¸ª<code>32</code>ä½éƒ½å¯¹ä¸Šäº†ï¼Œè¿™å›æ˜¯çœŸÂ·æŒ‰ä½å–åäº†ã€‚è¿™æ˜¯æ— ç¬¦å·æ•°çš„ç‰¹æ®Šæ€§ï¼Œå´æ›´ç¬¦åˆæˆ‘ä»¬çš„ç›´è§‰ã€‚è€Œ$2^{32}-6$ä¸­çš„è¿™ä¸ª<code>-6</code>å¾ˆå‡‘å·§ï¼Œæ­£å¥½æ˜¯æœ‰ç¬¦å·æ•°<code>5</code>çš„å–åç»“æœï¼Œå®é™…ä¸Šæˆ‘ä»¬å¦‚æœç”¨æ›´å¤šçš„æ•°å»è¯•ï¼Œä¼šå‘ç°è¿™å¹¶ä¸æ˜¯å‡‘å·§ï¼Œè€Œæ˜¯ç¡®ç¡®å®å®çš„è§„å¾‹ã€‚ç­‰åˆ°æˆ‘ä»¬è®²åˆ°è¡¥ç çš„æ—¶å€™ï¼Œå°±æ˜ç™½æ˜¯æ€ä¹ˆå›äº‹äº†ã€‚</p><h3 id="1-5-å·¦ç§»"><a href="#1-5-å·¦ç§»" class="headerlink" title="1.5 å·¦ç§»"></a>1.5 å·¦ç§»</h3><p>å¥½äº†ï¼Œæœ€éº»çƒ¦çš„ä¸€ä¸ªè¿ç®—è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥æ˜¯ä¸¤ä¸ªäº’ä¸ºé€†è¿ç®—çš„è¿ç®—ï¼Œå…ˆæ¥çœ‹çœ‹å·¦ç§»è¿ç®—ã€‚</p><p>å·¦ç§»è¿ç®—ï¼Œç¬¦å·ä¸º<code>&lt;&lt;</code>ï¼Œæ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ã€‚è¿ç®—è§„åˆ™æ˜¯ï¼Œ**äºŒè¿›åˆ¶æ‰€æœ‰ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œè‹¥é«˜ä½æº¢å‡ºï¼Œåˆ™ä¸¢å¼ƒï¼Œä½ä½è¡¥<code>0</code>**ã€‚å¾ˆå¤šäººç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªè¿ç®—çš„æ—¶å€™ä¼šå¾ˆæ‡µï¼Œä¸çŸ¥é“å®ƒåˆ°åº•è¦å¹²å˜›ï¼Œä»€ä¹ˆå«å·¦ç§»è‹¥å¹²ä½ï¼Ÿå…¶å®å®ƒçš„è¿ç®—è§„åˆ™ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­æ¥çœ‹ï¼Œè¿˜æ˜¯<code>101ï¼ˆ5ï¼‰</code>å¥½äº†ï¼Œæˆ‘ä»¬æ¥è®¡ç®—ä¸€ä¸‹<code>101 &lt;&lt; 1</code>çš„ç»“æœï¼Œè¿™ä¸ªå¼å­çš„æ„æ€æ˜¯ï¼Œ<code>101</code>è¿™ä¸ªæ•°å·¦ç§»<code>1</code>ä½ã€‚</p><p><img src="https://segmentfault.com/img/remote/1460000023918720" alt="å·¦ç§»è¿ç®—"></p><p>æˆ‘ä»¬æ³¨æ„è§‚å¯Ÿ<code>1010</code>è¿™ä¸ªç»“æœï¼Œçœ‹ä¸Šå»æ˜¯ä¸æ˜¯å°±åƒï¼Œåœ¨<code>101</code>çš„åé¢ï¼ˆå³è¾¹ï¼‰åŠ äº†ä¸€ä¸ª<code>0</code>ï¼Ÿå—¯ï¼Œæ²¡é”™ï¼Œè¿™ä¸ªç›´è§‰æ˜¯å¯¹çš„ï¼Œ<code>101 &lt;&lt; 1</code>å°±æ˜¯åœ¨<code>101</code>çš„åé¢åŠ äº†ä¸€ä¸ª<code>0</code>ã€‚é‚£ä¸ºä»€ä¹ˆå«å·¦ç§»å‘¢ï¼Ÿæˆ‘ä»¬æ¥æŠŠä¸Šé¢çš„ç«–å¼ç¨ç¨åšä¸€äº›æ”¹åŠ¨ï¼š</p><p><img src="https://segmentfault.com/img/remote/1460000023918722" alt="å·¦ç§»è¿ç®—è¿‡ç¨‹"></p><p>æˆ‘ä»¬åœ¨<code>101</code>çš„å³è¾¹åŠ äº†ä¸€ä¸ªåŸºå‡†çº¿ï¼Œç„¶åå½“æˆ‘ä»¬åš<code>101 &lt;&lt; 1</code>æ—¶ï¼Œä»¥è¿™æ ¹çº¿ä¸ºå‡†ï¼Œæ•´ä¸ª<code>101</code><strong>å‘å·¦</strong>ç§»åŠ¨äº†<code>1</code>ä½ï¼Œæœ€ååœ¨<code>101</code>å’ŒåŸºå‡†çº¿ä¹‹é—´æ·»åŠ ä¸€ä¸ª<code>0</code>ï¼Œå¾—åˆ°äº†<code>1010</code>è¿™ä¸ªç»“æœã€‚è¿™å°±æ˜¯<strong>å·¦ç§»</strong>çš„åŸå› äº†ï¼Œè™½ç„¶çœ‹èµ·æ¥åƒæ˜¯åœ¨åŸæ•°çš„å³è¾¹åŠ äº†<code>0</code>ï¼Œå…¶å®æ˜¯<strong>æ•´ä¸ªæ•°å­—ä»¥ä¸€æ ¹çœ‹ä¸è§çš„çº¿ä¸ºåŸºå‡†ï¼Œå‘å·¦ç§»åŠ¨äº†<code>n</code>ä½</strong>ã€‚å› ä¸ºå³è¾¹æ˜¯ä½ä½ï¼Œæ‰€ä»¥ä½ä½è¡¥<code>0</code>ï¼Œè€Œé«˜ä½å¦‚æœè¶…è¿‡äº†è¡¨ç¤ºèŒƒå›´ï¼Œå‘ç”Ÿäº†æº¢å‡ºï¼Œå°±ç›´æ¥ä¸¢å¼ƒã€‚</p><p>è§£é‡Šå®Œäº†è¿ç®—è§„åˆ™ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹<code>101 &lt;&lt; 1</code>çš„ç»“æœ<code>1010</code>ï¼Œè¿™ä¸ªæ•°å­—çš„åè¿›åˆ¶æ˜¯<code>10</code>ï¼Œæ­£å¥½æ˜¯<code>101ï¼ˆ5ï¼‰</code>çš„<code>2</code>å€ï¼Œé‚£å¦‚æœæˆ‘ä»¬ç»§ç»­å·¦ç§»å‘¢ï¼Ÿä¹Ÿå°±æ˜¯<code>101 &lt;&lt; 2 = 1010 &lt;&lt; 1 = 10100</code>ï¼Œè¿™ä¸ª<code>10100ï¼ˆ20ï¼‰</code>åˆæ˜¯<code>10</code>çš„<code>2</code>å€ï¼Œ<code>5</code>çš„<code>4</code>å€ã€‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">print</span>(<span class="number">5</span>&lt;&lt;<span class="number">1</span>)    # <span class="number">10</span></span><br><span class="line"><span class="attribute">print</span>(<span class="number">5</span>&lt;&lt;<span class="number">2</span>)    # <span class="number">20</span></span><br></pre></td></tr></table></figure><p>çœ‹æ¥æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªè§„å¾‹ï¼š<strong>äºŒè¿›åˆ¶æ¯å·¦ç§»è¿ç®—ä¸€ä½ï¼Œåˆ™ç»“æœæ˜¯åŸæ¥çš„<code>2</code>å€</strong>ã€‚æ‰€ä»¥å¦‚æœå·¦ç§»<code>n</code>ä½ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯åŸæ¥çš„$2^n$å€ã€‚</p><p>è¿™æ˜¯ä¸ªå¾ˆæ˜¾è€Œæ˜“è§çš„è§„å¾‹ï¼Œä½†è®¸å¤šäººåœ¨åˆšæ¥è§¦å·¦ç§»ï¼ŒäºŒè¿›åˆ¶çš„æ—¶å€™ï¼Œä¸æ˜¯å¾ˆç†è§£ï¼Œä¸ºä»€ä¹ˆæ˜¯<code>2</code>çš„å€æ•°ï¼Ÿå› ä¸ºâ€¦â€¦è¿™æ˜¯äºŒè¿›åˆ¶ï¼Œå—¯ï¼Œå°±ä¹ˆç®€å•ã€‚å¥½å§ï¼Œæˆ‘å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œç›¸ä¿¡ä¸æ‡‚çš„æœ‹å‹ä»¬çœ‹äº†è¿™ä¸ªä¾‹å­å°±æ˜ç™½äº†ã€‚</p><p>æˆ‘è¿™é‡Œåˆ›é€ ä¸€ä¸ªè¿ç®—ç¬¦<code>&lt;-</code>ï¼ˆæˆ‘ä¸çŸ¥é“å®é™…ä¸Šæœ‰æ²¡æœ‰è¿™æ ·çš„è¿ç®—ç¬¦ï¼‰ï¼Œå‡è®¾å®ƒçš„ä½œç”¨å’Œ<code>&lt;&lt;</code>ä¸€æ ·ï¼Œä¹Ÿæ˜¯å·¦ç§»ï¼Œä½†ä½œç”¨äº<code>åè¿›åˆ¶</code>æ•°å­—ï¼Œè¿ç®—è§„åˆ™å’Œ<code>&lt;&lt;</code>ä¸€æ¨¡ä¸€æ ·ã€‚æ¥ç€æˆ‘ä»¬æ¥è®¡ç®—<code>5 &lt;- 1</code>ï¼ŒæŒ‰ç…§å·¦ç§»è¿ç®—çš„è§„åˆ™ï¼Œ<code>5</code>å‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œä½ä½è¡¥<code>0</code>ï¼Œç»“æœå°±æ˜¯<code>50</code>ã€‚çœ‹åˆ°äº†å—ï¼Ÿè¿™ä¸ªç»“æœæ˜¯<code>5</code>çš„<code>10</code>å€ï¼ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶å¸¸è¯´çš„ï¼Œåœ¨ä»€ä¹ˆä»€ä¹ˆæ•°å­—åé¢åŠ ä¸ª<code>0</code>ã€‚åè¿›åˆ¶ï¼Œæ‰€ä»¥å€æ•°æ˜¯<code>10</code>ï¼ŒäºŒè¿›åˆ¶ï¼Œæ‰€ä»¥å€æ•°æ˜¯<code>2</code>ï¼Œè¿™ä¸€ç‚¹ç›¸ä¿¡çœ‹è¿‡æˆ‘å‰é¢æ–‡ç« <strong>ã€<a href="https://link.segmentfault.com/?enc=CSFCYAN1h185/be1r4rx3g==.AYhn8DqvHp+1wCkTZVBe3+UpI+UicerrAnUK8dlMxTqyc3Z/qhlXVQIS/k/HEro/">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸€ï¼‰</a>ã€‘</strong>çš„æœ‹å‹ä»¬ä¸€å®šä¸ä¼šé™Œç”Ÿã€‚åŒç†ï¼Œå¦‚æœåœ¨å…«è¿›åˆ¶æ•°åé¢æ·»ä¸€ä¸ª<code>0</code>ï¼Œç»“æœä¼šæ˜¯åŸæ•°çš„<code>8</code>å€ï¼Œåå…­è¿›åˆ¶å°±æ˜¯<code>16</code>å€ã€‚</p><p>å·¦ç§»è¿ç®—å…¶å®å¸®æˆ‘ä»¬åˆè¿›ä¸€æ­¥åœ°ç†è§£äº†è¿›åˆ¶ã€‚</p><h3 id="1-6-å³ç§»"><a href="#1-6-å³ç§»" class="headerlink" title="1.6 å³ç§»"></a>1.6 å³ç§»</h3><p>è¯´å®Œäº†å·¦ç§»ï¼Œæ¥ç€æ˜¯å³ç§»ã€‚å³ç§»æ˜¯å·¦ç§»çš„é€†è¿ç®—ï¼Œä¹Ÿå°±æ˜¯åŸæ•°å³è¾¹ï¼ˆå’Œä¸Šé¢å·¦ç§»ç›¸åŒä½ç½®ï¼‰ä»¥ä¸€æ ¹çº¿ä¸ºåŸºå‡†ï¼Œæ•´ä½“<strong>å‘å³</strong>ç§»åŠ¨<code>n</code>ä½ï¼Œä½ä½ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨åˆ°åŸºå‡†çº¿å³è¾¹çš„æ•°å­—åˆ™è¢«ä¸¢å¼ƒã€‚</p><p>è­¬å¦‚<code>101 &gt;&gt; 1 = 10</code>ï¼Œæ‰€ä»¥<code>5 &gt;&gt; 1 = 2</code>ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ•´æ•°çš„é™¤æ³•è®¡ç®—æ—¶ä¼šèˆå»å°æ•°éƒ¨åˆ†ï¼Œå› æ­¤<code>5 / 2 = 2</code>ï¼Œåˆ™å³ç§»æ˜¯é™¤ä»¥$2^n$è¿™ä¸ªè§„åˆ™ä¹Ÿæˆç«‹ã€‚</p><h2 id="2-ä½è¿ç®—çš„åº”ç”¨"><a href="#2-ä½è¿ç®—çš„åº”ç”¨" class="headerlink" title="2. ä½è¿ç®—çš„åº”ç”¨"></a>2. ä½è¿ç®—çš„åº”ç”¨</h2><h3 id="2-1-ä»£ç åº“ä¸­çš„åº”ç”¨"><a href="#2-1-ä»£ç åº“ä¸­çš„åº”ç”¨" class="headerlink" title="2.1 ä»£ç åº“ä¸­çš„åº”ç”¨"></a>2.1 ä»£ç åº“ä¸­çš„åº”ç”¨</h3><p>å¾ˆå¤šäººè§‰å¾—äºŒè¿›åˆ¶ä½è¿ç®—è¿™ä¸ªä¸œè¥¿å­¦äº†æ²¡ç”¨ï¼Œå› ä¸ºå¹³æ—¶å†™ä»£ç ä¹Ÿç”¨ä¸åˆ°ã€‚ä½†å®é™…ä¸Šï¼ŒäºŒè¿›åˆ¶ä½è¿ç®—åœ¨ä¸€äº›ä»£ç åº“ä¸­éå¸¸å¸¸è§ï¼Œå®ƒå¸¸è¢«ç”¨äºè®¾ç½®ä¸€äº›æ ‡è¯†ï¼ˆ<code>flag</code>ï¼‰ï¼Œåšä¸€äº›å®šåˆ¶åŒ–çš„è®¾ç½®å·¥ä½œã€‚ä¸¾å‡ ä¸ªä¾‹å­ï¼Œæœ€è¿‘åœ¨ç”¨åš<code>Go</code>è¯­è¨€åšé¡¹ç›®ï¼Œ<code>Go</code>è¯­è¨€æ ‡å‡†åº“ä¸­çš„<code>log</code>å’Œæ–‡ä»¶æ‰“å¼€æ“ä½œéƒ½ç”¨åˆ°äº†äºŒè¿›åˆ¶çš„ä½è¿ç®—ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">package</span> main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">    <span class="string">&quot;log&quot;</span></span><br><span class="line">    <span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    f, _ := <span class="built_in">os</span>.OpenFile(<span class="string">&quot;filename&quot;</span>, <span class="built_in">os</span>.O_WRONLY|<span class="built_in">os</span>.O_CREATE, <span class="number">0666</span>)</span><br><span class="line">    defer f.Close()</span><br><span class="line">    <span class="built_in">log</span>.SetFlags(<span class="built_in">log</span>.Ldate|<span class="built_in">log</span>.Lshortfile)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ƒä»¬çš„ç”¨æ³•ä¸€è‡´ï¼Œéƒ½æ˜¯ç”¨æˆ–è¿ç®—æ¥è®¾ç½®æ ‡å¿—ä½ã€‚é™¤æ ‡å‡†åº“å¤–ï¼Œå¾ˆå¤šç¬¬ä¸‰æ–¹åº“ä¹Ÿç”¨åˆ°äº†äºŒè¿›åˆ¶çš„ä½è¿ç®—ï¼Œè­¬å¦‚<code>Go</code>è¯­è¨€çš„ä¸€ä¸ªç”¨æ¥åšå®šæ—¶ä»»åŠ¡çš„ç¬¬ä¸‰æ–¹åº“<code>cron</code>ï¼ˆ<a href="https://link.segmentfault.com/?enc=AbgGTqQC2fFiUU1y1vNHvA==.INyePMeAGbACO3Gvmw7Sk610GfLf1ik4pe/33kHuyI8=">https://github.com/robfig/cron</a>ï¼‰ä¸­ç”¨æ¥è§£æ<code>Crontab</code>è¡¨è¾¾å¼çš„éƒ¨åˆ†ï¼Œå°±ç”¨åˆ°äº†å’Œä¸Šé¢æ ‡å‡†åº“ä¸­ç±»ä¼¼çš„æ–¹æ³•ã€‚å…·ä½“ç»†èŠ‚å°±ä¸å±•å¼€è®²äº†ï¼Œå¤§å®¶æœ‰å…´è¶£çš„å¯ä»¥å»çœ‹ä¸€ä¸‹å®ƒä»¬çš„æºç ã€‚</p><h3 id="2-2-ç®—æ³•åº”ç”¨"><a href="#2-2-ç®—æ³•åº”ç”¨" class="headerlink" title="2.2 ç®—æ³•åº”ç”¨"></a>2.2 ç®—æ³•åº”ç”¨</h3><p>ä¸Šé¢è¯´çš„å‡ ä¸ªéƒ½æ˜¯åœ¨ä»£ç åº“ä¸­çš„åº”ç”¨ï¼Œå› ä¸ºæ¶‰åŠæºç ç»†èŠ‚æ¯”è¾ƒå¤šï¼Œé™äºç¯‡å¹…æ²¡æœ‰å±•å¼€ã€‚è¿™é‡Œä»‹ç»ä¸€ä¸ªå®é™…çš„ç®—æ³•ä¾‹å­ï¼Œæ¥çœ‹ä¸€ä¸‹äºŒè¿›åˆ¶çš„ä½è¿ç®—åœ¨è§£å†³å®é™…é—®é¢˜æ—¶çš„å…·ä½“ç»†èŠ‚ã€‚</p><p><code>leetcode</code>ç¬¬<code>287</code>é¢˜<strong>Find the Duplicate Numberï¼ˆå¯»æ‰¾é‡å¤æ•°ï¼‰</strong>ï¼Œè¿™é¢˜æœ‰å¾ˆå¤šç§è§£æ³•ï¼Œå…¶ä¸­å°±å¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶çš„ä½è¿ç®—æ¥è®¾ç½®æ ‡å¿—ä½ï¼Œä»è€Œè§£å†³é—®é¢˜ã€‚æˆ‘å…ˆæŠŠåŸé—®é¢˜çš„ä¸­æ–‡ç‰ˆé¢˜ç›®è´´ä¸Šæ¥ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªåŒ…å« n + <span class="number">1</span> ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ <span class="number">1</span> åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ <span class="number">1</span> å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ <span class="number">1</span>:</span><br><span class="line">è¾“å…¥: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="number">2</span></span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ <span class="number">2</span>:</span><br><span class="line">è¾“å…¥: [<span class="number">3</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line"></span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line"><span class="number">1</span>. ä¸èƒ½æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚</span><br><span class="line"><span class="number">2</span>. åªèƒ½ä½¿ç”¨é¢å¤–çš„ O(<span class="number">1</span>) çš„ç©ºé—´ã€‚</span><br><span class="line"><span class="number">3</span>. æ—¶é—´å¤æ‚åº¦å°äº O(n2) ã€‚</span><br><span class="line"><span class="number">4</span>. æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚</span><br><span class="line"></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">ä¸­æ–‡é“¾æ¥ï¼šhttps:<span class="regexp">//</span>leetcode-cn.com<span class="regexp">/problems/</span>find-the-duplicate-number</span><br><span class="line">è‹±æ–‡é“¾æ¥ï¼šhttps:<span class="regexp">//</span>leetcode.com<span class="regexp">/problems/</span>find-the-duplicate-number/</span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯ä»£ç ï¼š</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Solution:</span><br><span class="line">    def findDuplicate(self, nums: List[int]) -&gt; int:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        base = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> base == base | (<span class="number">1</span> &lt;&lt; i):</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">            base |= (<span class="number">1</span> &lt;&lt; i)</span><br></pre></td></tr></table></figure><p>æˆ‘ç›´æ¥æŠŠ<code>leetcode</code>ä¸Šæäº¤çš„ä»£ç æ‹¿ä¸Šæ¥äº†ï¼Œæ‰€ä»¥ä¿ç•™ç€<code>leetcode</code>ä¸Šçš„æ ¼å¼ã€‚åœ¨è§£æè¿™æ®µä»£ç ä¹‹å‰ï¼Œæœ‰äº›æƒ…å†µæˆ‘è¦å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œå…¶å®è¿™æ®µä»£ç å¹¶æ²¡æœ‰å®Œå…¨ç¬¦åˆé¢˜å¹²ä¸­çš„è¦æ±‚ï¼Œé¢˜å¹²<code>è¯´æ˜2.</code>è¦æ±‚æˆ‘ä»¬åªèƒ½ä½¿ç”¨é¢å¤–<code>O(1)</code>çš„ç©ºé—´ï¼Œä½†ä¸Šé¢çš„ä»£ç å…¶å®ä½¿ç”¨äº†<code>O(n)</code>çš„ç©ºé—´ï¼Œå› ä¸º<code>for</code>å¾ªç¯ä¸­æ¯ä¸€æ¬¡å¾ªç¯éƒ½è®¡ç®—äº§ç”Ÿäº†ä¸€ä¸ª<code>1 &lt;&lt; i</code>ã€‚å½“ç„¶ï¼Œè¿™æ®µä»£ç å¯ä»¥é€šè¿‡<code>leetcode</code>ï¼Œè€Œä¸”è¿™ä¸ªå°é—®é¢˜å¹¶ä¸å½±å“æˆ‘ä»¬ä»Šå¤©çš„ä¸»é¢˜ï¼ŒäºŒè¿›åˆ¶ä½è¿ç®—ï¼Œæ‰€ä»¥å¯ä»¥æš‚æ—¶å¿½ç•¥å®ƒã€‚å¤§å®¶ä¹Ÿå¯ä»¥æƒ³ä¸€æƒ³ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æ”¹é€ ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œè®©å®ƒåªä½¿ç”¨<code>O(1)</code>çš„ç©ºé—´å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ¥çœ‹ä»£ç ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬è®¾ä¸€ä¸ªåŸºå‡†å€¼<code>base = 0</code>ï¼Œç„¶åå¼€å§‹éå†ä¼ å…¥çš„æ•°å­—åˆ—è¡¨<code>nums</code>ï¼Œæ¥ç€æ˜¯ä¸€ä¸ªåˆ¤æ–­è¯­å¥ï¼Œå®ƒå¾ˆé‡è¦ï¼Œä½†æˆ‘ä»¬å…ˆç•¥è¿‡å®ƒï¼Œæ¥çœ‹ä»£ç çš„æœ€åä¸€å¥<code>base |= (1 &lt;&lt; i)</code>ã€‚è¿™å¥ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬æ‹†è§£ä¸€ä¸‹æ¥çœ‹ã€‚</p><p><strong>å®ƒæ˜¯è®©<code>base</code>ä¸å¦ä¸€ä¸ªæ•°è¿›è¡Œ<code>æˆ–è¿ç®—</code>å¾—åˆ°ä¸€ä¸ªæ–°çš„<code>base</code><strong>ï¼Œè€Œ<code>base</code>æˆ–è¿ç®—çš„å¯¹è±¡æ˜¯<code>1 &lt;&lt; i</code>ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œ<code>i</code>æ˜¯<code>num</code>ä¸­å¾ªç¯çš„å…ƒç´ ï¼Œæ‰€ä»¥<code>1 &lt;&lt; i</code>å¾—åˆ°çš„äºŒè¿›åˆ¶ç»“æœä¼šæ˜¯ä¸€ä¸ª<code>1</code>åŠ ä¸Š<code>iä¸ª0</code>ï¼Œè­¬å¦‚<code>1 &lt;&lt; 3</code>ï¼Œç»“æœå°±æ˜¯<code>1000ï¼ˆ3ä¸ª0ï¼‰</code>ã€‚è¿™ç§åé¢å…¨<code>0</code>çš„äºŒè¿›åˆ¶æ•°ï¼Œå…¶å®å°±æ˜¯åœ¨å‘Šè¯‰æˆ‘ä»¬å®ƒçš„</strong>ä½ç½®</strong>ï¼Œ<code>1000</code>å°±æ˜¯è¯´å½“å‰å¾ªç¯åˆ°çš„<code>3</code>è¿™ä¸ªå€¼ï¼Œå®ƒçš„ä½ç½®åœ¨ç¬¬ä¸‰ä½ï¼ˆå³è¾¹ä½ä½æ•°èµ·ï¼‰ã€‚</p><p>æˆ‘ä»¬å°†è¿™ä¸ªå·¦ç§»è¿ç®—åçš„ç»“æœä¸<code>base</code>ç›¸æˆ–åï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å€¼ï¼Œå› ä¸º<code>base</code>ä¸€å¼€å§‹æ˜¯<code>0</code>ï¼ŒæŒ‰ç…§æˆ–è¿ç®—çš„è§„åˆ™ï¼Œ<code>0</code>ä¸ä»»ä½•æ•°ç›¸æˆ–ï¼Œéƒ½æ˜¯é‚£ä¸ªæ•°è‡ªå·±ã€‚æ‰€ä»¥ï¼Œç»“åˆä¸Šé¢è§£æçš„å·¦ç§»è¿ç®—ç»“æœçš„æ„ä¹‰ï¼Œè¿™ä¸ªæˆ–è¿ç®—çš„ç›®çš„ï¼Œæ˜¯<code>nums</code>åˆ—è¡¨ä¸­çš„å…ƒç´ åœ¨<strong>å ä½</strong>ï¼Œå…ˆæ¥å…ˆåˆ°ï¼š<strong>å¦‚æœæˆ‘å‰é¢æ²¡æœ‰è·Ÿæˆ‘ä¸€æ ·çš„å…ƒç´ ï¼Œåˆ™æˆ‘å°±å åˆ°äº†å±äºæˆ‘çš„ä½ç½®ä¸Š</strong>ã€‚é‚£å¦‚æœå‰é¢å·²ç»æœ‰äº†å‘¢ï¼Ÿé‚£ä¹ˆ<strong>å®ƒåœ¨ä½ç§»è¿ç®—åå†ä¸<code>base</code>ç›¸æˆ–ï¼Œå¾—åˆ°çš„å€¼ä¾ç„¶æ˜¯<code>base</code>çš„åŸå€¼</strong>ï¼Œä¹Ÿå°±è¾¾åˆ°äº†åˆšæ‰è¢«æˆ‘ä»¬ç•¥è¿‡çš„é‚£å¥åˆ¤æ–­<code>if base == base | (1 &lt;&lt; i)</code>çš„è§¦å‘æ¡ä»¶ï¼Œä¹Ÿå°±æ‰¾åˆ°äº†é‚£ä¸ªé‡å¤çš„æ•°ã€‚</p><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¾ç„¶æ˜¯æˆ–è¿ç®—çš„è§„åˆ™å¯¼è‡´çš„ï¼Œ<code>1 | 1 = 1</code>ï¼Œåˆšæ‰æˆ‘ä»¬è¯´åˆ°ï¼Œ<code>1 &lt;&lt; i</code>çš„æ„ä¹‰æ˜¯å£°æ˜ä½ç½®ï¼Œå±äºæˆ‘çš„ä½ç½®å°±æ˜¯<code>1</code>ï¼Œå¦‚æœå‰é¢æœ‰äº†ä¸€ä¸ªå’Œæˆ‘ç›¸åŒçš„å…ƒç´ ï¼Œåˆ™é‚£ä¸ªä½ç½®åœ¨æˆ‘æ¥ä¹‹å‰å°±è¢«å è€Œç½®ä¸º<code>1</code>äº†ã€‚è¿™æ—¶ï¼Œæˆ‘å¦‚æœå†å’Œ<code>base</code>è¿›è¡Œæˆ–è¿ç®—ï¼Œé‚£ä¸ªå±äºæˆ‘çš„ä½ç½®åœ¨è¿ç®—åè¿˜æ˜¯<code>1</code>ï¼Œ<code>base</code>æ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œå› æ­¤<code>if</code>è¯­å¥çš„æ¡ä»¶å°±æˆç«‹äº†ã€‚</p><p>è­¬å¦‚ä¸€ä¸ªåˆ—è¡¨<code>[3, 1, 3]</code>ï¼Œç¬¬ä¸€ä¸ªæ•°æ˜¯<code>3ï¼ˆ1 &lt;&lt; 3 = 1000ï¼‰</code>ï¼Œç¬¬ä¸€æ¬¡<code>if</code>åˆ¤æ–­ä¸º<code>False</code>ï¼Œ<code>base</code>è‡ªæˆ–è¿ç®—ï¼Œå¾—åˆ°<code>base = 1000</code>ï¼›</p><p>ç¬¬äºŒè½®æ˜¯<code>1ï¼ˆ1 &lt;&lt; 1 = 0010ï¼‰</code>ï¼Œä¸<code>base</code>æˆ–è¿ç®—åä¸º<code>1010</code>ï¼Œä¸ç­‰äº<code>base</code>çš„å½“å‰å€¼<code>1000</code>ï¼Œåˆ¤æ–­ä¸ºå‡ï¼Œè®¡ç®—åèµ‹å€¼<code>base = 1010</code>ï¼›</p><p>ç¬¬ä¸‰è½®æ˜¯<code>3ï¼ˆ1 &lt;&lt; 3 = 1000ï¼‰</code>ï¼Œä¸<code>base</code>æˆ–è¿ç®—åå¾—åˆ°<code>1010 | 1000 = 1010</code>ï¼Œè€Œ<code>base</code>çš„åŸå€¼ä¹Ÿæ˜¯<code>1010</code>ï¼Œäºæ˜¯<code>if</code>è¯­å¥è¢«è§¦å‘ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†è¿™ä¸ªé‡å¤çš„å€¼<code>3</code>ã€‚</p><p>è¿™å°±æ˜¯è¿™ä¸€é¢˜äºŒè¿›åˆ¶ä½è¿ç®—è§£æ³•çš„è¯¦å°½ç®—æ³•æ€è·¯ï¼Œå…¶å®åœ¨æˆ‘ä»¬ç†è§£äº†ä½è¿ç®—åï¼Œè¿™ç§æ€è·¯å¾ˆå®¹æ˜“å°±èƒ½ç†è§£ï¼Œå®ƒçš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ª<code>å ä½</code>ã€‚æœ‰äº†è¿™ç§æ€ç»´åï¼Œæˆ‘ä»¬å†å»çœ‹<code>2.1</code>ç« èŠ‚ä¸­æåŠçš„é‚£äº›ä»£ç åº“çš„äºŒè¿›åˆ¶ç®—æ³•ï¼Œç›¸ä¿¡ä¹Ÿä¼šå®¹æ˜“äº†å¾ˆå¤šã€‚</p><p>ç»“å°¾ä¹‹å‰ï¼Œè¿™é‡Œè¦å†æä¸€ä¸ªä¸œè¥¿ã€‚ä¸Šé¢è¿™æ®µä»£ç ï¼Œå…¶å®æœ‰ä¸€ä¸ªçœ‹ä¸Šå»åƒ<code>BUG</code>çš„åœ°æ–¹ï¼š<strong>å¦‚æœ<code>base</code>çš„æˆ–è¿ç®—å¯¹è±¡æ˜¯<code>0</code>å‘¢ï¼Ÿé‚£ä¸å°±ä¹Ÿç­‰äºè‡ªèº«äº†å—ï¼Ÿ</strong>å—¯ï¼Œé¦–å…ˆï¼Œé¢˜ç›®ä¸­ç»™çš„æ•°å­—æ˜¯<code>1åˆ°nä¹‹é—´</code>ï¼Œæ‰€ä»¥ä¸€å®šæ˜¯æ­£æ•´æ•°ï¼Œé‚£ä¹ˆ<code>1 &lt;&lt; i</code>çš„ç»“æœå°±ä¸å¯èƒ½ä¸º<code>0</code>ã€‚å®é™…ä¸Šï¼Œå³ä½¿<code>i</code>ä¸º<code>0</code>ï¼Œè¿™ä¸ªç»“æœä¹Ÿä¸å¯èƒ½ä¸º<code>0</code>ï¼Œè€Œæ˜¯<code>1</code>ã€‚æŒ‰ç…§ä½ç§»è¿ç®—çš„è§„åˆ™ï¼Œåªæœ‰<code>1</code>å³ç§»è¿ç®—åï¼Œç»“æœæ‰èƒ½ä¸º<code>0</code>ã€‚é‚£å¦‚æœå·¦ç§»<strong>è´Ÿæ•°</strong>ä¸ªå•ä½å‘¢ï¼Ÿå¾ˆé—æ†¾ï¼Œå·¦ç§»ä¸æ”¯æŒè´Ÿå€¼ï¼Œä¼šæŠ¥é”™ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">print</span>(<span class="number">1</span> &lt;&lt; -<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ValueError: negative shift count</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> äºŒè¿›åˆ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äºŒè¿›åˆ¶ </tag>
            
            <tag> ä½è¿ç®— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ˆè°ˆäºŒè¿›åˆ¶-åŸç ã€è¡¥ç ã€åç ã€ç§»ç </title>
      <link href="post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E5%8E%9F%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E7%A7%BB%E7%A0%81/"/>
      <url>post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E5%8E%9F%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E7%A7%BB%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h2 id="0-æ¦‚è¦"><a href="#0-æ¦‚è¦" class="headerlink" title="0. æ¦‚è¦"></a>0. æ¦‚è¦</h2><p>è€è§„çŸ©ï¼Œå…ˆå›é¡¾ä¸€ä¸‹å‰é¢ä¸‰ç¯‡æ–‡ç« æˆ‘ä»¬éƒ½è®²äº†ä»€ä¹ˆã€‚</p><p>é¦–å…ˆï¼Œç¬¬ä¸€ç¯‡<a href="https://segmentfault.com/a/1190000023833719">ã€è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸€ï¼‰ã€‘</a>æˆ‘ä»¬ä»è¿›åˆ¶æœ¬èº«çš„æ„ä¹‰å¼€å§‹ï¼Œè®¤è¯†äº†äºŒè¿›åˆ¶å’Œå…¶ä»–è¿›åˆ¶ï¼Œç„¶åå®Œæˆäº†åè¿›åˆ¶å’Œå…¶ä»–å„ç§è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ã€‚</p><p>æ¥ç€ï¼Œç¬¬äºŒç¯‡<a href="https://segmentfault.com/a/1190000023880414">ã€è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆäºŒï¼‰â€”â€”å››åˆ™è¿ç®—ã€‘</a>ä¸­ï¼Œæˆ‘ä»¬åˆ™é€šè¿‡åè¿›åˆ¶çš„å››åˆ™è¿ç®—åŸç†ï¼Œæ¨å¯¼å‡ºäºŒè¿›åˆ¶çš„å››åˆ™è¿ç®—ã€‚</p><p>ä¸Šä¸€ç¯‡<a href="https://segmentfault.com/a/1190000023918713">ã€è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸‰ï¼‰â€”â€”ä½è¿ç®—åŠå…¶åº”ç”¨ã€‘</a>ï¼Œæˆ‘ä»¬å°†äºŒè¿›åˆ¶ä»çº¯æ•°å­¦çš„ä¸–ç•Œä¸­å¸¦åˆ°äº†è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œå¹¶é€šè¿‡ä¸€ä¸ªçœŸå®çš„ç®—æ³•é¢˜ï¼Œäº†è§£äº†äºŒè¿›åˆ¶ä½è¿ç®—åœ¨å®é™…ç¼–ç¨‹ä¸­çš„ä½¿ç”¨ã€‚</p><p>ä»Šå¤©è¿™ç¯‡ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹äºŒè¿›åˆ¶åœ¨è®¡ç®—æœºä¸­çš„ç‰¹æ®Šè¡¨ç¤ºã€‚</p><h2 id="1-æœ‰ç¬¦å·æ•°å’Œæ— ç¬¦å·æ•°"><a href="#1-æœ‰ç¬¦å·æ•°å’Œæ— ç¬¦å·æ•°" class="headerlink" title="1. æœ‰ç¬¦å·æ•°å’Œæ— ç¬¦å·æ•°"></a>1. æœ‰ç¬¦å·æ•°å’Œæ— ç¬¦å·æ•°</h2><p>åœ¨è®²å„ç§ç ä¹‹å‰ï¼Œå…ˆæ¥ç†Ÿæ‚‰ä¸€ä¸‹ä¸¤ä¸ªæ¦‚å¿µï¼š<strong>æœ‰ç¬¦å·æ•°</strong>å’Œ<strong>æ— ç¬¦å·æ•°</strong>ã€‚è¿™ä¸¤ä¸ªæ¦‚å¿µå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å­—é¢çš„æ„æ€ï¼Œä¸€ä¸ªæ•°å€¼æ˜¯å¦æœ‰æ­£è´Ÿç¬¦å·ã€‚</p><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼ŒæŒ‰ä½å–åçš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åœ¨<code>C++</code>ä»£ç ä¸­ç”¨<code>unsigned</code>å…³é”®å­—å®šä¹‰äº†ä¸€ä¸ªæ— ç¬¦å·æ•°ã€‚æ— ç¬¦å·æ•°çš„æ„æ€å°±æ˜¯ï¼Œè¿™ä¸ªæ•°å­—å­˜å‚¨åœ¨è®¡ç®—æœºä¸­çš„æ—¶å€™æ˜¯æ²¡æœ‰ç¬¦å·çš„ï¼Œä¹Ÿå°±æ˜¯æ­£æ•°ï¼›è€Œæœ‰ç¬¦å·æ•°åˆ™ä¼šæŠŠæ­£è´Ÿå·ä¹Ÿå­˜å…¥è®¡ç®—æœºä¸­ã€‚ä½†æˆ‘ä»¬çŸ¥é“ï¼Œè®¡ç®—æœºæ‰€æœ‰çš„æ•°å€¼éƒ½æ˜¯ç”±äºŒè¿›åˆ¶ç»„æˆçš„ï¼Œé‚£ä¹ˆæ­£è´Ÿå·è¿™ç§ä¸œè¥¿è¯¥æ€ä¹ˆå­˜å‚¨å‘¢ï¼Ÿ</p><p>å…¶å®æ­£å’Œè´Ÿè¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œå°±åƒå¸ƒå°”å‹çš„çœŸå’Œå‡ä¸€æ ·ï¼Œæ˜¯ä¸¤ç§æˆªç„¶ç›¸åçš„çŠ¶æ€ï¼Œå› æ­¤æ­£å’Œè´Ÿä¹Ÿå¯ä»¥ä½¿ç”¨<code>0</code>å’Œ<code>1</code>æ¥è¡¨ç¤ºï¼Œè®¡ç®—æœºé‡Œå®é™…ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼š<code>0</code>è¡¨ç¤ºæ­£ï¼Œ<code>1</code>è¡¨ç¤ºè´Ÿã€‚å¹¶ä¸”æ­£è´Ÿå·åœ¨åŸæ•°æœ‰æ•ˆæ•°çš„æœ€å‰é¢ï¼ˆå·¦è¾¹ï¼‰ï¼Œæ‰€å çš„è¿™ä¸€ä½è¢«ç§°ä¸º<strong>ç¬¦å·ä½</strong>ã€‚è­¬å¦‚<code>+1001</code>ï¼Œå®ƒçš„å®é™…å­˜å‚¨å€¼å°±æ˜¯<code>0,1001</code>ï¼Œ<code>-1001</code>å°±æ˜¯<code>1,1001</code>ï¼Œç¬¦å·ä½åœ¨é€—å·çš„å·¦è¾¹ã€‚è¿™é‡Œçš„é€—å·ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§ä¸ºäº†ä¹¦å†™æ–¹ä¾¿ä»¥åŠåŒºåˆ«æ•´æ•°å°æ•°çš„çº¦å®šä¿—æˆçš„å†™æ³•ï¼Œå³æ•´æ•°çš„æ•°å€¼ä¸ç¬¦å·ä½ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œè€Œå°æ•°çš„ç¬¦å·ä½å’Œæ•°å€¼ä½ä¹‹é—´åˆ™ä»¥å°æ•°ç‚¹éš”å¼€ï¼Œè­¬å¦‚<code>-0.1001</code>ï¼Œä¼šå†™æˆ<code>1.1001</code>ã€‚</p><p>è¿™ç§æŠŠæ­£è´Ÿå·ç»™<strong>æ•°å­—åŒ–</strong>åçš„æ•°å€¼ï¼Œè¢«ç§°ä¸º<strong>æœºå™¨æ•°</strong>ï¼Œå¸¦æ­£è´Ÿå·çš„åŸæ•°è¢«å«åš<strong>çœŸå€¼</strong>ã€‚</p><p>è®²å„ç§ç ä¹‹å‰ï¼Œè¿™é‡Œè¿˜è¦æä¸€å¥ï¼ŒåŸç ã€è¡¥ç ã€åç ã€ç§»ç è¿™äº›ç ï¼Œéƒ½åªæ˜¯æœºå™¨æ•°çš„ä¸åŒè¡¨ç¤ºå½¢å¼ï¼Œå°±åƒå‰é¢æˆ‘ä»¬è®²è¿‡çš„è¿›åˆ¶ï¼Œæ— è®ºäºŒè¿›åˆ¶è¿˜æ˜¯åè¿›åˆ¶ï¼Œå¯¹äºåŒä¸€ä¸ªæ•°å€¼æ¥è®²ï¼Œä¹Ÿåªæ˜¯ä¸åŒçš„è¡¨ç¤ºæ–¹æ³•è€Œå·²ã€‚</p><h2 id="2-åŸç "><a href="#2-åŸç " class="headerlink" title="2. åŸç "></a>2. åŸç </h2><p>å…ˆæ¥çœ‹åŸç ï¼ŒåŸç æ˜¯ä¼—å¤šç ä¸­æœ€ç®€å•çš„ä¸€ç§æœºå™¨æ•°è¡¨ç¤ºæ³•ï¼Œå…¶å®æˆ‘ä»¬ä¸Šé¢åœ¨è¯´æœ‰ç¬¦å·ä½çš„ç¬¦å·çš„æ—¶å€™ï¼Œå°±å·²ç»æŠŠåŸç çš„æ¦‚å¿µç»™è®²å®Œäº†ï¼Œ<strong>åŸç å°±æ˜¯ç¬¦å·ä½å’ŒçœŸå€¼çš„ç»å¯¹å€¼ç»„æˆçš„</strong>ã€‚å®ƒå’ŒçœŸå€¼ä¹‹é—´ä»…ä»…æ˜¯æ­£è´Ÿå·è¢«æ¢æˆäº†<code>0</code>å’Œ<code>1</code>ï¼Œç„¶åæ ¹æ®æ•´æ•°æˆ–å°æ•°åŠ ä¸Š<code>,</code>ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡ä¸­å†™åˆ°çš„é‚£å‡ ä¸ªä¾‹å­ï¼Œè¿™é‡Œç®€å•ç½—åˆ—ä¸€ä¸‹ï¼š</p><p>[+1001]_{åŸ}=0, 1001[+1001]åŸ=0,1001</p><p>[-1001]_{åŸ}=1, 1001[âˆ’1001]åŸ=1,1001</p><p>[+0.1001]_{åŸ}=0. 1001[+0.1001]åŸ=0.1001</p><p>[-0.1001]_{åŸ}=1. 1001[âˆ’0.1001]åŸ=1.1001</p><p>ä¸è¿‡è¿™é‡Œæœ‰å‡ ç‚¹æˆ‘ä»¬è¦æä¸€ä¸‹ï¼Œéå¸¸æœ‰æ„æ€ã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯æ•´æ•°è´Ÿæ•°çš„åŸç ï¼Œä¸Šæ–‡ä¸­æˆ‘ä»¬çŸ¥é“ï¼Œå°±æ˜¯æŠŠè´Ÿå·ç»™æ¢æˆ<code>1</code>ï¼Œç„¶åå†™çš„æ—¶å€™åŠ ä¸€ä¸ªé€—å·ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œ<code>-1001ï¼ˆ-9ï¼‰</code>ï¼ŒåŸç è¡¨ç¤ºä¸º<code>1, 1001</code>ã€‚è¿™é‡Œæˆ‘ä»¬åšä¸€ä¸ªå¤§èƒ†çš„è¯•éªŒï¼šæŠŠé€—å·å»æ‰ï¼Œç„¶åæŠŠå‰©ä½™çš„<code>11001</code>çœ‹åšä¸€ä¸ªå®Œæ•´çš„äºŒè¿›åˆ¶æ­£æ•´æ•°ï¼Œä¹Ÿå°±æ˜¯<code>25</code>ï¼Œçœ‹çœ‹å®ƒè·Ÿ<code>-1001ï¼ˆ-9ï¼‰</code>æœ‰ä»€ä¹ˆè”ç³»ã€‚</p><p>ä»åè¿›åˆ¶ä¸Šçš„æ•°æ¥çœ‹ï¼Œä¹çœ‹ä¹‹ä¸‹<code>25</code>å’Œ<code>ï¼ˆ-9ï¼‰</code>å¥½åƒæ²¡ä»€ä¹ˆè”ç³»ï¼Œç„¶åæˆ‘ä»¬æ¥çœ‹äºŒè¿›åˆ¶<code>11001</code>å’Œ<code>-1001</code>ï¼Œå’¦ï¼Ÿä¼¼ä¹æœ‰ç‚¹åƒï¼Œé™¤äº†æœ€é«˜ä½çš„<code>1</code>å’Œè´Ÿå·ä¹‹å¤–ï¼Œä½™ä¸‹çš„<code>4</code>ä½ä¸€æ¨¡ä¸€æ ·ï¼Œæˆ‘ä»¬æŠŠå®ƒä¿©ç›¸åŠ ï¼š<code>11001 + (-1001) = 10000</code>ã€‚å˜¿ï¼Œè¿™å°±æ›´æœ‰æ„æ€äº†ï¼Œç†Ÿæ‚‰äºŒè¿›åˆ¶è¿ç®—çš„æœ‹å‹ä»¬è‚¯å®šä¸€çœ¼å°±çœ‹å‡ºæ¥ï¼Œ<code>10000</code>å®é™…ä¸Šå°±æ˜¯$2^4=16$ã€‚</p><p>æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä»è¿™ä¸ªè¯•éªŒä¸­çŒœæµ‹ä¸€ä¸ªç»“è®ºï¼š<strong>ä¸€ä¸ªè´Ÿæ•´æ•°çš„åŸç ï¼Œç­‰äº<code>2</code>çš„<code>n</code>æ¬¡æ–¹å‡å»è‡ªå·±</strong>ï¼Ÿæ²¡é”™ï¼Œè¿™æ˜¯ä¸€ä¸ªæ­£ç¡®çš„ç»“è®ºã€‚è¿™é‡Œçš„å…³é”®æ˜¯ï¼Œ<code>n</code>æ˜¯å¤šå°‘ï¼Ÿä¸Šé¢çš„è¯•éªŒä¸­æˆ‘ä»¬çš„<code>n</code>ä¸º<code>4</code>ï¼Œè¿™é‡Œçš„<code>4</code>ï¼Œ<strong>å…¶å®å°±æ˜¯åŸæ•°çš„ä½æ•°</strong>ã€‚ç”¨æ•°å­¦è¡¨è¾¾å¼è¡¨è¾¾å°±æ˜¯ï¼šå½“$0â‰¥x&gt;-2^n$ï¼ˆxä¸ºåŸæ•°çœŸå€¼ï¼‰æ—¶ï¼Œåˆ™$[x]_{åŸ}=2^n-x$ã€‚</p><p>æ­£æ•´æ•°å°±æ²¡å•¥å¥½è¯´çš„ï¼Œç›´æ¥åœ¨çœŸå€¼ç»å¯¹å€¼å‰é¢åŠ ä¸ª<code>0,</code>ã€‚</p><p>å†æ¥çœ‹çœ‹å°æ•°ï¼Œå› ä¸ºå°æ•°çš„ç¬¦å·ä½å’Œæ•°å€¼ä½ç”¨å°æ•°ç‚¹éš”å¼€ï¼Œå› æ­¤å½“<code>0 â‰¤ x &lt; 1</code>æ—¶ï¼Œä¹Ÿå°±æ˜¯æ­£å°æ•°æ—¶ï¼Œå®ƒçš„åŸç å°±ç­‰äºå®ƒè‡ªå·±ã€‚è´Ÿå°æ•°å‘¢ï¼Ÿè­¬å¦‚<code>-0.1001</code>ï¼ŒåŸç å†™æˆ<code>1. 1001</code>ï¼Œä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯<code>1. 1001 = 1 - (-0.1001)</code>ã€‚</p><p>åŸç å°±æ˜¯è¿™æ ·ï¼Œåé¢çš„è¿™äº›æ•°å­¦è¿ç®—è§„å¾‹å…¶å®ä¸ç®¡ä¹Ÿæ— æ‰€è°“ï¼Œå› ä¸ºåŸç æœ¬èº«å®åœ¨æ˜¯å¤ªç®€å•æ˜“æ‡‚äº†ã€‚</p><h2 id="3-è¡¥ç "><a href="#3-è¡¥ç " class="headerlink" title="3. è¡¥ç "></a>3. è¡¥ç </h2><p>è¡¥ç å°±ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå®ƒçš„åŸºç¡€åŸç†æ¶‰åŠåˆ°äº†<code>è¡¥æ•°</code>å’Œ<code>æ¨¡</code>çš„æ¦‚å¿µï¼Œè¿™é‡Œæˆ‘å‚è€ƒäº†<strong>å”æœ”é£è€å¸ˆçš„ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹</strong>ä¸­çš„ä¸€äº›æ¦‚å¿µå’Œä¾‹å­æ¥è®²è§£ã€‚</p><h2 id="3-1-è¡¥æ•°å’Œæ¨¡"><a href="#3-1-è¡¥æ•°å’Œæ¨¡" class="headerlink" title="3.1 è¡¥æ•°å’Œæ¨¡"></a>3.1 è¡¥æ•°å’Œæ¨¡</h2><p>è¡¥æ•°çš„æ¦‚å¿µåˆæ¬¡æ¥è§¦ä¼šè§‰å¾—é™Œç”Ÿï¼Œä½†å®ƒå®é™…ä¸Šå¯èƒ½å°±å­˜åœ¨äºæˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚è­¬å¦‚ï¼ŒæŸä¸€æ—¶åˆ»æ—¶é’Ÿçš„æŸä¸ªæŒ‡é’ˆæŒ‡å‘<code>6</code>ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®©å®ƒæŒ‡å‘<code>3</code>ï¼Œæˆ‘ä»¬å¯ä»¥è®©æŒ‡é’ˆæ²¿é€†æ—¶é’ˆæ–¹å‘èµ°<code>3</code>æ ¼ï¼Œä¹Ÿå¯ä»¥è®©å®ƒæ²¿é¡ºæ—¶é’ˆæ–¹å‘èƒ½èµ°<code>9</code>æ ¼ï¼Œæœ€ç»ˆéƒ½ä¼šè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘<code>3</code>ã€‚å‡è®¾é¡ºæ—¶é’ˆæ–¹å‘ä¸ºæ­£ï¼Œé€†æ—¶é’ˆæ–¹å‘ä¸ºè´Ÿï¼Œåˆ™åˆšæ‰çš„ä¸¤ä¸ªè¡Œä¸ºåˆ†åˆ«ä¸ºï¼š<code>6 + (-3) = 3</code>å’Œ<code>6 + 9 = 15</code>ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œè™½ç„¶æˆ‘ä»¬æ—¥å¸¸é‡‡ç”¨<code>24</code>å°æ—¶åˆ¶ï¼Œä½†é’Ÿè¡¨ä¸Šçš„åˆ»åº¦é€šå¸¸åªæœ‰<code>12</code>ä¸ªåˆ»åº¦ï¼Œå› æ­¤æŒ‡é’ˆè¶…è¿‡<code>12</code>æ—¶ï¼Œå°±ä¼šå›å½’<code>1</code>ã€<code>2</code>ç­‰ç­‰ã€‚å› æ­¤ä¸Šé¢æˆ‘ä»¬å¾—åˆ°çš„<code>15</code>ï¼Œå®é™…ä¸Šæ˜¯<code>15 - 12 = 3</code>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸€å¼€å§‹æ‰€è¦è¾¾åˆ°çš„æŒ‡å‘<code>3</code>çš„ç›®çš„åœ°ã€‚æ‰€ä»¥è¿™é‡Œ<code>15</code>å’Œ<code>3</code>åœ¨æ—¶é’Ÿä¸ŠæŒ‡å‘çš„éƒ½æ˜¯<code>3</code>ï¼Œé‚£ä¹ˆï¼Œåœ¨åˆšæ‰çš„æ“ä½œè¿‡ç¨‹ä¸­ï¼Œ<code>-3</code>å’Œ<code>+9</code>å¯¹æ—¶é’Ÿè€Œè¨€ï¼Œä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è®©åŸæœ¬åœ¨<code>6</code>çš„æŒ‡é’ˆï¼ŒæŒ‡å‘äº†<code>3</code>ã€‚</p><p>ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œåœ¨æ•°å­¦ä¸Šï¼Œç§°æ—¶é’Ÿçš„<code>12</code>æ ¼åˆ»åº¦ä¸º<code>æ¨¡</code>ï¼Œå†™ä½œ<code>mod 12</code>ï¼Œè€Œ<strong>ç§°<code>+9</code>æ˜¯<code>-3</code>ä»¥<code>12</code>ä¸ºæ¨¡çš„è¡¥æ•°</strong>ï¼Œè®°ä½œ</p><p>-3 â‰¡ +9 \qquadï¼ˆ\text{mod}\ 12ï¼‰âˆ’3â‰¡+9ï¼ˆmod 12ï¼‰</p><p>æˆ–è€…è¯´ï¼Œå¯¹äº<code>æ¨¡12</code>è€Œè¨€ï¼Œ<code>-3</code>å’Œ<code>+9</code>æ˜¯äº’ä¸ºè¡¥æ•°çš„ã€‚åŒç†æœ‰</p><p>-4 â‰¡ +8 \qquadï¼ˆ\text{mod}\ 12ï¼‰âˆ’4â‰¡+8ï¼ˆmod 12ï¼‰</p><p>-5 â‰¡ +7 \qquadï¼ˆ\text{mod}\ 12ï¼‰âˆ’5â‰¡+7ï¼ˆmod 12ï¼‰</p><p>å³å¯¹äº<code>æ¨¡12</code>è€Œè¨€ï¼Œ<code>+8</code>å’Œ<code>+7</code>åˆ†åˆ«æ˜¯<code>-4</code>å’Œ<code>-5</code>çš„è¡¥æ•°ã€‚å¯è§ï¼Œåªè¦ç¡®å®šä¸€ä¸ª<code>æ¨¡</code>ï¼Œå°±å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªä¸è´Ÿæ•°ç­‰ä»·çš„æ­£æ•°æ¥ä»£æ›¿è¯¥è´Ÿæ•°ï¼Œè€Œè¿™ä¸ªå¾—åˆ°çš„æ­£æ•°ï¼Œå³ä¸ºè´Ÿæ•°çš„<code>è¡¥æ•°</code>ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œ<strong>è¯¥è´Ÿæ•°çš„ç»å¯¹å€¼ï¼Œå’Œå®ƒçš„è¡¥æ•°ç›¸åŠ ï¼Œå°±æ˜¯æ¨¡</strong>ï¼ˆç»“è®ºä¸€ï¼‰ã€‚</p><p>é‚£ä¹ˆå½“æˆ‘ä»¬æœ‰ä¸€ä¸ªè´Ÿæ•°ï¼Œä¸”å·²çŸ¥æ¨¡æ—¶ï¼Œå¦‚ä½•æ±‚å®ƒå¯¹åº”çš„æ­£æ•°è¡¥æ•°å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦<strong>è®©è´Ÿæ•°å’Œæ¨¡ç›¸åŠ </strong>ï¼ˆç»“è®ºäºŒï¼‰ï¼Œè­¬å¦‚<code>-4 + 12 = 8 ï¼ˆmod 12ï¼‰</code>ï¼Œè¿™ä¸ª<code>+8</code>å°±æ˜¯<code>-4</code>çš„è¡¥æ•°äº†ã€‚</p><p>è¿™å°±æ˜¯æ¨¡å’Œè¡¥æ•°çš„æ¦‚å¿µã€‚è¿™é‡Œå¤§å®¶å¯èƒ½ä¼šæœ‰ç–‘é—®äº†ï¼šä¸Šé¢çš„å‡ ä¸ªå¼å­å’Œæœ€åçš„ç»“è®ºï¼Œè®²çš„éƒ½æ˜¯è´Ÿæ•°çš„è¡¥æ•°ï¼Œé‚£ä¹ˆæ­£æ•°æœ‰è¡¥æ•°å—ï¼Ÿ</p><p>æœ‰çš„ï¼Œä½†å…ˆåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ï¼Œä¸Šé¢æˆ‘ä»¬æ±‚å¾—çš„è´Ÿæ•°çš„æ¨¡åˆ°åº•æœ‰ä»€ä¹ˆç”¨ã€‚å…¶å®å‚è€ƒæˆ‘ä»¬ä¸€å¼€å§‹è®²çš„æ—¶é’Ÿçš„ä¾‹å­ï¼Œæˆ‘ä»¬éšéšçº¦çº¦å¯ä»¥æ„Ÿè§‰åˆ°ï¼Œè¡¥æ•°è¿™ä¸ªä¸œè¥¿ï¼Œ<strong>å¯ä»¥è®©å‡æ³•å˜æˆåŠ æ³•</strong>ã€‚ä¾ç„¶æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è®¾<code>A = 9, B = 5</code>ï¼Œæ±‚<code>A - Bï¼ˆmod 12ï¼‰</code>ã€‚æœ€é€šå¸¸çš„è§£æ³•æ˜¯å‡æ³•ï¼š</p><p>A - B = 9 - 5 = 4<em>A</em>âˆ’<em>B</em>=9âˆ’5=4</p><p>è¿™ä¹ˆè§£è‚¯å®šæ²¡é—®é¢˜ï¼Œä½†æˆ‘ä»¬é¢˜ç›®ä¸­ç»™å‡ºäº†<code>mod 12</code>ï¼Œé‚£ä¹ˆå¯¹æ¨¡<code>12</code>è€Œè¨€ï¼Œ<code>-5</code>å¯ä»¥ç”¨å®ƒçš„è¡¥æ•°<code>+7</code>ä»£æ›¿ï¼Œä»–ä»¬æ˜¯æ’ç­‰çš„ï¼Œäºæ˜¯è¿™é¢˜çš„å¦ä¸€ä¸ªè§£æ³•å¦‚ä¸‹ï¼š</p><p>A - B = 9 + 7 = 16<em>A</em>âˆ’<em>B</em>=9+7=16</p><p>è¿™æ ·æˆ‘ä»¬å¾—åˆ°äº†<code>16</code>ï¼Œå›æƒ³ä¸€ä¸‹æ—¶é’Ÿï¼Œ<code>16</code>è¿™ä¸ªæ•°å­—æ˜¯ä¸å­˜åœ¨çš„ï¼Œå½“æ—¶é’Ÿæ‹¨åˆ°<code>16</code>æ—¶ï¼Œå…¶å®æ˜¯<code>4</code>ï¼Œæ‰€ä»¥å¯¹äº<code>mod 12</code>ï¼Œ<code>16</code>åˆç­‰ä»·äº<code>4</code>ï¼Œå³<code>4 â‰¡ 16ï¼ˆmod 12ï¼‰</code>ã€‚é‚£ä¹ˆå¦‚æœæ­¤æ—¶æ—¶é’Ÿå†é¡ºæ—¶é’ˆè½¬ä¸€åœˆï¼ˆ<code>12</code>æ ¼ï¼‰ï¼Œåˆ°äº†<code>28</code>å‘¢ï¼Ÿå®ƒä¾ç„¶æ˜¯<code>4</code>ï¼Œå³</p><p>4 â‰¡ 16 â‰¡ 28 \qquadï¼ˆ\text{mod}\ 12ï¼‰4â‰¡16â‰¡28ï¼ˆmod 12ï¼‰</p><p>4 â‰¡ 4 + 12 â‰¡ 4 + 2\times12 â‰¡ 4 \qquadï¼ˆ\text{mod}\ 12ï¼‰4â‰¡4+12â‰¡4+2Ã—12â‰¡4ï¼ˆmod 12ï¼‰</p><p>è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ­£æ•°çš„è¡¥æ•°ï¼Œå°±æ˜¯æ­£æ•°æœ¬èº«</strong>ï¼ˆç»“è®ºä¸‰ï¼‰ã€‚</p><p>å‰é¢è®²è¿›åˆ¶æ—¶æˆ‘ä»¬åå¤è®²è¿‡ä¸€ç‚¹ï¼Œä¸åŒçš„è¿›åˆ¶ä¹‹é—´ä»…ä»…æ˜¯è¿›ä½æ–¹å¼ä¸åŒï¼Œæ‰€ä»¥ä¸Šé¢æˆ‘ä»¬è™½ç„¶ç”¨çš„æ˜¯åè¿›åˆ¶æ¥ä»‹ç»æ¨¡ï¼Œå®é™…ä¸ŠäºŒè¿›åˆ¶ä¾ç„¶å¯ä»¥ç”¨æ¨¡ï¼Œç»“åˆæ¨¡å’Œè¡¥æ•°çš„æ¦‚å¿µï¼Œä»¥åŠä¸Šé¢çš„ä¸‰ä¸ªç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹äºŒè¿›åˆ¶æ•°çš„è¡¥æ•°ï¼š</p><p>-1011 â‰¡ +0101 \qquadï¼ˆ\text{mod}\ 2^4ï¼‰âˆ’1011â‰¡+0101ï¼ˆmod 24ï¼‰</p><p>+0101 â‰¡ +0101 \qquadï¼ˆ\text{mod}\ 2^4ï¼‰+0101â‰¡+0101ï¼ˆmod 24ï¼‰</p><p>-0.1001 â‰¡ +1.0111 \qquadï¼ˆ\text{mod}\ 2ï¼‰âˆ’0.1001â‰¡+1.0111ï¼ˆmod 2ï¼‰</p><p>+0.1001 â‰¡ +0.1001 \qquadï¼ˆ\text{mod}\ 2ï¼‰+0.1001â‰¡+0.1001ï¼ˆmod 2ï¼‰</p><p>ç”¨ä¸Šé¢ç²—ä½“çš„ä¸‰ä¸ªç»“è®ºï¼Œå¾ˆå®¹æ˜“å°±èƒ½æ±‚å¾—å„ç§æ•°å­—çš„è¡¥æ•°ï¼Œè¿™é‡Œå‡ ä¸ªäºŒè¿›åˆ¶æˆ‘å°±ä¸å†è®¡ç®—éªŒè¯äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ã€‚</p><p>æœ‰äº†è¡¥æ•°çš„æ¦‚å¿µåï¼Œäººä»¬çœ‹åˆ°äº†å®ƒå¯ä»¥å°†å‡æ³•å˜æˆåŠ æ³•ï¼Œä¾¿å°†å…¶æ¦‚å¿µç”¨åˆ°äº†è®¡ç®—æœºä¸­ï¼Œäºæ˜¯å‡ºç°äº†è¡¥ç è¿™ç§æœºå™¨æ•°ã€‚</p><h3 id="3-2-è¡¥ç çš„å®šä¹‰"><a href="#3-2-è¡¥ç çš„å®šä¹‰" class="headerlink" title="3.2 è¡¥ç çš„å®šä¹‰"></a>3.2 è¡¥ç çš„å®šä¹‰</h3><p>è¡¥ç å’ŒåŸç ä¸€æ ·ï¼Œéœ€è¦ç”¨ä¸€ä½æ•°å­—åœ¨é«˜ä½ä½œä¸ºç¬¦å·ä½è¡¨æ­£è´Ÿï¼Œè€Œä½ä½çš„æ•°å€¼éƒ¨åˆ†åˆ™é‡‡ç”¨äº†è¡¥æ•°çš„æ¦‚å¿µï¼Œå› æ­¤ï¼Œç»“åˆä¸Šé¢è¡¥æ•°çš„ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡åˆ°ï¼Œ**å› ä¸ºæ­£æ•°çš„è¡¥æ•°æ˜¯å®ƒè‡ªå·±ï¼Œå› æ­¤åœ¨è¡¥ç ä¸­ï¼Œæ­£æ•°çš„æ•°å€¼ä½æ˜¯å®ƒè‡ªå·±ï¼Œç¬¦å·ä½åˆ™åŒåŸç ä¸€æ ·ï¼Œæ­£æ•°ä¸º<code>0</code>ï¼Œè´Ÿæ•°ä¸º<code>1</code>**ã€‚è­¬å¦‚ä¸‹é¢ä¸¤ä¸ªä¾‹å­ï¼š</p><p>[+1001]_{è¡¥}=0, 1001[+1001]è¡¥=0,1001</p><p>[+0.1001]_{è¡¥}=0. 1001[+0.1001]è¡¥=0.1001</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­£æ•°çš„è¡¥ç å’ŒåŸç ä¸€æ ·ã€‚</p><p>è´Ÿæ•°å°±è¦éº»çƒ¦ä¸€äº›ã€‚é¦–å…ˆï¼Œé€šè¿‡ä¸Šä¸€å°èŠ‚æˆ‘ä»¬çŸ¥é“ï¼ŒäºŒè¿›åˆ¶çš„è¡¥æ•°è®¡ç®—æ–¹å¼å’Œåè¿›åˆ¶ä¸€æ ·ï¼Œè­¬å¦‚<code>-1101</code>ï¼Œå®ƒçš„æœ€é«˜ä½ä¸ºç¬¬<code>3</code>ä½ï¼Œå› æ­¤æˆ‘ä»¬å–æ¯”å®ƒé«˜ä¸€ä½çš„æœ€å°å€¼$2^4$ä½œä¸ºæ¨¡ï¼Œæ±‚å¾—å®ƒçš„è¡¥æ•°ä¸º<code>10000 + (-1101) = 0011</code>ã€‚æŒ‰ç†è¯´ï¼Œæˆ‘ä»¬å¾—åˆ°çš„è´Ÿæ•°çš„è¡¥æ•°æ˜¯æ­£æ•°ï¼Œè¿™é‡Œåªéœ€è¦å†åŠ ä¸€ä¸ªç¬¦å·ä½<code>0</code>å³å¯ï¼Œä½†æ³¨æ„äº†ï¼Œè¡¥ç ä¸­çš„å®é™…æƒ…å†µå¹¶ä¸æ˜¯è¿™æ ·ï¼Œ<strong>å°½ç®¡è´Ÿæ•°çš„è¡¥æ•°ä¸ºæ­£æ•°ï¼Œä½†è´Ÿæ•°çš„è¡¥ç å‰çš„ç¬¦å·ä½ä¾ç„¶æ˜¯è´Ÿç¬¦å·ä½<code>1</code>ï¼Œå³ç¬¦å·ä½ä¸åŸæ•°ä¿æŒä¸€è‡´</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿæ˜æ˜æ±‚å¾—çš„è¡¥æ•°æ˜¯æ­£æ•°ï¼Œç¬¦å·ä½å´è¦ç”¨è´Ÿç¬¦å·<code>1</code>ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œåœ¨å‰é¢è®²è¡¥æ•°çš„æ—¶å€™æˆ‘ä»¬æåˆ°è¿‡ï¼Œ<strong>è¡¥æ•°çš„å‡ºç°ï¼Œå¯ä»¥è®©åŸæœ¬ä½œå‡æ³•çš„å¼å­å˜æˆåŠ æ³•</strong>ï¼Œè¡¥ç è¿™ç§æœºå™¨æ•°ä¹Ÿæ­£æ˜¯çœ‹å‡†äº†è¿™ä¸€ç‚¹æ‰è¢«è®¡ç®—æœºå¼•å…¥çš„ã€‚å¯¹äºè®¡ç®—æœºæ¥è¯´ï¼Œ<strong>è®©å‡æ³•å˜æˆåŠ æ³•ï¼Œç›¸å½“äºè®©è®¡ç®—æœºåªéœ€è¦åœ¨ç¡¬ä»¶å±‚é¢ä¸Šå®ç°ä¸€ä¸ªåŠ æ³•å™¨ï¼Œå°±å¯ä»¥è§£å†³åŠ å‡æ³•ä¸¤ç§é—®é¢˜</strong>ã€‚é‚£ä¹ˆè¿™é‡Œè¡¥ç çš„ç¬¦å·ä½çš„é—®é¢˜ï¼Œè‡ªç„¶ä¹Ÿæ˜¯ä¸ºäº†è®¡ç®—è€Œè®¾å®šå¦‚æ­¤çš„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå®é™…çš„ä¾‹å­å°±çŸ¥é“äº†ã€‚</p><p>è®¾<code>A = 1110ï¼ŒB = 1101</code>ï¼Œæˆ‘ä»¬æ¥æ±‚<code>A - B</code>çš„å€¼ã€‚å¸¸è§„ç”¨å‡æ³•ï¼Œä¸€çœ¼å¯ä»¥çœ‹å‡ºæ¥ï¼Œç»“æœæ˜¯<code>1110 - 1101 = 0001</code>ã€‚æˆ‘ä»¬å°†<code>A</code>å’Œ<code>-Bï¼ˆ-1101ï¼‰</code>ä¸¤ä¸ªæ•°éƒ½æ¢æˆè¡¥ç ï¼Œç”¨åŠ æ³•è®¡ç®—ï¼Œæ­¤æ—¶$A = 0,1110\quadï¼ˆmod\ 2^4ï¼‰$ï¼Œ$-B = 1,0011\quadï¼ˆmod\ 2^4ï¼‰$ã€‚æ³¨æ„äº†ï¼Œ<strong>åœ¨ä½¿ç”¨è¡¥ç è®¡ç®—æ—¶ï¼Œè¡¥ç çš„ç¬¦å·ä½ä¹Ÿå‚ä¸è®¡ç®—</strong>ï¼Œé‚£ä¹ˆæ­¤æ—¶è¿™ä¸¤ä¸ªè¡¥ç ç›¸åŠ åçš„ç»“æœä¸ºï¼š</p><p>0,1110 + 1,0011 = 10,0001 \qquadï¼ˆ\text{mod}\ 2^4ï¼‰0,1110+1,0011=10,0001ï¼ˆmod 24ï¼‰</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œç»“æœçš„ç¬¦å·ä½äº§ç”Ÿäº†è¿›ä½ï¼Œå˜æˆäº†<code>10</code>ã€‚è¿™é‡Œå…¶å®æ¶‰åŠåˆ°äº†å¦ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼š<strong>è¡¥ç è¿ç®—çš„ç¬¦å·ä½è¿›ä½ï¼ˆæº¢å‡ºï¼‰</strong>ã€‚ç”±äºç¯‡å¹…å…³ç³»ï¼Œæœ¬æ–‡ä¸å¯¹è¯¥çŸ¥è¯†ç‚¹å±•å¼€è®²è§£ï¼Œå¤§å®¶æœ‰å…´è¶£çš„å¯ä»¥å»æŸ¥æ‰¾èµ„æ–™äº†è§£ä¸€ä¸‹ã€‚æ€»ä¹‹ï¼Œè¿™é‡Œç¬¦å·ä½è™½ç„¶è¿›ä½äº†ï¼Œä½†å¹¶æ²¡æœ‰å‘ç”Ÿæº¢å‡ºï¼Œæˆ‘ä»¬æŠŠç¬¦å·ä½çš„æœ€é«˜ä½<code>1</code>æ‹¿æ‰ï¼Œå¾—åˆ°äº†æœ€ç»ˆçš„ç»“æœ<code>0,0001</code>ï¼Œä¹Ÿå°±æ˜¯<code>+0001</code>ï¼Œä¸ä¹‹å‰çš„å‡æ³•ç»“æœä¸€è‡´ã€‚</p><p>è¿™å°±æ˜¯è´Ÿæ•°æ±‚è¡¥ç åè®©ç¬¦å·ä½ä¹Ÿä¿æŒè´Ÿå€¼<code>1</code>çš„åŸå› äº†ã€‚ä¸Šé¢è®²çš„éƒ½æ˜¯è´Ÿæ­£æ•°ï¼Œå®é™…ä¸Šè´Ÿå°æ•°åŒç†ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Šä¸¤ä¸ªæ•°å­¦å…¬å¼æ¥å¯¹è´Ÿæ•°æ±‚è¡¥ç è¿›è¡Œä¸€ä¸ªæ€»ç»“ã€‚é¦–å…ˆæ˜¯æ•´æ•°ï¼Œæ­£æ•´æ•°å°±ä¸è¯´äº†ï¼Œå’ŒåŸç ä¸€æ ·ï¼Œè´Ÿæ•´æ•°å‘¢ï¼Ÿé™¤äº†ä¸Šé¢ç”¨æ ‡å‡†çš„è¡¥æ•°ç®—æ³•å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ä¸‹é¢è¿™ä¸ªå…¬å¼æ¥è®¡ç®—ï¼š</p><p>[x]_{è¡¥}=2^{n+1}+x\qquad0&gt;xâ‰¥-2^n\quadï¼ˆ\text{mod}\ 2^{n+1}ï¼‰[<em>x</em>]è¡¥=2<em>n</em>+1+<em>x</em>0&gt;<em>x</em>â‰¥âˆ’2<em>n</em>ï¼ˆmod 2<em>n</em>+1ï¼‰</p><p>è¿™é‡Œçš„<code>n</code>å°±æ˜¯æ•´æ•°<code>x</code>çš„ä½æ•°ã€‚æ‹¿å‰é¢æˆ‘ä»¬ç®—è¿‡çš„<code>-1101</code>ä¸¾ä¾‹ï¼š</p><p>[-1101]_{è¡¥}=2^{4+1}+(-1101)=100000-1101=1,0011[âˆ’1101]è¡¥=24+1+(âˆ’1101)=100000âˆ’1101=1,0011</p><p>æœ€é«˜ä½<code>1</code>å°±æ˜¯ç¬¦å·ä½ï¼Œä¸åé¢çš„æ•°å€¼ä½éƒ¨åˆ†ç”¨é€—å·éš”å¼€ï¼Œå°±å¾—åˆ°äº†æœ€ç»ˆçš„ç»“æœã€‚å…¶å®è¿™é‡Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ä¸€ä¸ªè§„å¾‹ï¼š**è´Ÿæ•´æ•°çš„è¡¥ç ï¼Œå°±æ˜¯åŸæ•°å­—é™¤ç¬¦å·ä½å¤–ï¼Œæ•°å€¼éƒ¨åˆ†çš„æ¯ä¸€ä½æŒ‰ä½æ±‚ååå†<code>+1</code>**ã€‚</p><p>æ¥ç€æ˜¯è´Ÿå°æ•°ï¼š</p><p>[x]_{è¡¥}=2+x\qquad0&gt;xâ‰¥-1\quadï¼ˆ\text{mod}\ 2ï¼‰[<em>x</em>]è¡¥=2+<em>x</em>0&gt;<em>x</em>â‰¥âˆ’1ï¼ˆmod 2ï¼‰</p><p>çœ‹ä¸Šå»æ›´ç®€å•äº†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ±‚<code>-0.1001</code>çš„è¡¥ç ï¼š</p><p>[-0.1001]=2+(-0.1001)=10.0000 - 0.1001=1.1010[âˆ’0.1001]=2+(âˆ’0.1001)=10.0000âˆ’0.1001=1.1010</p><p>å…¶å®è¿™é‡Œæ±‚è´Ÿå°æ•°çš„è¡¥ç çš„æ–¹å¼ï¼Œå’Œä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬æ±‚å°æ•°çš„è¡¥æ•°çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚è¿˜è®°å¾—ä¸Šä¸€èŠ‚çš„<strong>ç»“è®ºäºŒ</strong>å—ï¼Ÿæ±‚ä¸€ä¸ªè´Ÿæ•°çš„è¡¥æ•°ï¼Œå°±æ˜¯<strong>è®©è´Ÿæ•°å’Œæ¨¡ç›¸åŠ </strong>ã€‚ç„¶åæˆ‘ä»¬å†ä»”ç»†è§‚å¯Ÿä¸€ä¸‹ï¼Œä¼šå‘ç°ä¸Šé¢è´Ÿæ•´æ•°çš„æ±‚è¡¥è§„å¾‹åœ¨è´Ÿå°æ•°ä¹Ÿå¥æ•ˆï¼Œå³<strong>è´Ÿæ•°çš„è¡¥ç ï¼Œå°±æ˜¯åŸæ•°å­—é™¤ç¬¦å·ä½å¤–ï¼Œæ•°å€¼éƒ¨åˆ†çš„æ¯ä¸€ä½æŒ‰ä½æ±‚ååå†<code>+1</code>ï¼Œç„¶åç¬¦å·ä½è¯¥æ€ä¹ˆå†™æ€ä¹ˆå†™</strong>ã€‚è®°ä½è¿™ä¸ªç»“è®ºï¼Œå®ƒèƒ½è®©æˆ‘ä»¬åœ¨æ±‚è¡¥ç çš„æ—¶å€™é¿å…åŠ å‡æ³•è¿ç®—ï¼Œæ›´åŠ å®¹æ˜“ã€‚</p><p>è¡¥ç çš„æ¦‚å¿µåŸºæœ¬å°±è®²å®Œäº†ï¼Œæƒ³è¦æŒæ¡çš„è¯ï¼Œå…¶å®è¿˜æ˜¯éœ€è¦è‡ªå·±æ‹¿ç¬”ç®—ä¸€ç®—ï¼Œå†™ä¸€å†™ã€‚</p><h2 id="4-åç "><a href="#4-åç " class="headerlink" title="4. åç "></a>4. åç </h2><p>åç ï¼Œè¿™ç§æœºå™¨æ•°çš„ä¸»è¦åœºæ™¯ç”¨äºåŸç å’Œè¡¥ç çš„ç›¸äº’è½¬æ¢ï¼Œåç ä½œä¸ºä¸­é—´æ•°è¿‡åº¦ä½¿ç”¨ã€‚é¦–å…ˆï¼Œæ­£æ•°çš„åç ï¼Œè€æ ·å­ï¼Œä¾ç„¶å’ŒåŸç ä¸€æ ·ï¼Œç¬¦å·ä½<code>0</code>å’Œ<code>1</code>è¡¨ç¤ºæ­£è´Ÿï¼Œç„¶åæ˜¯æ•°å€¼ä½éƒ¨åˆ†åŸå°ä¸åŠ¨ï¼Œè¿™é‡Œç›´æ¥æ‹¿å‰é¢åŸç é‡Œçš„ä¸¤ä¸ªæ­£æ•°ä¾‹å­ï¼š</p><p>[+1001]_{å}=0, 1001[+1001]å=0,1001</p><p>[+0.1001]_{å}=0. 1001[+0.1001]å=0.1001</p><p>æœ‰åŒºåˆ«çš„ä¾ç„¶æ˜¯è´Ÿæ•°ï¼Œä½†åç çš„è´Ÿæ•°å°±ç®€å•å¤šäº†ï¼š<strong>é™¤äº†ç¬¦å·ä½ï¼Œæ•°å€¼ä½éƒ¨åˆ†æ¯ä¸€ä½éƒ½æŒ‰ä½å–å</strong>ã€‚å› æ­¤ï¼š</p><p>[-1001]_{å}=1, 0110[âˆ’1001]å=1,0110</p><p>[-0.1001]_{å}=1. 0110[âˆ’0.1001]å=1.0110</p><p>éå¸¸ç®€å•å¯¹ä¸å¯¹ï¼Ÿé‚£ä¹ˆä¸ºä»€ä¹ˆè¯´åç æ˜¯åŸç å’Œè¡¥ç ä¹‹é—´ç›¸äº’è½¬æ¢çš„ä¸­é—´è¿‡æ¸¡å‘¢ï¼Ÿåœ¨ä¸Šä¸€èŠ‚è¡¥ç çš„æœ€åï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ±‚è¡¥ç çš„ç®€å•è§„å¾‹ï¼š<strong>è´Ÿæ•°çš„è¡¥ç ï¼Œå°±æ˜¯åŸæ•°å­—é™¤ç¬¦å·ä½å¤–ï¼Œæ•°å€¼éƒ¨åˆ†çš„æ¯ä¸€ä½æŒ‰ä½æ±‚ååå†<code>+1</code>ï¼Œç„¶åç¬¦å·ä½è¯¥æ€ä¹ˆå†™æ€ä¹ˆå†™</strong>ã€‚å…¶å®è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯å¯¹<strong>åŸç </strong>å…ˆæ±‚<strong>åç </strong>å†ç»™æœ«ä½<code>+1</code>ã€‚åŒç†ï¼Œ<strong>å¦‚æœæˆ‘ä»¬çŸ¥é“äº†ä¸€ä¸ªè¡¥ç ï¼Œæƒ³è¦æ±‚å®ƒçš„åŸç ï¼Œåªéœ€è¦å…ˆå°†è¡¥ç çš„æœ«ä½<code>-1</code>åï¼Œå†å°†æ•°å€¼ä½éƒ¨åˆ†æŒ‰ä½æ±‚åå³å¯</strong>ã€‚</p><p>å¥½äº†ï¼Œæ˜ç™½äº†è¿™ä¸€ç‚¹åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¸Šä¸€ç¯‡æ–‡ç« ä¸­é—ç•™çš„é—®é¢˜ã€‚</p><h3 id="4-1-æŒ‰ä½å–åè¿ç®—"><a href="#4-1-æŒ‰ä½å–åè¿ç®—" class="headerlink" title="4.1 æŒ‰ä½å–åè¿ç®—"></a>4.1 æŒ‰ä½å–åè¿ç®—</h3><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://segmentfault.com/a/1190000023918713">ã€è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸‰ï¼‰â€”â€”ä½è¿ç®—åŠå…¶åº”ç”¨ã€‘</a>ä¸­çš„å–åè¿ç®—éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯¹æœ‰ç¬¦å·æ•°<code>5</code>è¿›è¡Œå–åï¼Œå´å¾—åˆ°äº†<code>-6</code>è¿™ä¸ªåŒªå¤·æ‰€æ€çš„ç­”æ¡ˆï¼Œå½“æ—¶æˆ‘åœ¨æ–‡ç« ä¸­è¯´ï¼Œè¿™æ˜¯å› ä¸ºè®¡ç®—æœºä¸­å­˜å‚¨æ•°å­—çš„æ–¹å¼éƒ½æ˜¯ç”¨è¡¥ç å­˜å‚¨ï¼Œä¹‹æ‰€ä»¥ä¼šå¾—åˆ°è´Ÿå€¼ï¼Œåˆ™æ˜¯ç”±äºè¡¥ç çš„æœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ï¼ŒæŒ‰ä½å–åæ—¶è¿ç¬¦å·ä½ä¸€èµ·å–åäº†ã€‚ä»Šå¤©æˆ‘ä»¬æ·±å…¥äº†è§£äº†è¡¥ç å’Œåç ï¼Œä¹Ÿæ¨å‡ºäº†è¡¥ç å’ŒåŸç ä¹‹é—´çš„è½¬æ¢æ–¹å¼ï¼Œé‚£ä¹ˆå°±ç”¨ä»Šå¤©çš„çŸ¥è¯†ï¼Œæ¥å½»åº•è§£å†³è¿™ä¸ªæŒ‰ä½å–åçš„é—®é¢˜å§ã€‚</p><p>é¦–å…ˆï¼Œ<code>5</code>çš„äºŒè¿›åˆ¶ä¸º<code>101</code>ï¼Œå…¶è¡¥ç ä¸º<code>0,101</code>ã€‚åœ¨è¿›è¡ŒæŒ‰ä½å–åæ“ä½œï¼Œå³<code>~5</code>æ—¶ï¼Œå®é™…ä¸ŠæŠŠç¬¦å·ä½ä¹Ÿå–åäº†ï¼Œäºæ˜¯æˆ‘ä»¬å¾—åˆ°äº†<code>1,010</code>è¿™ä¸ªç»“æœï¼Œè¯·æ³¨æ„ï¼Œè¿™ä¸ª<code>1,010</code><strong>ä¾ç„¶æ˜¯è¡¥ç </strong>ã€‚è€Œä»ç¬¦å·ä½çš„<code>1</code>æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªè´Ÿæ•°è¡¥ç ï¼Œæˆ‘ä»¬é€šè¿‡è¡¥ç ä¸èƒ½ç›´è§‚åœ°çœ‹å‡ºå®ƒçš„çœŸå€¼ï¼Œå› æ­¤éœ€è¦å…ˆè½¬æ¢æˆåŸç ã€‚æŒ‰ç…§å‰æ–‡æˆ‘ä»¬æåˆ°çš„è¡¥ç è½¬åŸç çš„æ–¹å¼ï¼Œå…ˆå°†<code>1,010</code>æœ«ä½<code>-1</code>ï¼Œå¾—åˆ°<code>1,001</code>ï¼Œæ¥ç€ï¼Œæˆ‘ä»¬å°†æ•°å€¼ä½æŒ‰ä½å–åï¼Œç¬¦å·ä½ä¸åŠ¨ï¼Œå¾—åˆ°<code>1,110</code>ã€‚æ­¤æ—¶ï¼Œ<code>1,110</code>å·²ç»æ˜¯<strong>åŸç </strong>äº†ï¼Œå¯ä»¥ç›´æ¥å°†å…¶æ±‚å‡ºï¼š</p><p>1,110=-110_{åŸ}=-6_{(10)}1,110=âˆ’110åŸ=âˆ’6(10)</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ª<code>-6</code>ã€‚</p><p>è¿™ä¸ªè®©æˆ‘ä»¬ä¹‹å‰æ‘¸ä¸ç€å¤´è„‘çš„ç­”æ¡ˆï¼Œåœ¨æˆ‘ä»¬å­¦å®Œäº†è¡¥ç ä¹‹åï¼Œå˜å¾—æ¸…æ™°æ˜äº†ã€‚</p><p>é™¤äº†è¿™ä¸ª<code>-6</code>ä¹‹å¤–ï¼ŒæŒ‰ä½å–åçš„éƒ¨åˆ†è¿˜æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œæˆ‘ä»¬åæ¥åˆä½¿ç”¨äº†ä¸€ä¸ªæ— ç¬¦å·æ•°<code>5</code>æ¥è¿›è¡ŒæŒ‰ä½å–åï¼Œå‘ç°å¾—åˆ°äº†ä¸€ä¸ªå·¨å¤§çš„æ•°å­—<code>4294967290</code>ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°å®é™…ä¸Šæ˜¯$2^{32}-6$ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0000</span>,<span class="number">0101</span>    // <span class="number">5</span></span><br><span class="line"><span class="attribute">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1111</span>,<span class="number">1010</span>    // <span class="number">4294967290</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé—®é¢˜å…¶å®å¯ä»¥æœ‰ä¸¤ç§è§’åº¦å»ç†è§£ï¼Œä¸€ç§æ˜¯æœ€ç›´è§‚çš„ï¼šå› ä¸ºæ— ç¬¦å·æ•°ä¸æ¶‰åŠç¬¦å·ä½çš„é—®é¢˜ï¼Œè€Œ<code>C</code>è¯­è¨€ä¸­ï¼ˆè¿™ä¸ªæ•°å­—æ˜¯ç”¨<code>C++</code>æ±‚å¾—çš„ï¼‰<code>unsigned int</code>çš„å–å€¼èŒƒå›´åœ¨<code>32</code>ä½æœºå™¨ä¸Šä¸º<code>0 ~ 4294967295</code>ï¼Œæ²¡é”™ï¼Œæœ€å¤§å€¼å°±æ˜¯ä¸Šé¢çš„ä¸¤ä¸ªæ•°ä¹‹å’Œ$2^{32}-1$ï¼Œä¹Ÿå°±æ˜¯<code>32</code>ä¸ª<code>1</code>ã€‚æ‰€ä»¥å°†<code>5ï¼ˆ101ï¼‰</code>å·¦ä¾§ä¸å­˜åœ¨çš„<code>0</code>éƒ½å–åä¸º<code>1</code>åï¼Œå°±å¾—åˆ°äº†è¿™ä¹ˆå¤§çš„ä¸€ä¸ªæ•°å­—ã€‚</p><p>ç¬¬äºŒç§è§’åº¦å°±æ˜¯æ¥è§£é‡Š<code>-6</code>è¿™ä¸ªå·§åˆäº†ã€‚æˆ‘ä»¬åªéœ€è¦æŠŠ$2^{32}$çœ‹åšä¸€ä¸ª<strong>æ¨¡</strong>ï¼ŒæŒ‰ç…§å‰é¢è®¡ç®—è¡¥æ•°çš„è¿ç®—æ–¹å¼ï¼Œæ¥æ±‚<code>-6</code>çš„è¡¥æ•°ï¼Œå³è®©æ¨¡å’Œ<code>-6</code>ç›¸åŠ ï¼Œå°±å¾—åˆ°äº†<code>4294967290</code>è¿™ä¸ªæ•°å­—ï¼ŒåŒæ—¶ï¼Œ<code>4294967290</code>æ˜¯æ— ç¬¦å·æ•°<code>5</code>æŒ‰ä½æ±‚åçš„ç»“æœï¼Œå®ƒä»¬ç›¸åŠ çš„å’Œï¼Œåˆ™æ˜¯<code>unsigned int</code>çš„æœ€å¤§å€¼ï¼ˆ<code>32</code>ä½ï¼Œ$2^{32}-1$ï¼‰ï¼Œæœ¬èº«å°±æ¯”$2^{32}$å°<code>1</code>ï¼Œ<code>1 + 5 = 6</code>ï¼Œäºæ˜¯å°±å¾ˆå‡‘å·§çš„å˜æˆäº†æˆ‘ä»¬çœ‹åˆ°çš„è§„å¾‹ã€‚</p><h2 id="5-ç§»ç "><a href="#5-ç§»ç " class="headerlink" title="5. ç§»ç "></a>5. ç§»ç </h2><p>è¡¥ç å¯¹è®¡ç®—æœºæ¥è¯´æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œæ¯•ç«Ÿå®ƒè®©è®¡ç®—æœºå¯¹äºæ•°å­—çš„è®¡ç®—å˜å¾—æ›´åŠ æ–¹ä¾¿äº†ã€‚ä½†å¯¹äººç±»æ¥è¯´ï¼Œè¡¥ç å¯å°±ä¸é‚£ä¹ˆå‹å¥½äº†ï¼Œä¸è¯´å’ŒçœŸå€¼ï¼Œå“ªæ€•å’ŒåŸç ç›¸æ¯”ï¼Œè¡¥ç ä¹Ÿå­˜åœ¨ç€ä¸€ä¸ªå·¨å¤§çš„ç¼ºç‚¹ï¼šæ•°å­—æœ¬èº«çš„è¢«è¡¥ç éšè—ï¼Œä½¿å¾—æ•°å­—çš„å¤§å°ä¸ç›´è§‚ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><p>+15_{è¡¥}=[+1111]_{è¡¥}=0,1111+15è¡¥=[+1111]è¡¥=0,1111</p><p>-15_{è¡¥}=[-1111]_{è¡¥}=1,0001âˆ’15è¡¥=[âˆ’1111]è¡¥=1,0001</p><p>å¦‚æœæˆ‘ä»¬æŠŠç¬¦å·ä½çš„<code>1</code>ä¹Ÿçœ‹ä½œæ˜¯æ•´ä¸ªäºŒè¿›åˆ¶æ•°çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆæ˜¾ç„¶<code>10001 &gt; 01111</code>ã€‚è™½ç„¶åœ¨æˆ‘ä»¬æ‡‚å¾—äº†è¡¥ç çš„åŸç†å’Œè¿ç®—è¿‡ç¨‹åï¼Œæˆ‘ä»¬å¹¶ä¸ä¼šç›´æ¥è¿™ä¹ˆå»æ¯”è¾ƒï¼Œä½†å› ä¸ºè´Ÿæ•°çš„è¡¥ç å°†æ•°å€¼éƒ¨åˆ†éƒ½ç»™æ”¹å†™äº†ï¼Œæ€»ä½“æ¥è¯´ï¼Œè¡¥ç ä¾ç„¶ç»™äººä»¥éå¸¸ä¸ç›´è§‚çš„æ„Ÿå—ï¼Œä¸€æ—¦é€—å·å¿˜è®°å†™ï¼Œæˆ–è€…å…¶ä»–åŸå› é€ æˆäº†è¯¯è¯»ï¼Œé‚£ä¹ˆè¡¥ç ä¹‹é—´çš„æ¯”è¾ƒå°†æˆä¸ºç¾éš¾ã€‚å°±ä¸Šé¢çš„ä¸¤ä¸ªæ•°æ¥è¯´ï¼Œæˆ‘ä»¬å¾ˆéš¾ä¸€çœ¼å°±çœ‹å‡ºæ¥è¿™ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°å±…ç„¶äº’ä¸ºç›¸åæ•°ï¼Œä½†å¦‚æœæ˜¯ç”¨åŸç è¡¨ç¤ºï¼Œé‚£ä¹ˆèµ·ç ä»–ä»¬çš„æ•°å€¼ä½æ˜¯ç›¸åŒçš„ï¼Œæˆ‘ä»¬èƒ½ç¬¬ä¸€æ—¶é—´ååº”è¿‡æ¥ã€‚</p><p>æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸¤ä¸ªæ•°å­—çš„<strong>çœŸå€¼</strong>éƒ½åŠ ä¸Š$2^n$ï¼Œè¿™é‡Œçš„<code>n</code>åŒå‰é¢æˆ‘ä»¬è®²è¿‡çš„é‚£äº›<code>n</code>ä¸€æ ·ï¼Œæ˜¯çœŸå€¼çš„ä½æ•°ï¼Œé‚£ä¹ˆæ–°å¾—åˆ°çš„ä¸¤ä¸ªæ•°å­—çš„å¤§å°å°±å˜å¾—å¾ˆç›´è§‚äº†ï¼š</p><p>15 + 2^4 = 1111 + 10000 = 1111115+24=1111+10000=11111</p><p>-15 + 2^4 = 10000 - 1111 = 00001âˆ’15+24=10000âˆ’1111=00001</p><p>å°½ç®¡è¿˜æ˜¯æ— æ³•ç›´æ¥çœ‹å‡ºå®ƒä¿©çš„çœŸå€¼äº’ä¸ºç›¸åæ•°ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¾ˆç›´è§‚åœ°æ¯”è¾ƒå‡ºè¿™ä¸¤ä¸ªæ•°å­—çš„å®é™…å¤§å°äº†ï¼Œä¸ä¼šå› ä¸ºç¬¦å·ä½çš„é—®é¢˜é€ æˆè¯¯è¯»ã€‚è€Œè¿™ä¸¤ä¸ªè®¡ç®—åå¾—åˆ°çš„æ–°æ•°å­—ï¼Œ<strong>å°±æ˜¯ç§»ç </strong>ã€‚</p><p>æ‰€ä»¥ç§»ç çš„æ•°å­¦å®šä¹‰éå¸¸ç®€å•ï¼š</p><p>[x]_{ç§»}=2^n+x\qquadï¼ˆ2^n&gt;xâ‰¥-2^nï¼‰[<em>x</em>]ç§»=2<em>n</em>+<em>x</em>ï¼ˆ2<em>n</em>&gt;<em>x</em>â‰¥âˆ’2<em>n</em>ï¼‰</p><p>è¿™é‡Œçš„<code>n</code>å°±æ˜¯çœŸå€¼çš„ä½æ•°ï¼Œ<code>x</code>åˆ™æ˜¯çœŸå€¼ã€‚</p><p>æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿä¸Šé¢ä¸¤ä¸ªæ•°å­—çš„è¡¥ç å’Œç§»ç ï¼Œä¼šå‘ç°ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š**ç§»ç å®é™…ä¸Šå°±æ˜¯æ”¹å˜äº†è¡¥ç çš„ç¬¦å·ä½ï¼Œä»<code>0</code>å˜<code>1</code>ï¼Œä»<code>1</code>å˜<code>0</code>**ã€‚è¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘ä»¬çŸ¥é“äº†ä¸€ä¸ªæ•°çš„è¡¥ç åï¼Œåªéœ€è¦æ›¿æ¢å®ƒçš„ç¬¦å·ä½ï¼Œå°±å¯ä»¥å¾—åˆ°ç§»ç ï¼Œä»è€Œä¸å…¶ä»–æ•°å€¼è¿›è¡Œç›´æ¥æ¯”è¾ƒäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> äºŒè¿›åˆ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äºŒè¿›åˆ¶ </tag>
            
            <tag> ä½è¿ç®— </tag>
            
            <tag> è¡¥ç  </tag>
            
            <tag> åŸç  </tag>
            
            <tag> åç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goæ ¼å¼åŒ–è¾“å‡º</title>
      <link href="post/go%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA/"/>
      <url>post/go%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹é¢å®ä¾‹ä½¿ç”¨åˆ°çš„ç»“æ„ä½“</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Website <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰ç»“æ„ä½“å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> site = Website&#123;Name:<span class="string">&quot;duoke360&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="å ä½ç¬¦"><a href="#å ä½ç¬¦" class="headerlink" title="å ä½ç¬¦"></a>å ä½ç¬¦</h2><p><strong>æ™®é€šå ä½ç¬¦</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å ä½ç¬¦è¯´æ˜ä¸¾ä¾‹è¾“å‡º</span><br><span class="line">%vç›¸åº”å€¼çš„é»˜è®¤æ ¼å¼ã€‚Printf(<span class="string">&quot;%v&quot;</span>, site)ï¼ŒPrintf(<span class="string">&quot;%+v&quot;</span>, site)&#123;duoke360&#125;ï¼Œ&#123;Name:duoke360&#125;</span><br><span class="line">åœ¨æ‰“å°ç»“æ„ä½“æ—¶ï¼Œâ€œåŠ å·â€æ ‡è®°ï¼ˆ%+vï¼‰ä¼šæ·»åŠ å­—æ®µå</span><br><span class="line">%#vç›¸åº”å€¼çš„Goè¯­æ³•è¡¨ç¤ºPrintf(<span class="string">&quot;#v&quot;</span>, site)main.Website&#123;Name:<span class="string">&quot;duoke360&quot;</span>&#125;</span><br><span class="line">%Tç›¸åº”å€¼çš„ç±»å‹çš„Goè¯­æ³•è¡¨ç¤ºPrintf(<span class="string">&quot;%T&quot;</span>, site)main.Website</span><br><span class="line">%%å­—é¢ä¸Šçš„ç™¾åˆ†å·ï¼Œå¹¶éå€¼çš„å ä½ç¬¦Printf(<span class="string">&quot;%%&quot;</span>)%</span><br></pre></td></tr></table></figure><p><strong>å¸ƒå°”å ä½ç¬¦</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å ä½ç¬¦è¯´æ˜ä¸¾ä¾‹è¾“å‡º</span><br><span class="line">%tå•è¯ <span class="literal">true</span> æˆ– <span class="literal">false</span>ã€‚Printf(<span class="string">&quot;%t&quot;</span>, <span class="literal">true</span>)<span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>æ•´æ•°å ä½ç¬¦</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å ä½ç¬¦è¯´æ˜ä¸¾ä¾‹è¾“å‡º</span><br><span class="line">%bäºŒè¿›åˆ¶è¡¨ç¤ºPrintf(<span class="string">&quot;%b&quot;</span>, <span class="number">5</span>)<span class="number">101</span></span><br><span class="line">%cç›¸åº”Unicodeç ç‚¹æ‰€è¡¨ç¤ºçš„å­—ç¬¦Printf(<span class="string">&quot;%c&quot;</span>, <span class="number">0x4E2D</span>)ä¸­</span><br><span class="line">%dåè¿›åˆ¶è¡¨ç¤ºPrintf(<span class="string">&quot;%d&quot;</span>, <span class="number">0x12</span>)<span class="number">18</span></span><br><span class="line">%oå…«è¿›åˆ¶è¡¨ç¤ºPrintf(<span class="string">&quot;%o&quot;</span>, <span class="number">10</span>)<span class="number">12</span></span><br><span class="line">%qå•å¼•å·å›´ç»•çš„å­—ç¬¦å­—é¢å€¼ï¼Œç”±Goè¯­æ³•å®‰å…¨åœ°è½¬ä¹‰Printf(<span class="string">&quot;%q&quot;</span>, <span class="number">0x4E2D</span>)<span class="string">&#x27;ä¸­&#x27;</span></span><br><span class="line">%xåå…­è¿›åˆ¶è¡¨ç¤ºï¼Œå­—æ¯å½¢å¼ä¸ºå°å†™ a-fPrintf(<span class="string">&quot;%x&quot;</span>, <span class="number">13</span>)d</span><br><span class="line">%Xåå…­è¿›åˆ¶è¡¨ç¤ºï¼Œå­—æ¯å½¢å¼ä¸ºå¤§å†™ A-FPrintf(<span class="string">&quot;%x&quot;</span>, <span class="number">13</span>)D</span><br><span class="line">%UUnicodeæ ¼å¼ï¼šU+<span class="number">1234</span>ï¼Œç­‰åŒäº <span class="string">&quot;U+%04X&quot;</span>Printf(<span class="string">&quot;%U&quot;</span>, <span class="number">0x4E2D</span>)U+<span class="number">4E2</span>D</span><br></pre></td></tr></table></figure><p><strong>æµ®ç‚¹æ•°å’Œå¤æ•°çš„ç»„æˆéƒ¨åˆ†ï¼ˆå®éƒ¨å’Œè™šéƒ¨ï¼‰</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å ä½ç¬¦è¯´æ˜ä¸¾ä¾‹è¾“å‡º</span><br><span class="line">%bæ— å°æ•°éƒ¨åˆ†çš„ï¼ŒæŒ‡æ•°ä¸ºäºŒçš„å¹‚çš„ç§‘å­¦è®¡æ•°æ³•ï¼Œä¸ strconv.FormatFloat</span><br><span class="line">çš„ <span class="string">&#x27;b&#x27;</span> è½¬æ¢æ ¼å¼ä¸€è‡´ã€‚ä¾‹å¦‚ <span class="number">-123456</span>p<span class="number">-78</span></span><br><span class="line">%eç§‘å­¦è®¡æ•°æ³•ï¼Œä¾‹å¦‚ <span class="number">-1234.456e+78</span>Printf(<span class="string">&quot;%e&quot;</span>, <span class="number">10.2</span>)<span class="number">1.020000e+01</span></span><br><span class="line">%Eç§‘å­¦è®¡æ•°æ³•ï¼Œä¾‹å¦‚ <span class="number">-1234.456E+78</span>Printf(<span class="string">&quot;%e&quot;</span>, <span class="number">10.2</span>)<span class="number">1.020000E+01</span></span><br><span class="line">%fæœ‰å°æ•°ç‚¹è€Œæ— æŒ‡æ•°ï¼Œä¾‹å¦‚ <span class="number">123.456</span>Printf(<span class="string">&quot;%f&quot;</span>, <span class="number">10.2</span>)<span class="number">10.200000</span></span><br><span class="line">%gæ ¹æ®æƒ…å†µé€‰æ‹© %e æˆ– %f ä»¥äº§ç”Ÿæ›´ç´§å‡‘çš„ï¼ˆæ— æœ«å°¾çš„<span class="number">0</span>ï¼‰è¾“å‡ºPrintf(<span class="string">&quot;%g&quot;</span>, <span class="number">10.20</span>)<span class="number">10.2</span></span><br><span class="line">%Gæ ¹æ®æƒ…å†µé€‰æ‹© %E æˆ– %f ä»¥äº§ç”Ÿæ›´ç´§å‡‘çš„ï¼ˆæ— æœ«å°¾çš„<span class="number">0</span>ï¼‰è¾“å‡ºPrintf(<span class="string">&quot;%G&quot;</span>, <span class="number">10.20</span>+<span class="number">2i</span>)(<span class="number">10.2</span>+<span class="number">2i</span>)</span><br></pre></td></tr></table></figure><p><strong>å­—ç¬¦ä¸²ä¸å­—èŠ‚åˆ‡ç‰‡</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å ä½ç¬¦è¯´æ˜ä¸¾ä¾‹è¾“å‡º</span><br><span class="line">%sè¾“å‡ºå­—ç¬¦ä¸²è¡¨ç¤ºï¼ˆ<span class="keyword">string</span>ç±»å‹æˆ–[]<span class="keyword">byte</span>)Printf(<span class="string">&quot;%s&quot;</span>, []<span class="keyword">byte</span>(<span class="string">&quot;å¤šè¯¾ç½‘&quot;</span>))å¤šè¯¾ç½‘</span><br><span class="line">%qåŒå¼•å·å›´ç»•çš„å­—ç¬¦ä¸²ï¼Œç”±Goè¯­æ³•å®‰å…¨åœ°è½¬ä¹‰Printf(<span class="string">&quot;%q&quot;</span>, <span class="string">&quot;å¤šè¯¾ç½‘&quot;</span>)<span class="string">&quot;å¤šè¯¾ç½‘&quot;</span></span><br><span class="line">%xåå…­è¿›åˆ¶ï¼Œå°å†™å­—æ¯ï¼Œæ¯å­—èŠ‚ä¸¤ä¸ªå­—ç¬¦Printf(<span class="string">&quot;%x&quot;</span>, <span class="string">&quot;golang&quot;</span>)<span class="number">676</span>f6c616e67</span><br><span class="line">%Xåå…­è¿›åˆ¶ï¼Œå¤§å†™å­—æ¯ï¼Œæ¯å­—èŠ‚ä¸¤ä¸ªå­—ç¬¦Printf(<span class="string">&quot;%X&quot;</span>, <span class="string">&quot;golang&quot;</span>)<span class="number">676</span>F6C616E67</span><br></pre></td></tr></table></figure><p><strong>æŒ‡é’ˆ</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å ä½ç¬¦è¯´æ˜ä¸¾ä¾‹è¾“å‡º</span><br><span class="line">%påå…­è¿›åˆ¶è¡¨ç¤ºï¼Œå‰ç¼€ <span class="number">0</span>xPrintf(<span class="string">&quot;%p&quot;</span>, &amp;site)<span class="number">0x4f57f0</span></span><br></pre></td></tr></table></figure><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">u := user&#123;<span class="string">&quot;guo&quot;</span>&#125;</span><br><span class="line"><span class="comment">//Printf æ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;% + v\n&quot;</span>, u)     <span class="comment">//æ ¼å¼åŒ–è¾“å‡ºç»“æ„</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, u)       <span class="comment">//è¾“å‡ºå€¼çš„ Go è¯­è¨€è¡¨ç¤ºæ–¹æ³•</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, u)        <span class="comment">//è¾“å‡ºå€¼çš„ç±»å‹çš„ Go è¯­è¨€è¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%t\n&quot;</span>, <span class="literal">true</span>)     <span class="comment">//è¾“å‡ºå€¼çš„ true æˆ– false</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%b\n&quot;</span>, <span class="number">1024</span>)     <span class="comment">//äºŒè¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%c\n&quot;</span>, <span class="number">11111111</span>) <span class="comment">//æ•°å€¼å¯¹åº”çš„ Unicode ç¼–ç å­—ç¬¦</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%d\n&quot;</span>, <span class="number">10</span>)       <span class="comment">//åè¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%o\n&quot;</span>, <span class="number">8</span>)        <span class="comment">//å…«è¿›åˆ¶è¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%q\n&quot;</span>, <span class="number">22</span>)       <span class="comment">//è½¬åŒ–ä¸ºåå…­è¿›åˆ¶å¹¶é™„ä¸Šå•å¼•å·</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%x\n&quot;</span>, <span class="number">1223</span>)     <span class="comment">//åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œç”¨a-fè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%X\n&quot;</span>, <span class="number">1223</span>)     <span class="comment">//åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œç”¨A-Fè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%U\n&quot;</span>, <span class="number">1233</span>)     <span class="comment">//Unicodeè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%b\n&quot;</span>, <span class="number">12.34</span>)    <span class="comment">//æ— å°æ•°éƒ¨åˆ†ï¼Œä¸¤ä½æŒ‡æ•°çš„ç§‘å­¦è®¡æ•°æ³•6946802425218990p-49</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%e\n&quot;</span>, <span class="number">12.345</span>)   <span class="comment">//ç§‘å­¦è®¡æ•°æ³•ï¼Œeè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%E\n&quot;</span>, <span class="number">12.34455</span>) <span class="comment">//ç§‘å­¦è®¡æ•°æ³•ï¼ŒEè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%f\n&quot;</span>, <span class="number">12.3456</span>)  <span class="comment">//æœ‰å°æ•°éƒ¨åˆ†ï¼Œæ— æŒ‡æ•°éƒ¨åˆ†</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%g\n&quot;</span>, <span class="number">12.3456</span>)  <span class="comment">//æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%eæˆ–%fè¾“å‡º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%G\n&quot;</span>, <span class="number">12.3456</span>)  <span class="comment">//æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%Eæˆ–%fè¾“å‡º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%s\n&quot;</span>, <span class="string">&quot;wqdew&quot;</span>)  <span class="comment">//ç›´æ¥è¾“å‡ºå­—ç¬¦ä¸²æˆ–è€…[]byte</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%q\n&quot;</span>, <span class="string">&quot;dedede&quot;</span>) <span class="comment">//åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%x\n&quot;</span>, <span class="string">&quot;abczxc&quot;</span>) <span class="comment">//æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—èŠ‚åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œa-fè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%X\n&quot;</span>, <span class="string">&quot;asdzxc&quot;</span>) <span class="comment">//æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—èŠ‚åå…­è¿›åˆ¶è¡¨ç¤ºï¼ŒA-Fè¡¨ç¤º</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%p\n&quot;</span>, <span class="number">0x123</span>)    <span class="comment">//0xå¼€å¤´çš„åå…­è¿›åˆ¶æ•°è¡¨ç¤º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goè¿ç®—ç¬¦</title>
      <link href="post/go%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
      <url>post/go%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<p>Go è¯­è¨€å†…ç½®çš„è¿ç®—ç¬¦æœ‰ï¼š</p><ol><li>ç®—æœ¯è¿ç®—ç¬¦</li><li>å…³ç³»è¿ç®—ç¬¦</li><li>é€»è¾‘è¿ç®—ç¬¦</li><li>ä½è¿ç®—ç¬¦</li><li>èµ‹å€¼è¿ç®—ç¬¦</li></ol><h2 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h2><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">+</td><td align="left">ç›¸åŠ </td></tr><tr><td align="left">-</td><td align="left">ç›¸å‡</td></tr><tr><td align="left">*</td><td align="left">ç›¸ä¹˜</td></tr><tr><td align="left">/</td><td align="left">ç›¸é™¤</td></tr><tr><td align="left">%</td><td align="left">æ±‚ä½™</td></tr></tbody></table><p><strong>æ³¨æ„ï¼š</strong> <code>++</code>ï¼ˆè‡ªå¢ï¼‰å’Œ<code>--</code>ï¼ˆè‡ªå‡ï¼‰åœ¨Goè¯­è¨€ä¸­æ˜¯å•ç‹¬çš„è¯­å¥ï¼Œå¹¶ä¸æ˜¯è¿ç®—ç¬¦ã€‚</p><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := <span class="number">100</span></span><br><span class="line">b := <span class="number">10</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;(a + b): %v\n&quot;</span>, (a + b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a - b): %v\n&quot;</span>, (a - b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a * b): %v\n&quot;</span>, (a * b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a / b): %v\n&quot;</span>, (a / b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a %% b): %v\n&quot;</span>, (a % b))</span><br><span class="line"></span><br><span class="line">a++</span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v\n&quot;</span>, a)</span><br><span class="line">b--</span><br><span class="line">fmt.Printf(<span class="string">&quot;b: %v\n&quot;</span>, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h2><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">==</td><td align="left">æ£€æŸ¥ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰è¿”å› True å¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left">!=</td><td align="left">æ£€æŸ¥ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰è¿”å› True å¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left">&gt;</td><td align="left">æ£€æŸ¥å·¦è¾¹å€¼æ˜¯å¦å¤§äºå³è¾¹å€¼ï¼Œå¦‚æœæ˜¯è¿”å› True å¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left">&gt;=</td><td align="left">æ£€æŸ¥å·¦è¾¹å€¼æ˜¯å¦å¤§äºç­‰äºå³è¾¹å€¼ï¼Œå¦‚æœæ˜¯è¿”å› True å¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left">&lt;</td><td align="left">æ£€æŸ¥å·¦è¾¹å€¼æ˜¯å¦å°äºå³è¾¹å€¼ï¼Œå¦‚æœæ˜¯è¿”å› True å¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left">&lt;=</td><td align="left">æ£€æŸ¥å·¦è¾¹å€¼æ˜¯å¦å°äºç­‰äºå³è¾¹å€¼ï¼Œå¦‚æœæ˜¯è¿”å› True å¦åˆ™è¿”å› Falseã€‚</td></tr></tbody></table><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := <span class="number">1</span></span><br><span class="line">b := <span class="number">2</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &gt; b): %v\n&quot;</span>, (a &gt; b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &lt; b): %v\n&quot;</span>, (a &lt; b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &gt;= b): %v\n&quot;</span>, (a &gt;= b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &lt;= b): %v\n&quot;</span>, (a &lt;= b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a == b): %v\n&quot;</span>, (a == b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a != b): %v\n&quot;</span>, (a != b))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h2><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">&amp;&amp;</td><td align="left">é€»è¾‘ AND è¿ç®—ç¬¦ã€‚ å¦‚æœä¸¤è¾¹çš„æ“ä½œæ•°éƒ½æ˜¯ Trueï¼Œåˆ™ä¸º Trueï¼Œå¦åˆ™ä¸º Falseã€‚</td></tr><tr><td align="left">||</td><td align="left">é€»è¾‘ OR è¿ç®—ç¬¦ã€‚ å¦‚æœä¸¤è¾¹çš„æ“ä½œæ•°æœ‰ä¸€ä¸ª Trueï¼Œåˆ™ä¸º Trueï¼Œå¦åˆ™ä¸º Falseã€‚</td></tr><tr><td align="left">!</td><td align="left">é€»è¾‘ NOT è¿ç®—ç¬¦ã€‚ å¦‚æœæ¡ä»¶ä¸º Trueï¼Œåˆ™ä¸º Falseï¼Œå¦åˆ™ä¸º Trueã€‚</td></tr></tbody></table><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := <span class="literal">true</span></span><br><span class="line">b := <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &amp;&amp; b): %v\n&quot;</span>, (a &amp;&amp; b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a || b): %v\n&quot;</span>, (a || b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(!a): %v\n&quot;</span>, (!a))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(!b): %v\n&quot;</span>, (!b))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½è¿ç®—ç¬¦"><a href="#ä½è¿ç®—ç¬¦" class="headerlink" title="ä½è¿ç®—ç¬¦"></a>ä½è¿ç®—ç¬¦</h2><p>ä½è¿ç®—ç¬¦å¯¹æ•´æ•°åœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œã€‚</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">&amp;</td><td align="left">å‚ä¸è¿ç®—çš„ä¸¤æ•°å„å¯¹åº”çš„äºŒè¿›ä½ç›¸ä¸ã€‚ ï¼ˆä¸¤ä½å‡ä¸º1æ‰ä¸º1ï¼‰</td></tr><tr><td align="left">|</td><td align="left">å‚ä¸è¿ç®—çš„ä¸¤æ•°å„å¯¹åº”çš„äºŒè¿›ä½ç›¸æˆ–ã€‚ ï¼ˆä¸¤ä½æœ‰ä¸€ä¸ªä¸º1å°±ä¸º1ï¼‰</td></tr><tr><td align="left">^</td><td align="left">å‚ä¸è¿ç®—çš„ä¸¤æ•°å„å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æˆ–ï¼Œå½“ä¸¤å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º1ã€‚ ï¼ˆä¸¤ä½ä¸ä¸€æ ·åˆ™ä¸º1ï¼‰</td></tr><tr><td align="left">&lt;&lt;</td><td align="left">å·¦ç§»nä½å°±æ˜¯ä¹˜ä»¥2çš„næ¬¡æ–¹ã€‚ â€œa&lt;&lt;bâ€æ˜¯æŠŠaçš„å„äºŒè¿›ä½å…¨éƒ¨å·¦ç§»bä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0ã€‚</td></tr><tr><td align="left">&gt;&gt;</td><td align="left">å³ç§»nä½å°±æ˜¯é™¤ä»¥2çš„næ¬¡æ–¹ã€‚ â€œa&gt;&gt;bâ€æ˜¯æŠŠaçš„å„äºŒè¿›ä½å…¨éƒ¨å³ç§»bä½ã€‚</td></tr></tbody></table><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := <span class="number">4</span> <span class="comment">// äºŒè¿›åˆ¶ 100</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %b\n&quot;</span>, a)</span><br><span class="line">b := <span class="number">8</span> <span class="comment">// äºŒè¿›åˆ¶ 1000</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;b: %b\n&quot;</span>, b)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &amp; b): %v, %b \n&quot;</span>, (a &amp; b), (a &amp; b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a | b): %v, %b\n&quot;</span>, (a | b), (a | b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a ^ b): %v, %b\n&quot;</span>, (a ^ b), (a ^ b))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(a &lt;&lt; 2): %v, %b\n&quot;</span>, (a &lt;&lt; <span class="number">2</span>), (a &lt;&lt; <span class="number">2</span>))</span><br><span class="line">fmt.Printf(<span class="string">&quot;(b &gt;&gt; 2): %v, %b\n&quot;</span>, (b &gt;&gt; <span class="number">2</span>), (b &gt;&gt; <span class="number">2</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="èµ‹å€¼è¿ç®—ç¬¦"><a href="#èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦"></a>èµ‹å€¼è¿ç®—ç¬¦</h2><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">=</td><td align="left">ç®€å•çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œå°†ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼èµ‹ç»™ä¸€ä¸ªå·¦å€¼</td></tr><tr><td align="left">+=</td><td align="left">ç›¸åŠ åå†èµ‹å€¼</td></tr><tr><td align="left">-=</td><td align="left">ç›¸å‡åå†èµ‹å€¼</td></tr><tr><td align="left">*=</td><td align="left">ç›¸ä¹˜åå†èµ‹å€¼</td></tr><tr><td align="left">/=</td><td align="left">ç›¸é™¤åå†èµ‹å€¼</td></tr><tr><td align="left">%=</td><td align="left">æ±‚ä½™åå†èµ‹å€¼</td></tr><tr><td align="left">&lt;&lt;=</td><td align="left">å·¦ç§»åèµ‹å€¼</td></tr><tr><td align="left">&gt;&gt;=</td><td align="left">å³ç§»åèµ‹å€¼</td></tr><tr><td align="left">&amp;=</td><td align="left">æŒ‰ä½ä¸åèµ‹å€¼</td></tr><tr><td align="left">|=</td><td align="left">æŒ‰ä½æˆ–åèµ‹å€¼</td></tr><tr><td align="left">^=</td><td align="left">æŒ‰ä½å¼‚æˆ–åèµ‹å€¼</td></tr></tbody></table><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line">a = <span class="number">100</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v\n&quot;</span>, a)</span><br><span class="line">a += <span class="number">1</span> <span class="comment">// a = a + 1</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v\n&quot;</span>, a)</span><br><span class="line">a -= <span class="number">1</span> <span class="comment">// a = a -1</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v\n&quot;</span>, a)</span><br><span class="line">a *= <span class="number">2</span> <span class="comment">// a = a * 2</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v\n&quot;</span>, a)</span><br><span class="line">a /= <span class="number">2</span> <span class="comment">// a = a / 2</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v\n&quot;</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goå­—ç¬¦ä¸²ç±»å‹</title>
      <link href="post/go%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B/"/>
      <url>post/go%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ä¸ªGoè¯­è¨€å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªä»»æ„<strong>å­—èŠ‚çš„å¸¸é‡åºåˆ—</strong>ã€‚[] byte</p><h2 id="goè¯­è¨€å­—ç¬¦ä¸²å­—é¢é‡"><a href="#goè¯­è¨€å­—ç¬¦ä¸²å­—é¢é‡" class="headerlink" title="goè¯­è¨€å­—ç¬¦ä¸²å­—é¢é‡"></a>goè¯­è¨€å­—ç¬¦ä¸²å­—é¢é‡</h2><p>åœ¨Goè¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ä½¿ç”¨åŒå¼•å· <code>&quot;&quot;</code> æˆ–è€…åå¼•å· <code>&#39;</code> æ¥åˆ›å»ºã€‚åŒå¼•å·ç”¨æ¥åˆ›å»ºå¯è§£æçš„å­—ç¬¦ä¸²ï¼Œæ”¯æŒè½¬ä¹‰ï¼Œä½†ä¸èƒ½ç”¨æ¥å¼•ç”¨å¤šè¡Œï¼›åå¼•å·ç”¨æ¥åˆ›å»ºåŸç”Ÿçš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå¯èƒ½ç”±å¤šè¡Œç»„æˆï¼Œä½†ä¸æ”¯æŒè½¬ä¹‰ï¼Œå¹¶ä¸”å¯ä»¥åŒ…å«é™¤äº†åå¼•å·å¤–å…¶ä»–æ‰€æœ‰å­—ç¬¦ã€‚åŒå¼•å·åˆ›å»ºå¯è§£æçš„å­—ç¬¦ä¸²åº”ç”¨æœ€å¹¿æ³›ï¼Œåå¼•å·ç”¨æ¥åˆ›å»ºåŸç”Ÿçš„å­—ç¬¦ä¸²åˆ™å¤šç”¨äºä¹¦å†™å¤šè¡Œæ¶ˆæ¯ï¼ŒHTMLä»¥åŠæ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> str1 <span class="keyword">string</span> = <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="keyword">var</span> html <span class="keyword">string</span> = </span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;&lt;title&gt;hello golang&lt;/title&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">fmt.Printf(&quot;str1: %v\n&quot;, str1)</span></span><br><span class="line"><span class="string">fmt.Printf(&quot;html: %v\n&quot;, html)</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str1: hello world</span><br><span class="line">html: </span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;&lt;title&gt;hello golang&lt;/title&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="goè¯­è¨€å­—ç¬¦ä¸²è¿æ¥"><a href="#goè¯­è¨€å­—ç¬¦ä¸²è¿æ¥" class="headerlink" title="goè¯­è¨€å­—ç¬¦ä¸²è¿æ¥"></a>goè¯­è¨€å­—ç¬¦ä¸²è¿æ¥</h2><p><strong>ä½¿ç”¨åŠ å·</strong></p><p>è™½ç„¶Goè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯å­—ç¬¦ä¸²æ”¯æŒ <code>+</code> çº§è”æ“ä½œå’Œ<code>+=</code>è¿½åŠ æ“ä½œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">name := <span class="string">&quot;tom&quot;</span></span><br><span class="line">age := <span class="string">&quot;20&quot;</span></span><br><span class="line">msg := name + <span class="string">&quot; &quot;</span> + age</span><br><span class="line">fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">fmt.Println(<span class="string">&quot;-------------&quot;</span>)</span><br><span class="line">msg = <span class="string">&quot;&quot;</span></span><br><span class="line">msg += name</span><br><span class="line">msg += <span class="string">&quot; &quot;</span></span><br><span class="line">msg += age</span><br><span class="line">fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>golang é‡Œé¢çš„å­—ç¬¦ä¸²éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œæ¯æ¬¡è¿ç®—éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿå¾ˆå¤šä¸´æ—¶çš„æ— ç”¨çš„å­—ç¬¦ä¸²ï¼Œä¸ä»…æ²¡æœ‰ç”¨ï¼Œè¿˜ä¼šç»™ gc å¸¦æ¥é¢å¤–çš„è´Ÿæ‹…ï¼Œæ‰€ä»¥æ€§èƒ½æ¯”è¾ƒå·®</p></blockquote><p><strong>ä½¿ç”¨<code>fmt.Sprintf()</code>å‡½æ•°</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">name := <span class="string">&quot;tom&quot;</span></span><br><span class="line">age := <span class="string">&quot;20&quot;</span></span><br><span class="line">msg := fmt.Sprintf(<span class="string">&quot;%s,%s&quot;</span>, name, age)</span><br><span class="line">fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msg: tom,<span class="number">20</span></span><br></pre></td></tr></table></figure><blockquote><p>å†…éƒ¨ä½¿ç”¨ <code>[]byte</code> å®ç°ï¼Œä¸åƒç›´æ¥è¿ç®—ç¬¦è¿™ç§ä¼šäº§ç”Ÿå¾ˆå¤šä¸´æ—¶çš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å†…éƒ¨çš„é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œæœ‰å¾ˆå¤šé¢å¤–çš„åˆ¤æ–­ï¼Œè¿˜ç”¨åˆ°äº† <code>interface</code>ï¼Œæ‰€ä»¥æ€§èƒ½ä¹Ÿä¸æ˜¯å¾ˆå¥½</p></blockquote><p><strong><code>strings.Join()</code></strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">name := <span class="string">&quot;tom&quot;</span></span><br><span class="line">age := <span class="string">&quot;20&quot;</span></span><br><span class="line">msg := strings.Join([]<span class="keyword">string</span>&#123;name, age&#125;, <span class="string">&quot;,&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;msg: %v\n&quot;</span>, msg)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msg: tom,20</span><br></pre></td></tr></table></figure><blockquote><p>joinä¼šå…ˆæ ¹æ®å­—ç¬¦ä¸²æ•°ç»„çš„å†…å®¹ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæ‹¼æ¥ä¹‹åçš„é•¿åº¦ï¼Œç„¶åç”³è¯·å¯¹åº”å¤§å°çš„å†…å­˜ï¼Œä¸€ä¸ªä¸€ä¸ªå­—ç¬¦ä¸²å¡«å…¥ï¼Œåœ¨å·²æœ‰ä¸€ä¸ªæ•°ç»„çš„æƒ…å†µä¸‹ï¼Œè¿™ç§æ•ˆç‡ä¼šå¾ˆé«˜ï¼Œä½†æ˜¯æœ¬æ¥æ²¡æœ‰ï¼Œå»æ„é€ è¿™ä¸ªæ•°æ®çš„ä»£ä»·ä¹Ÿä¸å°</p></blockquote><p><strong><code>buffer.WriteString()</code></strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;bytes&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> buffer bytes.Buffer</span><br><span class="line">buffer.WriteString(<span class="string">&quot;tom&quot;</span>)</span><br><span class="line">buffer.WriteString(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">buffer.WriteString(<span class="string">&quot;20&quot;</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;buffer.String(): %v\n&quot;</span>, buffer.String())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªæ¯”è¾ƒç†æƒ³ï¼Œå¯ä»¥å½“æˆå¯å˜å­—ç¬¦ä½¿ç”¨ï¼Œå¯¹å†…å­˜çš„å¢é•¿ä¹Ÿæœ‰ä¼˜åŒ–ï¼Œå¦‚æœèƒ½é¢„ä¼°å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¿˜å¯ä»¥ç”¨ <code>buffer.Grow()</code> æ¥å£æ¥è®¾ç½® capacity</p></blockquote><h2 id="goè¯­è¨€å­—ç¬¦ä¸²è½¬ä¹‰å­—ç¬¦"><a href="#goè¯­è¨€å­—ç¬¦ä¸²è½¬ä¹‰å­—ç¬¦" class="headerlink" title="goè¯­è¨€å­—ç¬¦ä¸²è½¬ä¹‰å­—ç¬¦"></a>goè¯­è¨€å­—ç¬¦ä¸²è½¬ä¹‰å­—ç¬¦</h2><p>Go è¯­è¨€çš„å­—ç¬¦ä¸²å¸¸è§è½¬ä¹‰ç¬¦åŒ…å«å›è½¦ã€æ¢è¡Œã€å•åŒå¼•å·ã€åˆ¶è¡¨ç¬¦ç­‰ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p><table><thead><tr><th align="left">è½¬ä¹‰ç¬¦</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td align="left"><code>\r</code></td><td align="left">å›è½¦ç¬¦ï¼ˆè¿”å›è¡Œé¦–ï¼‰</td></tr><tr><td align="left"><code>\n</code></td><td align="left">æ¢è¡Œç¬¦ï¼ˆç›´æ¥è·³åˆ°ä¸‹ä¸€è¡Œçš„åŒåˆ—ä½ç½®ï¼‰</td></tr><tr><td align="left"><code>\t</code></td><td align="left">åˆ¶è¡¨ç¬¦</td></tr><tr><td align="left"><code>\&#39;</code></td><td align="left">å•å¼•å·</td></tr><tr><td align="left"><code>\&quot;</code></td><td align="left">åŒå¼•å·</td></tr><tr><td align="left"><code>\\</code></td><td align="left">åæ–œæ </td></tr></tbody></table><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">fmt.Print(<span class="string">&quot;hello\tworld\n&quot;</span>)</span><br><span class="line">fmt.Print(<span class="string">&quot;\&quot;c:\\test\\\&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">helloworld</span><br><span class="line">&quot;c:\test\&quot;</span><br></pre></td></tr></table></figure><h2 id="goè¯­è¨€å­—ç¬¦ä¸²åˆ‡ç‰‡æ“ä½œ"><a href="#goè¯­è¨€å­—ç¬¦ä¸²åˆ‡ç‰‡æ“ä½œ" class="headerlink" title="goè¯­è¨€å­—ç¬¦ä¸²åˆ‡ç‰‡æ“ä½œ"></a>goè¯­è¨€å­—ç¬¦ä¸²åˆ‡ç‰‡æ“ä½œ</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">str := <span class="string">&quot;hello world&quot;</span></span><br><span class="line">n := <span class="number">3</span></span><br><span class="line">m := <span class="number">5</span></span><br><span class="line">fmt.Println(str[n])   <span class="comment">//è·å–å­—ç¬¦ä¸²ç´¢å¼•ä½ç½®ä¸ºnçš„åŸå§‹å­—èŠ‚</span></span><br><span class="line">fmt.Println(str[n:m]) <span class="comment">//æˆªå–å¾—å­—ç¬¦ä¸²ç´¢å¼•ä½ç½®ä¸º n åˆ° m-1 çš„å­—ç¬¦ä¸²</span></span><br><span class="line">fmt.Println(str[n:])  <span class="comment">//æˆªå–å¾—å­—ç¬¦ä¸²ç´¢å¼•ä½ç½®ä¸º n åˆ° len(s)-1 çš„å­—ç¬¦ä¸²</span></span><br><span class="line">fmt.Println(str[:m])  <span class="comment">//æˆªå–å¾—å­—ç¬¦ä¸²ç´¢å¼•ä½ç½®ä¸º 0 åˆ° m-1 çš„å­—ç¬¦ä¸²</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">108</span><br><span class="line">lo</span><br><span class="line">lo world</span><br><span class="line">hello</span><br></pre></td></tr></table></figure><h2 id="goè¯­è¨€å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•"><a href="#goè¯­è¨€å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•" class="headerlink" title="goè¯­è¨€å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•"></a>goè¯­è¨€å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•</h2><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">ä»‹ç»</th></tr></thead><tbody><tr><td align="left">len(str)</td><td align="left">æ±‚é•¿åº¦</td></tr><tr><td align="left">+æˆ–fmt.Sprintf</td><td align="left">æ‹¼æ¥å­—ç¬¦ä¸²</td></tr><tr><td align="left">strings.Split</td><td align="left">åˆ†å‰²</td></tr><tr><td align="left">strings.contains</td><td align="left">åˆ¤æ–­æ˜¯å¦åŒ…å«</td></tr><tr><td align="left">strings.HasPrefix,strings.HasSuffix</td><td align="left">å‰ç¼€/åç¼€åˆ¤æ–­</td></tr><tr><td align="left">strings.Index(),strings.LastIndex()</td><td align="left">å­ä¸²å‡ºç°çš„ä½ç½®</td></tr><tr><td align="left">strings.Join(a[]string, sep string)</td><td align="left">joinæ“ä½œ</td></tr></tbody></table><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">s := <span class="string">&quot;hello worldï¼&quot;</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;len(s): %v\n&quot;</span>, <span class="built_in">len</span>(s))</span><br><span class="line">fmt.Printf(<span class="string">&quot;strings.Split(s, \&quot;\&quot;): %v\n&quot;</span>, strings.Split(s, <span class="string">&quot; &quot;</span>))</span><br><span class="line">fmt.Printf(<span class="string">&quot;strings.Contains(s, \&quot;hello\&quot;): %v\n&quot;</span>, strings.Contains(s, <span class="string">&quot;hello&quot;</span>))</span><br><span class="line">fmt.Printf(<span class="string">&quot;strings.HasPrefix(s, \&quot;hello\&quot;): %v\n&quot;</span>, strings.HasPrefix(s, <span class="string">&quot;hello&quot;</span>))</span><br><span class="line">fmt.Printf(<span class="string">&quot;strings.HasSuffix(s, \&quot;worldï¼\&quot;): %v\n&quot;</span>, strings.HasSuffix(s, <span class="string">&quot;worldï¼&quot;</span>))</span><br><span class="line">fmt.Printf(<span class="string">&quot;strings.Index(s, \&quot;l\&quot;): %v\n&quot;</span>, strings.Index(s, <span class="string">&quot;l&quot;</span>))</span><br><span class="line">fmt.Printf(<span class="string">&quot;strings.LastIndex(s, \&quot;l\&quot;): %v\n&quot;</span>, strings.LastIndex(s, <span class="string">&quot;l&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">len(s): 14</span><br><span class="line">strings.Split(s, &quot;&quot;): [hello worldï¼]</span><br><span class="line">strings.Contains(s, &quot;hello&quot;): true</span><br><span class="line">strings.HasPrefix(s, &quot;hello&quot;): true</span><br><span class="line">strings.HasSuffix(s, &quot;worldï¼&quot;): true</span><br><span class="line">strings.Index(s, &quot;l&quot;): 2</span><br><span class="line">strings.LastIndex(s, &quot;l&quot;): 9</span><br></pre></td></tr></table></figure><h2 id="byteå’Œruneç±»å‹"><a href="#byteå’Œruneç±»å‹" class="headerlink" title="byteå’Œruneç±»å‹"></a>byteå’Œruneç±»å‹</h2><p>ç»„æˆæ¯ä¸ªå­—ç¬¦ä¸²çš„å…ƒç´ å«åšâ€œå­—ç¬¦â€ï¼Œå¯ä»¥é€šè¿‡éå†æˆ–è€…å•ä¸ªè·å–å­—ç¬¦ä¸²å…ƒç´ è·å¾—å­—ç¬¦ã€‚ å­—ç¬¦ç”¨å•å¼•å·ï¼ˆâ€™ï¼‰åŒ…è£¹èµ·æ¥ï¼Œå¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;å&#x27;</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;a: %v,%c\n&quot;</span>, a, a)</span><br><span class="line">fmt.Printf(<span class="string">&quot;b: %v,%c\n&quot;</span>, b, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a: 21326,å</span><br><span class="line">b: 97,a</span><br></pre></td></tr></table></figure><p>Go è¯­è¨€çš„å­—ç¬¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p><ol><li><code>uint8</code>ç±»å‹ï¼Œæˆ–è€…å« byte å‹ï¼Œä»£è¡¨äº†<code>ASCIIç </code>çš„ä¸€ä¸ªå­—ç¬¦ã€‚</li><li><code>rune</code>ç±»å‹ï¼Œä»£è¡¨ä¸€ä¸ª <code>UTF-8å­—ç¬¦</code>ã€‚</li></ol><p>å½“éœ€è¦å¤„ç†ä¸­æ–‡ã€æ—¥æ–‡æˆ–è€…å…¶ä»–å¤åˆå­—ç¬¦æ—¶ï¼Œåˆ™éœ€è¦ç”¨åˆ°<code>rune</code>ç±»å‹ã€‚<code>rune</code>ç±»å‹å®é™…æ˜¯ä¸€ä¸ª<code>int32</code>ã€‚</p><p>Go ä½¿ç”¨äº†ç‰¹æ®Šçš„ rune ç±»å‹æ¥å¤„ç† Unicodeï¼Œè®©åŸºäº Unicode çš„æ–‡æœ¬å¤„ç†æ›´ä¸ºæ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ byte å‹è¿›è¡Œé»˜è®¤å­—ç¬¦ä¸²å¤„ç†ï¼Œæ€§èƒ½å’Œæ‰©å±•æ€§éƒ½æœ‰ç…§é¡¾ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goæ•°å­—ç±»å‹</title>
      <link href="post/go%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B/"/>
      <url>post/go%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>Go è¯­è¨€æ”¯æŒæ•´å‹å’Œæµ®ç‚¹å‹æ•°å­—ï¼Œå¹¶ä¸”åŸç”Ÿæ”¯æŒå¤æ•°ï¼Œå…¶ä¸­ä½çš„è¿ç®—é‡‡ç”¨è¡¥ç ã€‚</p><p>Go ä¹Ÿæœ‰åŸºäºæ¶æ„çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š<code>int</code>ã€<code>uint</code> å’Œ <code>uintptr</code>ã€‚</p><p>è¿™äº›ç±»å‹çš„é•¿åº¦éƒ½æ˜¯æ ¹æ®è¿è¡Œç¨‹åºæ‰€åœ¨çš„æ“ä½œç³»ç»Ÿç±»å‹æ‰€å†³å®šçš„ï¼š</p><ul><li><code>int</code> å’Œ <code>uint</code> åœ¨ 32 ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œå®ƒä»¬å‡ä½¿ç”¨ 32 ä½ï¼ˆ4 ä¸ªå­—èŠ‚ï¼‰ï¼Œåœ¨ 64 ä½æ“ä½œç³»ç»Ÿä¸Šï¼Œå®ƒä»¬å‡ä½¿ç”¨ 64 ä½ï¼ˆ8 ä¸ªå­—èŠ‚ï¼‰ã€‚</li><li><code>uintptr</code> çš„é•¿åº¦è¢«è®¾å®šä¸ºè¶³å¤Ÿå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆå³å¯ã€‚</li></ul><p>Go è¯­è¨€ä¸­æ²¡æœ‰ <code>float</code> ç±»å‹ã€‚ï¼ˆGoè¯­è¨€ä¸­åªæœ‰ <code>float32</code> å’Œ <code>float64</code>ï¼‰æ²¡æœ‰doubleç±»å‹ã€‚</p><p>ä¸æ“ä½œç³»ç»Ÿæ¶æ„æ— å…³çš„ç±»å‹éƒ½æœ‰å›ºå®šçš„å¤§å°ï¼Œå¹¶åœ¨ç±»å‹çš„åç§°ä¸­å°±å¯ä»¥çœ‹å‡ºæ¥ï¼š</p><p>æ•´æ•°ï¼š</p><ul><li>int8ï¼ˆ-128 -&gt; 127ï¼‰</li><li>int16ï¼ˆ-32768 -&gt; 32767ï¼‰</li><li>int32ï¼ˆ-2,147,483,648 -&gt; 2,147,483,647ï¼‰</li><li>int64ï¼ˆ-9,223,372,036,854,775,808 -&gt; 9,223,372,036,854,775,807ï¼‰</li></ul><p>æ— ç¬¦å·æ•´æ•°ï¼š</p><ul><li>uint8ï¼ˆ0 -&gt; 255ï¼‰</li><li>uint16ï¼ˆ0 -&gt; 65,535ï¼‰</li><li>uint32ï¼ˆ0 -&gt; 4,294,967,295ï¼‰</li><li>uint64ï¼ˆ0 -&gt; 18,446,744,073,709,551,615ï¼‰</li></ul><p>æµ®ç‚¹å‹ï¼ˆIEEE-754 æ ‡å‡†ï¼‰ï¼š</p><ul><li>float32ï¼ˆ+- 1e-45 -&gt; +- 3.4 * 1e38ï¼‰</li><li>float64ï¼ˆ+- 5 * 1e-324 -&gt; 107 * 1e308ï¼‰</li></ul><p>int å‹æ˜¯è®¡ç®—æœ€å¿«çš„ä¸€ç§ç±»å‹ã€‚</p><p>æ•´å‹çš„é›¶å€¼ä¸º 0ï¼Œæµ®ç‚¹å‹çš„é›¶å€¼ä¸º 0.0ã€‚</p><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><p>ä¸‹é¢å®ä¾‹æ¼”ç¤ºäº†ï¼Œå„ä¸ªæ•°å­—ç±»å‹çš„é•¿åº¦å’Œå–å€¼èŒƒå›´</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;math&quot;</span></span><br><span class="line"><span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> i8 <span class="keyword">int8</span></span><br><span class="line"><span class="keyword">var</span> i16 <span class="keyword">int16</span></span><br><span class="line"><span class="keyword">var</span> i32 <span class="keyword">int32</span></span><br><span class="line"><span class="keyword">var</span> i64 <span class="keyword">int64</span></span><br><span class="line"><span class="keyword">var</span> ui8 <span class="keyword">uint8</span></span><br><span class="line"><span class="keyword">var</span> ui16 <span class="keyword">uint16</span></span><br><span class="line"><span class="keyword">var</span> ui32 <span class="keyword">uint32</span></span><br><span class="line"><span class="keyword">var</span> ui64 <span class="keyword">uint64</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, i8, unsafe.Sizeof(i8), math.MinInt8, math.MaxInt8)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, i16, unsafe.Sizeof(i16), math.MinInt16, math.MaxInt16)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, i32, unsafe.Sizeof(i32), math.MinInt32, math.MaxInt32)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, i64, unsafe.Sizeof(i64), math.MinInt64, math.MaxInt64)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, ui8, unsafe.Sizeof(ui8), <span class="number">0</span>, math.MaxUint8)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, ui16, unsafe.Sizeof(ui16), <span class="number">0</span>, math.MaxUint16)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, ui32, unsafe.Sizeof(ui32), <span class="number">0</span>, math.MaxUint32)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, ui64, unsafe.Sizeof(ui64), <span class="number">0</span>, <span class="keyword">uint64</span>(math.MaxUint64))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f32 <span class="keyword">float32</span></span><br><span class="line"><span class="keyword">var</span> f64 <span class="keyword">float64</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, f32, unsafe.Sizeof(f32), -math.MaxFloat32, math.MaxFloat32)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, f64, unsafe.Sizeof(f64), -math.MaxFloat64, math.MaxFloat64)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ui <span class="keyword">uint</span></span><br><span class="line">ui = <span class="keyword">uint</span>(math.MaxUint64) <span class="comment">//å†+1ä¼šå¯¼è‡´overflowsé”™è¯¯</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, ui, unsafe.Sizeof(ui), <span class="number">0</span>, ui)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> imax, imin <span class="keyword">int</span></span><br><span class="line">imax = <span class="keyword">int</span>(math.MaxInt64) <span class="comment">//å†+1ä¼šå¯¼è‡´overflowsé”™è¯¯</span></span><br><span class="line">imin = <span class="keyword">int</span>(math.MinInt64) <span class="comment">//å†-1ä¼šå¯¼è‡´overflowsé”™è¯¯</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %dB %v~%v\n&quot;</span>, imax, unsafe.Sizeof(imax), imin, imax)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">int8 1B -128~127</span><br><span class="line">int16 2B -32768~32767</span><br><span class="line">int32 4B -2147483648~2147483647</span><br><span class="line">int64 8B -9223372036854775808~9223372036854775807</span><br><span class="line">uint8 1B 0~255</span><br><span class="line">uint16 2B 0~65535</span><br><span class="line">uint32 4B 0~4294967295</span><br><span class="line">uint64 8B 0~18446744073709551615</span><br><span class="line">float32 4B -3.4028234663852886e+38~3.4028234663852886e+38</span><br><span class="line">float64 8B -1.7976931348623157e+308~1.7976931348623157e+308</span><br><span class="line">uint 8B 0~18446744073709551615</span><br><span class="line">int 8B -9223372036854775808~9223372036854775807</span><br></pre></td></tr></table></figure><h2 id="ä»¥äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶æµ®ç‚¹æ•°çš„æ ¼å¼å®šä¹‰æ•°å­—"><a href="#ä»¥äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶æµ®ç‚¹æ•°çš„æ ¼å¼å®šä¹‰æ•°å­—" class="headerlink" title="ä»¥äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶æµ®ç‚¹æ•°çš„æ ¼å¼å®šä¹‰æ•°å­—"></a>ä»¥äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶æµ®ç‚¹æ•°çš„æ ¼å¼å®šä¹‰æ•°å­—</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="comment">// åè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%d \n&quot;</span>, a) <span class="comment">// 10</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%b \n&quot;</span>, a) <span class="comment">// 1010  å ä½ç¬¦%bè¡¨ç¤ºäºŒè¿›åˆ¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…«è¿›åˆ¶  ä»¥0å¼€å¤´</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">077</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%o \n&quot;</span>, b) <span class="comment">// 77</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åå…­è¿›åˆ¶  ä»¥0xå¼€å¤´</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">int</span> = <span class="number">0xff</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%x \n&quot;</span>, c) <span class="comment">// ff</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%X \n&quot;</span>, c) <span class="comment">// FF</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">10 </span><br><span class="line">1010 </span><br><span class="line">77 </span><br><span class="line">ff </span><br><span class="line">FF </span><br></pre></td></tr></table></figure><h2 id="æµ®ç‚¹å‹"><a href="#æµ®ç‚¹å‹" class="headerlink" title="æµ®ç‚¹å‹"></a>æµ®ç‚¹å‹</h2><p>Goè¯­è¨€æ”¯æŒä¸¤ç§æµ®ç‚¹å‹æ•°ï¼š<code>float32</code>å’Œ<code>float64</code>ã€‚è¿™ä¸¤ç§æµ®ç‚¹å‹æ•°æ®æ ¼å¼éµå¾ª<code>IEEE 754</code>æ ‡å‡†ï¼š <code>float32</code> çš„æµ®ç‚¹æ•°çš„æœ€å¤§èŒƒå›´çº¦ä¸º <code>3.4e38</code>ï¼Œå¯ä»¥ä½¿ç”¨å¸¸é‡å®šä¹‰ï¼š<code>math.MaxFloat32</code>ã€‚ <code>float64</code> çš„æµ®ç‚¹æ•°çš„æœ€å¤§èŒƒå›´çº¦ä¸º <code>1.8e308</code>ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡å®šä¹‰ï¼š<code>math.MaxFloat64</code>ã€‚</p><p>æ‰“å°æµ®ç‚¹æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>fmt</code>åŒ…é…åˆåŠ¨è¯<code>%f</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%f\n&quot;</span>, math.Pi)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%.2f\n&quot;</span>, math.Pi)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤æ•°"><a href="#å¤æ•°" class="headerlink" title="å¤æ•°"></a>å¤æ•°</h2><p>complex64å’Œcomplex128</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c1 <span class="keyword">complex64</span></span><br><span class="line">c1 = <span class="number">1</span> + <span class="number">2i</span></span><br><span class="line"><span class="keyword">var</span> c2 <span class="keyword">complex128</span></span><br><span class="line">c2 = <span class="number">2</span> + <span class="number">3i</span></span><br><span class="line">fmt.Println(c1)</span><br><span class="line">fmt.Println(c2)</span><br></pre></td></tr></table></figure><p>å¤æ•°æœ‰å®éƒ¨å’Œè™šéƒ¨ï¼Œcomplex64çš„å®éƒ¨å’Œè™šéƒ¨ä¸º32ä½ï¼Œcomplex128çš„å®éƒ¨å’Œè™šéƒ¨ä¸º64ä½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goå˜é‡</title>
      <link href="post/go%E5%8F%98%E9%87%8F/"/>
      <url>post/go%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<p>å˜é‡æ˜¯è®¡ç®—æœºè¯­è¨€ä¸­èƒ½<strong>å‚¨å­˜</strong>è®¡ç®—ç»“æœæˆ–èƒ½è¡¨ç¤ºå€¼çš„æŠ½è±¡æ¦‚å¿µã€‚ä¸åŒçš„å˜é‡ä¿å­˜çš„<strong>æ•°æ®ç±»å‹</strong>å¯èƒ½ä¼šä¸ä¸€æ ·ã€‚</p><h2 id="å£°æ˜å˜é‡"><a href="#å£°æ˜å˜é‡" class="headerlink" title="å£°æ˜å˜é‡"></a>å£°æ˜å˜é‡</h2><p>Goè¯­è¨€ä¸­çš„å˜é‡éœ€è¦å£°æ˜åæ‰èƒ½ä½¿ç”¨ï¼ŒåŒä¸€ä½œç”¨åŸŸå†…ä¸æ”¯æŒé‡å¤å£°æ˜ã€‚ å¹¶ä¸”Goè¯­è¨€çš„å˜é‡å£°æ˜å<strong>å¿…é¡»ä½¿ç”¨</strong>ã€‚</p><p><strong>å£°æ˜å˜é‡çš„è¯­æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> identifier <span class="keyword">type</span></span><br></pre></td></tr></table></figure><p><code>var</code>ï¼šå£°æ˜å˜é‡å…³é”®å­—</p><p><code>identifier</code>ï¼šå˜é‡åç§°</p><p><code>type</code>ï¼šå˜é‡ç±»å‹</p><p><strong>ä¾‹å¦‚</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> ok <span class="keyword">bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰¹é‡å£°æ˜"><a href="#æ‰¹é‡å£°æ˜" class="headerlink" title="æ‰¹é‡å£°æ˜"></a>æ‰¹é‡å£°æ˜</h3><p>ä½¿ç”¨ä¸€ä¸ª<code>var</code>å…³é”®å­—ï¼ŒæŠŠä¸€äº›å˜é‡å†™åœ¨ä¸€ä¸ªæ‹¬å·<code>()</code>é‡Œ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">name <span class="keyword">string</span></span><br><span class="line">age  <span class="keyword">int</span></span><br><span class="line">ok   <span class="keyword">bool</span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å˜é‡çš„åˆå§‹åŒ–"><a href="#å˜é‡çš„åˆå§‹åŒ–" class="headerlink" title="å˜é‡çš„åˆå§‹åŒ–"></a>å˜é‡çš„åˆå§‹åŒ–</h2><p>Goè¯­è¨€åœ¨å£°æ˜å˜é‡çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å¯¹å˜é‡å¯¹åº”çš„å†…å­˜åŒºåŸŸè¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚æ¯ä¸ªå˜é‡ä¼šè¢«åˆå§‹åŒ–æˆå…¶ç±»å‹çš„é»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼š æ•´å‹å’Œæµ®ç‚¹å‹å˜é‡çš„é»˜è®¤å€¼ä¸º<code>0</code>ã€‚ å­—ç¬¦ä¸²å˜é‡çš„é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²<code>â€œâ€</code>ã€‚ å¸ƒå°”å‹å˜é‡é»˜è®¤ä¸º<code>false</code>ã€‚ åˆ‡ç‰‡ã€å‡½æ•°ã€æŒ‡é’ˆå˜é‡çš„é»˜è®¤ä¸º<code>nil</code>ã€‚</p><p><strong>å˜é‡åˆå§‹åŒ–è¯­æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> å˜é‡å ç±»å‹ = è¡¨è¾¾å¼</span><br></pre></td></tr></table></figure><p><strong>ä¾‹å¦‚</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">&quot;è€éƒ­&quot;</span></span><br><span class="line"><span class="keyword">var</span> site <span class="keyword">string</span> = <span class="string">&quot;www.duoke360.com&quot;</span></span><br><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç±»å‹æ¨å¯¼</strong></p><p>æˆ‘ä»¬åœ¨å£°æ˜å˜é‡æ—¶ï¼Œå¯ä»¥æ ¹æ®åˆå§‹åŒ–å€¼è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œä»è€Œçœç•¥ç±»å‹ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;è€éƒ­&quot;</span></span><br><span class="line"><span class="keyword">var</span> site = <span class="string">&quot;www.duoke360.com&quot;</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åˆå§‹åŒ–å¤šä¸ªå˜é‡</strong></p><p>å¯ä»¥ä¸€æ¬¡åˆå§‹åŒ–å¤šä¸ªå˜é‡ï¼Œä¸­é—´ç”¨é€—å·åˆ†éš”ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> name, site, age = <span class="string">&quot;è€éƒ­&quot;</span>, <span class="string">&quot;www.duoke360.com&quot;</span>, <span class="number">30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çŸ­å˜é‡å£°æ˜"><a href="#çŸ­å˜é‡å£°æ˜" class="headerlink" title="çŸ­å˜é‡å£°æ˜"></a>çŸ­å˜é‡å£°æ˜</h2><p>åœ¨<strong>å‡½æ•°å†…éƒ¨</strong>ï¼Œå¯ä»¥ä½¿ç”¨ <code>:=</code>è¿ç®—ç¬¦å¯¹å˜é‡è¿›è¡Œå£°æ˜å’Œåˆå§‹åŒ–ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">name := <span class="string">&quot;è€éƒ­&quot;</span></span><br><span class="line">site := <span class="string">&quot;www.duoke360.com&quot;</span></span><br><span class="line">age := <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¿™ç§æ–¹æ³•åªé€‚åˆåœ¨å‡½æ•°å†…éƒ¨ï¼Œå‡½æ•°å¤–é¢ä¸èƒ½ä½¿ç”¨ã€‚</p></blockquote><h2 id="åŒ¿åå˜é‡"><a href="#åŒ¿åå˜é‡" class="headerlink" title="åŒ¿åå˜é‡"></a>åŒ¿åå˜é‡</h2><p>å¦‚æœæˆ‘ä»¬æ¥æ”¶åˆ°å¤šä¸ªå˜é‡ï¼Œæœ‰ä¸€äº›å˜é‡ä½¿ç”¨ä¸åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿<code>_</code>è¡¨ç¤ºå˜é‡åç§°ï¼Œè¿™ç§å˜é‡å«åšåŒ¿åå˜é‡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getNameAndAge</span><span class="params">()</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;è€éƒ­&quot;</span>, <span class="number">30</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">name, _ := getNameAndAge()</span><br><span class="line">fmt.Printf(<span class="string">&quot;name: %v\n&quot;</span>, name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goå¸ƒå°”ç±»å‹</title>
      <link href="post/go%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B/"/>
      <url>post/go%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p>goè¯­è¨€ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¸¸é‡å€¼ï¼š<code>true</code>å’Œ<code>false</code>ã€‚å¸ƒå°”ç±»å‹ç»å¸¸ç”¨åœ¨<strong>æ¡ä»¶åˆ¤æ–­</strong>è¯­å¥ï¼Œæˆ–è€…<strong>å¾ªç¯è¯­å¥</strong>ã€‚ä¹Ÿå¯ä»¥ç”¨åœ¨<strong>é€»è¾‘è¡¨è¾¾å¼</strong>ä¸­ã€‚</p><h2 id="å¸ƒå°”ç±»å‹"><a href="#å¸ƒå°”ç±»å‹" class="headerlink" title="å¸ƒå°”ç±»å‹"></a>å¸ƒå°”ç±»å‹</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> b1 <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> b2 <span class="keyword">bool</span> = <span class="literal">false</span></span><br><span class="line"><span class="keyword">var</span> b3 = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> b4 = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">b5 := <span class="literal">true</span></span><br><span class="line">b6 := <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;b1: %v\n&quot;</span>, b1)</span><br><span class="line">fmt.Printf(<span class="string">&quot;b2: %v\n&quot;</span>, b2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;b3: %v\n&quot;</span>, b3)</span><br><span class="line">fmt.Printf(<span class="string">&quot;b4: %v\n&quot;</span>, b4)</span><br><span class="line">fmt.Printf(<span class="string">&quot;b5: %v\n&quot;</span>, b5)</span><br><span class="line">fmt.Printf(<span class="string">&quot;b6: %v\n&quot;</span>, b6)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">b1: true</span><br><span class="line">b2: false</span><br><span class="line">b3: true</span><br><span class="line">b4: false</span><br><span class="line">b5: true</span><br><span class="line">b6: false</span><br></pre></td></tr></table></figure><h2 id="ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ä¸­"><a href="#ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ä¸­" class="headerlink" title="ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ä¸­"></a>ç”¨åœ¨æ¡ä»¶åˆ¤æ–­ä¸­</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">age := <span class="number">18</span></span><br><span class="line">ok := age &gt;= <span class="number">18</span></span><br><span class="line"><span class="keyword">if</span> ok &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;ä½ å·²ç»æˆå¹´&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;ä½ è¿˜æœªæˆå¹´&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½ å·²ç»æˆå¹´</span><br></pre></td></tr></table></figure><h2 id="ç”¨åœ¨å¾ªç¯è¯­å¥ä¸­"><a href="#ç”¨åœ¨å¾ªç¯è¯­å¥ä¸­" class="headerlink" title="ç”¨åœ¨å¾ªç¯è¯­å¥ä¸­"></a>ç”¨åœ¨å¾ªç¯è¯­å¥ä¸­</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">count := <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; count; i++ &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;i: %v\n&quot;</span>, i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç”¨åœ¨é€»è¾‘è¡¨è¾¾å¼ä¸­"><a href="#ç”¨åœ¨é€»è¾‘è¡¨è¾¾å¼ä¸­" class="headerlink" title="ç”¨åœ¨é€»è¾‘è¡¨è¾¾å¼ä¸­"></a>ç”¨åœ¨é€»è¾‘è¡¨è¾¾å¼ä¸­</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">age := <span class="number">18</span></span><br><span class="line">gender := <span class="string">&quot;ç”·&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span> &amp;&amp; gender == <span class="string">&quot;ç”·&quot;</span> &#123;</span><br><span class="line">fmt.Println(<span class="string">&quot;ä½ æ˜¯æˆå¹´ç”·å­&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨<code>0</code>å’Œé<code>0</code>è¡¨ç¤ºçœŸå‡</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">i := <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> i &#123;</span><br><span class="line"><span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goè¯­è¨€å¸¸ç”¨å‘½ä»¤</title>
      <link href="post/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>post/go%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="æŸ¥çœ‹å¯ç”¨å‘½ä»¤"><a href="#æŸ¥çœ‹å¯ç”¨å‘½ä»¤" class="headerlink" title="æŸ¥çœ‹å¯ç”¨å‘½ä»¤"></a>æŸ¥çœ‹å¯ç”¨å‘½ä»¤</h2><p>ç›´æ¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥ <code>go help</code> å³å¯æ˜¾ç¤ºæ‰€æœ‰çš„ go å‘½ä»¤ä»¥åŠç›¸åº”å‘½ä»¤åŠŸèƒ½ç®€ä»‹ï¼Œä¸»è¦æœ‰ä¸‹é¢è¿™äº›:</p><ul><li>build: ç¼–è¯‘åŒ…å’Œä¾èµ–</li><li>clean: ç§»é™¤å¯¹è±¡æ–‡ä»¶</li><li>doc: æ˜¾ç¤ºåŒ…æˆ–è€…ç¬¦å·çš„æ–‡æ¡£</li><li>env: æ‰“å°goçš„ç¯å¢ƒä¿¡æ¯</li><li>bug: å¯åŠ¨é”™è¯¯æŠ¥å‘Š</li><li>fix: è¿è¡Œgo tool fix</li><li>fmt: è¿è¡Œgofmtè¿›è¡Œæ ¼å¼åŒ–</li><li>generate: ä»processing sourceç”Ÿæˆgoæ–‡ä»¶</li><li>get: ä¸‹è½½å¹¶å®‰è£…åŒ…å’Œä¾èµ–</li><li>install: ç¼–è¯‘å¹¶å®‰è£…åŒ…å’Œä¾èµ–</li><li>list: åˆ—å‡ºåŒ…</li><li>run: ç¼–è¯‘å¹¶è¿è¡Œgoç¨‹åº</li><li>test: è¿è¡Œæµ‹è¯•</li><li>tool: è¿è¡Œgoæä¾›çš„å·¥å…·</li><li>version: æ˜¾ç¤ºgoçš„ç‰ˆæœ¬</li><li>vet: è¿è¡Œgo tool vet</li></ul><h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://golang.org/doc/cmd</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goå¸¸é‡</title>
      <link href="post/go%E5%B8%B8%E9%87%8F/"/>
      <url>post/go%E5%B8%B8%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<p>å¸¸é‡ï¼Œå°±æ˜¯åœ¨ç¨‹åº<strong>ç¼–è¯‘é˜¶æ®µ</strong>å°±ç¡®å®šä¸‹æ¥çš„å€¼ï¼Œè€Œç¨‹åºåœ¨<strong>è¿è¡Œæ—¶</strong>åˆ™æ— æ³•æ”¹å˜è¯¥å€¼ã€‚åœ¨Goç¨‹åºä¸­ï¼Œå¸¸é‡å¯ä»¥æ˜¯æ•°å€¼ç±»å‹ï¼ˆåŒ…æ‹¬æ•´å‹ã€æµ®ç‚¹å‹å’Œå¤æ•°ç±»å‹ï¼‰ã€å¸ƒå°”ç±»å‹ã€å­—ç¬¦ä¸²ç±»å‹ç­‰ã€‚</p><h2 id="å®šä¹‰å¸¸é‡çš„è¯­æ³•"><a href="#å®šä¹‰å¸¸é‡çš„è¯­æ³•" class="headerlink" title="å®šä¹‰å¸¸é‡çš„è¯­æ³•"></a>å®šä¹‰å¸¸é‡çš„è¯­æ³•</h2><p>å®šä¹‰ä¸€ä¸ªå¸¸é‡ä½¿ç”¨<code>const</code>å…³é”®å­—ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> constantName [<span class="keyword">type</span>]= value</span><br></pre></td></tr></table></figure><p><code>const</code>ï¼šå®šä¹‰å¸¸é‡å…³é”®å­—</p><p><code>constantName</code>ï¼šå¸¸é‡åç§°</p><p><code>type</code>ï¼šå¸¸é‡ç±»å‹</p><p><code>value</code>ï¼šå¸¸é‡çš„å€¼</p><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">const</span> PI <span class="keyword">float64</span> = <span class="number">3.14</span></span><br><span class="line"><span class="keyword">const</span> PI2 = <span class="number">3.1415</span> <span class="comment">// å¯ä»¥çœç•¥ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">width  = <span class="number">100</span></span><br><span class="line">height = <span class="number">200</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> i, j = <span class="number">1</span>, <span class="number">2</span> <span class="comment">// å¤šé‡èµ‹å€¼</span></span><br><span class="line"><span class="keyword">const</span> a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;foo&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><code>const</code>åŒæ—¶å£°æ˜å¤šä¸ªå¸¸é‡æ—¶ï¼Œå¦‚æœçœç•¥äº†å€¼åˆ™è¡¨ç¤ºå’Œä¸Šé¢ä¸€è¡Œçš„å€¼ç›¸åŒ</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">a1 = <span class="number">100</span></span><br><span class="line">a2</span><br><span class="line">a3</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;a1: %v\n&quot;</span>, a1)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a2: %v\n&quot;</span>, a2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a3: %v\n&quot;</span>, a3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a1: 100</span><br><span class="line">a2: 100</span><br><span class="line">a3: 100</span><br></pre></td></tr></table></figure><h2 id="iota"><a href="#iota" class="headerlink" title="iota"></a><code>iota</code></h2><p>iota æ¯”è¾ƒç‰¹æ®Šï¼Œå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯è¢«ç¼–è¯‘å™¨ä¿®æ”¹çš„å¸¸é‡ï¼Œå®ƒé»˜è®¤å¼€å§‹å€¼æ˜¯<code>0</code>ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡åŠ <code>1</code>ã€‚é‡åˆ° <code>const</code> å…³é”®å­—æ—¶è¢«é‡ç½®ä¸º <code>0</code>ã€‚</p><p><strong>å®ä¾‹</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">a1 = <span class="literal">iota</span></span><br><span class="line">a2 = <span class="literal">iota</span></span><br><span class="line">a3 = <span class="literal">iota</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;a1: %v\n&quot;</span>, a1)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a2: %v\n&quot;</span>, a2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a3: %v\n&quot;</span>, a3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a1: 0</span><br><span class="line">a2: 1</span><br><span class="line">a3: 2</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨<code>_</code>è·³è¿‡æŸäº›å€¼</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">a1 = <span class="literal">iota</span></span><br><span class="line">_</span><br><span class="line">a2 = <span class="literal">iota</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;a1: %v\n&quot;</span>, a1)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a2: %v\n&quot;</span>, a2)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a1: 0</span><br><span class="line">a2: 2</span><br></pre></td></tr></table></figure><p><strong><code>iota</code>å£°æ˜ä¸­é—´æ’é˜Ÿ</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">a1 = <span class="literal">iota</span></span><br><span class="line">a2 = <span class="number">100</span></span><br><span class="line">a3 = <span class="literal">iota</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">&quot;a1: %v\n&quot;</span>, a1)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a2: %v\n&quot;</span>, a2)</span><br><span class="line">fmt.Printf(<span class="string">&quot;a3: %v\n&quot;</span>, a3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a1: <span class="number">0</span></span><br><span class="line">a2: <span class="number">100</span></span><br><span class="line">a3: <span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goæ ‡è¯†ç¬¦ã€å…³é”®å­—ã€å‘½åè§„åˆ™</title>
      <link href="post/go%E6%A0%87%E8%AF%86%E7%AC%A6%E3%80%81%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/"/>
      <url>post/go%E6%A0%87%E8%AF%86%E7%AC%A6%E3%80%81%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h2 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h2><p>æ ‡è¯†ç¬¦çš„è‹±æ–‡æ˜¯<code>identifier</code>ï¼Œé€šä¿—çš„è®²ï¼Œå°±æ˜¯ç»™å˜é‡ã€å¸¸é‡ã€å‡½æ•°ã€æ–¹æ³•ã€ç»“æ„ä½“ã€æ•°ç»„ã€åˆ‡ç‰‡ã€æ¥å£èµ·åå­—ã€‚</p><h3 id="æ ‡è¯†ç¬¦çš„ç»„æˆ"><a href="#æ ‡è¯†ç¬¦çš„ç»„æˆ" class="headerlink" title="æ ‡è¯†ç¬¦çš„ç»„æˆ"></a>æ ‡è¯†ç¬¦çš„ç»„æˆ</h3><ol><li>æ ‡è¯†ç¬¦ç”±æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿(<code>_</code>)ç»„æˆã€‚123 abc _</li><li>åªèƒ½ä»¥å­—æ¯å’Œä¸‹åˆ’çº¿(<code>_</code>)<strong>å¼€å¤´</strong>ã€‚abc123 _sysVar 123abc</li><li>æ ‡è¯†ç¬¦åŒºåˆ†å¤§å°å†™ã€‚ name Name NAME</li></ol><h3 id="ä¸¾ä¾‹è¯´æ˜æ ‡è¯†ç¬¦çš„å‘½å"><a href="#ä¸¾ä¾‹è¯´æ˜æ ‡è¯†ç¬¦çš„å‘½å" class="headerlink" title="ä¸¾ä¾‹è¯´æ˜æ ‡è¯†ç¬¦çš„å‘½å"></a>ä¸¾ä¾‹è¯´æ˜æ ‡è¯†ç¬¦çš„å‘½å</h3><p><strong>æ­£ç¡®çš„å‘½å</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> _sys <span class="keyword">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é”™è¯¯çš„æ ‡è¯†ç¬¦</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> <span class="number">1</span>name <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> &amp;age <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> !email</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="goè¯­è¨€å…³é”®å­—"><a href="#goè¯­è¨€å…³é”®å­—" class="headerlink" title="goè¯­è¨€å…³é”®å­—"></a>goè¯­è¨€å…³é”®å­—</h2><p>goè¯­è¨€æä¾›äº†25ä¸ªå…³é”®å­—ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><table><thead><tr><th align="left">break</th><th align="left">default</th><th align="left">func</th><th align="left">interface</th><th align="left">select</th></tr></thead><tbody><tr><td align="left">case</td><td align="left">defer</td><td align="left">go</td><td align="left">map</td><td align="left">struct</td></tr><tr><td align="left">chan</td><td align="left">else</td><td align="left">goto</td><td align="left">package</td><td align="left">switch</td></tr><tr><td align="left">const</td><td align="left">fallthrough</td><td align="left">if</td><td align="left">range</td><td align="left">type</td></tr><tr><td align="left">continue</td><td align="left">for</td><td align="left">import</td><td align="left">return</td><td align="left">var</td></tr></tbody></table><p>é™¤äº†ä»¥ä¸Šä»‹ç»çš„è¿™äº›å…³é”®å­—ï¼ŒGo è¯­è¨€è¿˜æœ‰ 36 ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œå…¶ä¸­åŒ…å«äº†åŸºæœ¬ç±»å‹çš„åç§°å’Œä¸€äº›åŸºæœ¬çš„å†…ç½®å‡½æ•°ï¼Œè§ä¸‹è¡¨ï¼š</p><table><thead><tr><th align="left">append</th><th align="left">bool</th><th align="left">byte</th><th align="left">cap</th><th align="left">close</th><th align="left">complex</th><th align="left">complex64</th><th align="left">complex128</th><th align="left">uint16</th></tr></thead><tbody><tr><td align="left">copy</td><td align="left">false</td><td align="left">float32</td><td align="left">float64</td><td align="left">imag</td><td align="left">int</td><td align="left">int8</td><td align="left">int16</td><td align="left">uint32</td></tr><tr><td align="left">int32</td><td align="left">int64</td><td align="left">iota</td><td align="left">len</td><td align="left">make</td><td align="left">new</td><td align="left">nil</td><td align="left">panic</td><td align="left">uint64</td></tr><tr><td align="left">print</td><td align="left">println</td><td align="left">real</td><td align="left">recover</td><td align="left">string</td><td align="left">true</td><td align="left">uint</td><td align="left">uint8</td><td align="left">uintptr</td></tr></tbody></table><h2 id="goè¯­è¨€å‘½åè§„èŒƒ"><a href="#goè¯­è¨€å‘½åè§„èŒƒ" class="headerlink" title="goè¯­è¨€å‘½åè§„èŒƒ"></a>goè¯­è¨€å‘½åè§„èŒƒ</h2><h3 id="Goæ˜¯ä¸€é—¨åŒºåˆ†å¤§å°å†™çš„è¯­è¨€"><a href="#Goæ˜¯ä¸€é—¨åŒºåˆ†å¤§å°å†™çš„è¯­è¨€" class="headerlink" title="Goæ˜¯ä¸€é—¨åŒºåˆ†å¤§å°å†™çš„è¯­è¨€"></a>Goæ˜¯ä¸€é—¨åŒºåˆ†å¤§å°å†™çš„è¯­è¨€</h3><p>å‘½åè§„åˆ™æ¶‰åŠå˜é‡ã€å¸¸é‡ã€å…¨å±€å‡½æ•°ã€ç»“æ„ã€æ¥å£ã€æ–¹æ³•ç­‰çš„å‘½åã€‚ Goè¯­è¨€ä»è¯­æ³•å±‚é¢è¿›è¡Œäº†ä»¥ä¸‹é™å®šï¼šä»»ä½•éœ€è¦å¯¹å¤–æš´éœ²çš„åå­—å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¸éœ€è¦å¯¹å¤–æš´éœ²çš„åˆ™åº”è¯¥ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚</p><p>å½“å‘½åï¼ˆåŒ…æ‹¬å¸¸é‡ã€å˜é‡ã€ç±»å‹ã€å‡½æ•°åã€ç»“æ„å­—æ®µç­‰ç­‰ï¼‰ä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´ï¼Œå¦‚ï¼š<code>GetUserName</code>ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ç§å½¢å¼çš„æ ‡è¯†ç¬¦çš„å¯¹è±¡å°±<strong>å¯ä»¥è¢«å¤–éƒ¨åŒ…çš„ä»£ç æ‰€ä½¿ç”¨</strong>ï¼ˆå®¢æˆ·ç«¯ç¨‹åºéœ€è¦å…ˆå¯¼å…¥è¿™ä¸ªåŒ…ï¼‰ï¼Œè¿™è¢«ç§°ä¸ºå¯¼å‡ºï¼ˆåƒé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ <code>public</code>ï¼‰ï¼› <strong>å‘½åå¦‚æœä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å¯¹åŒ…å¤–æ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯ä»–ä»¬åœ¨æ•´ä¸ªåŒ…çš„å†…éƒ¨æ˜¯å¯è§å¹¶ä¸”å¯ç”¨çš„</strong>ï¼ˆåƒé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ <code>private</code> ï¼‰</p><h3 id="åŒ…åç§°"><a href="#åŒ…åç§°" class="headerlink" title="åŒ…åç§°"></a>åŒ…åç§°</h3><p>ä¿æŒ<code>package</code>çš„åå­—å’Œç›®å½•ä¿æŒä¸€è‡´ï¼Œå°½é‡é‡‡å–æœ‰æ„ä¹‰çš„åŒ…åï¼Œç®€çŸ­ï¼Œæœ‰æ„ä¹‰ï¼Œå°½é‡å’Œæ ‡å‡†åº“ä¸è¦å†²çªã€‚åŒ…ååº”è¯¥ä¸º<strong>å°å†™</strong>å•è¯ï¼Œä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿æˆ–è€…æ··åˆå¤§å°å†™ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> dao</span><br><span class="line"><span class="keyword">package</span> service</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶å‘½å"><a href="#æ–‡ä»¶å‘½å" class="headerlink" title="æ–‡ä»¶å‘½å"></a>æ–‡ä»¶å‘½å</h3><p>å°½é‡é‡‡å–æœ‰æ„ä¹‰çš„æ–‡ä»¶åï¼Œç®€çŸ­ï¼Œæœ‰æ„ä¹‰ï¼Œåº”è¯¥ä¸º<strong>å°å†™</strong>å•è¯ï¼Œä½¿ç”¨<strong>ä¸‹åˆ’çº¿</strong>åˆ†éš”å„ä¸ªå•è¯ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">customer_dao.<span class="keyword">go</span></span><br></pre></td></tr></table></figure><h3 id="ç»“æ„ä½“å‘½å"><a href="#ç»“æ„ä½“å‘½å" class="headerlink" title="ç»“æ„ä½“å‘½å"></a>ç»“æ„ä½“å‘½å</h3><p>é‡‡ç”¨<strong>é©¼å³°å‘½åæ³•</strong>ï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶å¤§å†™æˆ–è€…å°å†™</p><p><code>struct</code> ç”³æ˜å’Œåˆå§‹åŒ–æ ¼å¼é‡‡ç”¨å¤šè¡Œï¼Œä¾‹å¦‚ä¸‹é¢ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> CustomerOrder <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="keyword">string</span> </span><br><span class="line">    Address <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line">order := CustomerOrder&#123;<span class="string">&quot;tom&quot;</span>, <span class="string">&quot;åŒ—äº¬æµ·æ·€&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¥å£å‘½å"><a href="#æ¥å£å‘½å" class="headerlink" title="æ¥å£å‘½å"></a>æ¥å£å‘½å</h3><p>å‘½åè§„åˆ™åŸºæœ¬å’Œä¸Šé¢çš„ç»“æ„ä½“ç±»å‹</p><p>å•ä¸ªå‡½æ•°çš„ç»“æ„åä»¥ <strong>â€œerâ€</strong> ä½œä¸ºåç¼€ï¼Œä¾‹å¦‚ <code>Reader</code> , <code>Writer</code> ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;</span><br><span class="line">     Read(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å˜é‡å‘½å"><a href="#å˜é‡å‘½å" class="headerlink" title="å˜é‡å‘½å"></a>å˜é‡å‘½å</h3><p>å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œå˜é‡åç§°ä¸€èˆ¬éµå¾ª<strong>é©¼å³°æ³•</strong>ï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶åŸåˆ™å¤§å†™æˆ–è€…å°å†™ï¼Œä½†é‡åˆ°ç‰¹æœ‰åè¯æ—¶ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p><p>å¦‚æœå˜é‡ä¸ºç§æœ‰ï¼Œä¸”ç‰¹æœ‰åè¯ä¸ºé¦–ä¸ªå•è¯ï¼Œåˆ™ä½¿ç”¨å°å†™ï¼Œå¦‚ appService è‹¥å˜é‡ç±»å‹ä¸º bool ç±»å‹ï¼Œåˆ™åç§°åº”ä»¥ Has, Is, Can æˆ– Allow å¼€å¤´</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isExist <span class="keyword">bool</span></span><br><span class="line"><span class="keyword">var</span> hasConflict <span class="keyword">bool</span></span><br><span class="line"><span class="keyword">var</span> canManage <span class="keyword">bool</span></span><br><span class="line"><span class="keyword">var</span> allowGitHook <span class="keyword">bool</span></span><br></pre></td></tr></table></figure><h3 id="å¸¸é‡å‘½å"><a href="#å¸¸é‡å‘½å" class="headerlink" title="å¸¸é‡å‘½å"></a>å¸¸é‡å‘½å</h3><p>å¸¸é‡å‡éœ€ä½¿ç”¨å…¨éƒ¨<strong>å¤§å†™</strong>å­—æ¯ç»„æˆï¼Œå¹¶ä½¿ç”¨<strong>ä¸‹åˆ’çº¿åˆ†è¯</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> APP_URL = <span class="string">&quot;https://www.duoke360.com&quot;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æšä¸¾ç±»å‹çš„å¸¸é‡ï¼Œéœ€è¦å…ˆåˆ›å»ºç›¸åº”ç±»å‹ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Scheme <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    HTTP  Scheme = <span class="string">&quot;http&quot;</span></span><br><span class="line">    HTTPS Scheme = <span class="string">&quot;https&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><p>é”™è¯¯å¤„ç†çš„åŸåˆ™å°±æ˜¯ä¸èƒ½ä¸¢å¼ƒä»»ä½•æœ‰è¿”å›errçš„è°ƒç”¨ï¼Œä¸è¦ä½¿ç”¨ _ ä¸¢å¼ƒï¼Œå¿…é¡»å…¨éƒ¨å¤„ç†ã€‚æ¥æ”¶åˆ°é”™è¯¯ï¼Œè¦ä¹ˆè¿”å›errï¼Œæˆ–è€…ä½¿ç”¨logè®°å½•ä¸‹æ¥å°½æ—©returnï¼šä¸€æ—¦æœ‰é”™è¯¯å‘ç”Ÿï¼Œé©¬ä¸Šè¿”å›ï¼Œå°½é‡ä¸è¦ä½¿ç”¨panicï¼Œé™¤éä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆï¼Œé”™è¯¯æè¿°å¦‚æœæ˜¯è‹±æ–‡å¿…é¡»ä¸ºå°å†™ï¼Œä¸éœ€è¦æ ‡ç‚¹ç»“å°¾ï¼Œé‡‡ç”¨ç‹¬ç«‹çš„é”™è¯¯æµè¿›è¡Œå¤„ç†</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯å†™æ³•</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">// é”™è¯¯å¤„ç†</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// æ­£å¸¸ä»£ç </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®å†™æ³•</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">// é”™è¯¯å¤„ç†</span></span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// æˆ–è€…ç»§ç»­</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ­£å¸¸ä»£ç </span></span><br></pre></td></tr></table></figure><h3 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h3><p>å•å…ƒæµ‹è¯•æ–‡ä»¶åå‘½åè§„èŒƒä¸º <code>example_test.go</code> æµ‹è¯•ç”¨ä¾‹çš„å‡½æ•°åç§°å¿…é¡»ä»¥ <code>Test</code> å¼€å¤´ï¼Œä¾‹å¦‚ï¼š<code>TestExample</code> æ¯ä¸ªé‡è¦çš„å‡½æ•°éƒ½è¦é¦–å…ˆç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ç”¨ä¾‹å’Œæ­£è§„ä»£ç ä¸€èµ·æäº¤æ–¹ä¾¿è¿›è¡Œå›å½’æµ‹è¯• ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goè¯­è¨€å¼€å‘ç¯å¢ƒæ­å»º</title>
      <link href="post/go%E8%AF%AD%E8%A8%80%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>post/go%E8%AF%AD%E8%A8%80%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="windowså¹³å°"><a href="#windowså¹³å°" class="headerlink" title="windowså¹³å°"></a>windowså¹³å°</h2><h3 id="ä¸‹è½½å®‰è£…å¹¶é…ç½®ç¯å¢ƒå˜é‡"><a href="#ä¸‹è½½å®‰è£…å¹¶é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="ä¸‹è½½å®‰è£…å¹¶é…ç½®ç¯å¢ƒå˜é‡"></a>ä¸‹è½½å®‰è£…å¹¶é…ç½®ç¯å¢ƒå˜é‡</h3><p>ä¸‹è½½åœ°å€ï¼š<code>https://golang.google.cn/dl/</code>ï¼Œè¿™é‡Œæä¾›äº†ä¸åŒå¹³å°çš„goç‰ˆæœ¬ï¼Œæ ¹æ®è‡ªå·±çš„å¹³å°é€‰æ‹©ä¸‹è½½ã€‚</p><p>è¿™é‡Œæ³¨æ„ï¼Œå®‰è£…è·¯å¾„é€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒå¥½æ‰¾çš„è·¯å¾„ï¼Œä¾‹å¦‚ï¼š<code>c:/go</code>ï¼Œå…¶ä»–å®‰è£…éƒ½é€‰æ‹©â€ä¸‹ä¸€æ­¥â€œå³å¯ã€‚</p><p>å®‰è£…å®Œæˆåï¼ŒæŠŠ<code>C:\go\bin</code>ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œå°±å¯ä»¥ä½¿ç”¨goäº†ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>go version</code>æŸ¥çœ‹ç‰ˆæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go version go1.16.6 windows/amd64</span><br></pre></td></tr></table></figure><h3 id="é…ç½®goç¯å¢ƒ"><a href="#é…ç½®goç¯å¢ƒ" class="headerlink" title="é…ç½®goç¯å¢ƒ"></a>é…ç½®goç¯å¢ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">go env -w GO111MODULE=on </span><br><span class="line">go env -w GOPROXY=https://goproxy.cn,https://goproxy.io,direct</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ä½¿ç”¨go mod ç®¡ç†åº“ï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘</p></blockquote><h3 id="å®‰è£…é…ç½®git"><a href="#å®‰è£…é…ç½®git" class="headerlink" title="å®‰è£…é…ç½®git"></a>å®‰è£…é…ç½®git</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.git-scm.com/download/</span><br></pre></td></tr></table></figure><p>é…ç½®ç¯å¢ƒå˜é‡ï¼Œå‘½ä»¤è¡Œè¾“å…¥gitæµ‹è¯•</p><h2 id="gorootå’Œgopath"><a href="#gorootå’Œgopath" class="headerlink" title="gorootå’Œgopath"></a>gorootå’Œgopath</h2><p>gorootå°±æ˜¯goå®‰è£…çš„æ ¹ç›®å½•ï¼Œgopathå°±æ˜¯goé¡¹ç›®æ‰€åœ¨çš„è·¯å¾„ï¼Œé«˜ç‰ˆæœ¬goé¡¹ç›®å·²ç»ä¸å†ä¾èµ–gopathæ¥ç®¡ç†é¡¹ç›®ï¼Œä½¿ç”¨go modæ¥ç®¡ç†é¡¹ç›®ã€‚</p><h2 id="Linuxå¹³å°"><a href="#Linuxå¹³å°" class="headerlink" title="Linuxå¹³å°"></a>Linuxå¹³å°</h2><p>å¦‚æœä¸æ˜¯è¦åœ¨Linuxå¹³å°æ•²goä»£ç å°±ä¸éœ€è¦åœ¨Linuxå¹³å°å®‰è£…Goï¼Œæˆ‘ä»¬å¼€å‘æœºä¸Šå†™å¥½çš„goä»£ç åªéœ€è¦è·¨å¹³å°ç¼–è¯‘ï¼ˆè¯¦è§æ–‡ç« æœ«å°¾çš„è·¨å¹³å°ç¼–è¯‘ï¼‰å¥½ä¹‹åå°±å¯ä»¥æ‹·è´åˆ°LinuxæœåŠ¡å™¨ä¸Šè¿è¡Œäº†ï¼Œè¿™ä¹Ÿæ˜¯goç¨‹åºè·¨å¹³å°æ˜“éƒ¨ç½²çš„ä¼˜åŠ¿ã€‚</p><p>æˆ‘ä»¬åœ¨ç‰ˆæœ¬é€‰æ‹©é¡µé¢é€‰æ‹©å¹¶ä¸‹è½½å¥½<code>go1.14.1.linux-amd64.tar.gz</code>æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.google.com/go/go1.14.1.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure><p>å°†ä¸‹è½½å¥½çš„æ–‡ä»¶è§£å‹åˆ°<code>/usr/local</code>ç›®å½•ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf go1.14.1.linux-amd64.tar.gz -C /usr/<span class="built_in">local</span>  <span class="comment"># è§£å‹</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæç¤ºæ²¡æœ‰æƒé™ï¼ŒåŠ ä¸Š<code>sudo</code>ä»¥rootç”¨æˆ·çš„èº«ä»½å†è¿è¡Œã€‚æ‰§è¡Œå®Œå°±å¯ä»¥åœ¨<code>/usr/local/</code>ä¸‹çœ‹åˆ°<code>go</code>ç›®å½•äº†ã€‚</p><p>é…ç½®ç¯å¢ƒå˜é‡ï¼š Linuxä¸‹æœ‰ä¸¤ä¸ªæ–‡ä»¶å¯ä»¥é…ç½®ç¯å¢ƒå˜é‡ï¼Œå…¶ä¸­<code>/etc/profile</code>æ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆçš„ï¼›<code>$HOME/.profile</code>æ˜¯å¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆçš„ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè‡ªè¡Œé€‰æ‹©ä¸€ä¸ªæ–‡ä»¶æ‰“å¼€ï¼Œæ·»åŠ å¦‚ä¸‹ä¸¤è¡Œä»£ç ï¼Œä¿å­˜é€€å‡ºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GOROOT=/usr/<span class="built_in">local</span>/go</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GOROOT</span>/bin</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>/etc/profile</code>åè¦é‡å¯ç”Ÿæ•ˆï¼Œä¿®æ”¹<code>$HOME/.profile</code>åä½¿ç”¨sourceå‘½ä»¤åŠ è½½<code>$HOME/.profile</code>æ–‡ä»¶å³å¯ç”Ÿæ•ˆã€‚ æ£€æŸ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~ go version</span><br><span class="line">go version go1.16.6 linux/amd64</span><br></pre></td></tr></table></figure><h2 id="Macå¹³å°"><a href="#Macå¹³å°" class="headerlink" title="Macå¹³å°"></a>Macå¹³å°</h2><p>ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶ç‰ˆï¼Œç›´æ¥ç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>å®‰è£…å³å¯ï¼Œé»˜è®¤ä¼šå°†goå®‰è£…åˆ°<code>/usr/local/go</code>ç›®å½•ä¸‹ã€‚</p><p>ä¸Šä¸€æ­¥å®‰è£…è¿‡ç¨‹æ‰§è¡Œå®Œæ¯•åï¼Œå¯ä»¥æ‰“å¼€ç»ˆç«¯çª—å£ï¼Œè¾“å…¥<code>go version</code>å‘½ä»¤ï¼ŒæŸ¥çœ‹å®‰è£…çš„Goç‰ˆæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go version go1.16.6 darwin/amd64</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>goè¯­è¨€æ•°æ®ç±»å‹</title>
      <link href="post/go%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>post/go%E8%AF%AD%E8%A8%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="goè¯­è¨€æ•°æ®ç±»å‹"><a href="#goè¯­è¨€æ•°æ®ç±»å‹" class="headerlink" title="goè¯­è¨€æ•°æ®ç±»å‹"></a>goè¯­è¨€æ•°æ®ç±»å‹</h1><p>åœ¨ Go ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ•°æ®ç±»å‹ç”¨äºå£°æ˜å‡½æ•°å’Œå˜é‡ã€‚</p><p>æ•°æ®ç±»å‹çš„å‡ºç°æ˜¯ä¸ºäº†æŠŠæ•°æ®åˆ†æˆæ‰€éœ€<strong>å†…å­˜å¤§å°</strong>ä¸åŒçš„æ•°æ®ï¼Œç¼–ç¨‹çš„æ—¶å€™éœ€è¦ç”¨å¤§æ•°æ®çš„æ—¶å€™æ‰éœ€è¦ç”³è¯·å¤§å†…å­˜ï¼Œå°±å¯ä»¥å……åˆ†åˆ©ç”¨å†…å­˜ã€‚</p><p>Go è¯­è¨€æŒ‰ç±»åˆ«æœ‰ä»¥ä¸‹å‡ ç§æ•°æ®ç±»å‹ï¼š</p><table><thead><tr><th align="left">åºå·</th><th align="left">ç±»å‹å’Œæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>å¸ƒå°”å‹</strong> å¸ƒå°”å‹çš„å€¼åªå¯ä»¥æ˜¯å¸¸é‡ true æˆ–è€… falseã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼švar b bool = trueã€‚</td></tr><tr><td align="left">2</td><td align="left"><strong>æ•°å­—ç±»å‹</strong> æ•´å‹ int å’Œæµ®ç‚¹å‹ float32ã€float64ï¼ŒGo è¯­è¨€æ”¯æŒæ•´å‹å’Œæµ®ç‚¹å‹æ•°å­—ï¼Œå¹¶ä¸”æ”¯æŒå¤æ•°ï¼Œå…¶ä¸­ä½çš„è¿ç®—é‡‡ç”¨è¡¥ç ã€‚</td></tr><tr><td align="left">3</td><td align="left"><strong>å­—ç¬¦ä¸²ç±»å‹:</strong> å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å›ºå®šé•¿åº¦çš„å­—ç¬¦è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚Go çš„å­—ç¬¦ä¸²æ˜¯ç”±å•ä¸ªå­—èŠ‚è¿æ¥èµ·æ¥çš„ã€‚Go è¯­è¨€çš„å­—ç¬¦ä¸²çš„å­—èŠ‚ä½¿ç”¨ UTF-8 ç¼–ç æ ‡è¯† Unicode æ–‡æœ¬ã€‚</td></tr><tr><td align="left">4</td><td align="left"><strong>æ´¾ç”Ÿç±»å‹:</strong> åŒ…æ‹¬ï¼š(a) æŒ‡é’ˆç±»å‹ï¼ˆPointerï¼‰(b) æ•°ç»„ç±»å‹(c) ç»“æ„åŒ–ç±»å‹(struct)(d) Channel ç±»å‹(e) å‡½æ•°ç±»å‹(f) åˆ‡ç‰‡ç±»å‹(g) æ¥å£ç±»å‹ï¼ˆinterfaceï¼‰(h) Map ç±»å‹</td></tr></tbody></table><h2 id="æ•°å­—ç±»å‹"><a href="#æ•°å­—ç±»å‹" class="headerlink" title="æ•°å­—ç±»å‹"></a>æ•°å­—ç±»å‹</h2><p>Go ä¹Ÿæœ‰åŸºäºæ¶æ„çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼šintã€uint å’Œ uintptrã€‚</p><table><thead><tr><th align="left">åºå·</th><th align="left">ç±»å‹å’Œæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>uint8</strong> æ— ç¬¦å· 8 ä½æ•´å‹ (0 åˆ° 255)</td></tr><tr><td align="left">2</td><td align="left"><strong>uint16</strong> æ— ç¬¦å· 16 ä½æ•´å‹ (0 åˆ° 65535)</td></tr><tr><td align="left">3</td><td align="left"><strong>uint32</strong> æ— ç¬¦å· 32 ä½æ•´å‹ (0 åˆ° 4294967295)</td></tr><tr><td align="left">4</td><td align="left"><strong>uint64</strong> æ— ç¬¦å· 64 ä½æ•´å‹ (0 åˆ° 18446744073709551615)</td></tr><tr><td align="left">5</td><td align="left"><strong>int8</strong> æœ‰ç¬¦å· 8 ä½æ•´å‹ (-128 åˆ° 127)</td></tr><tr><td align="left">6</td><td align="left"><strong>int16</strong> æœ‰ç¬¦å· 16 ä½æ•´å‹ (-32768 åˆ° 32767)</td></tr><tr><td align="left">7</td><td align="left"><strong>int32</strong> æœ‰ç¬¦å· 32 ä½æ•´å‹ (-2147483648 åˆ° 2147483647)</td></tr><tr><td align="left">8</td><td align="left"><strong>int64</strong> æœ‰ç¬¦å· 64 ä½æ•´å‹ (-9223372036854775808 åˆ° 9223372036854775807)</td></tr></tbody></table><h3 id="æµ®ç‚¹å‹"><a href="#æµ®ç‚¹å‹" class="headerlink" title="æµ®ç‚¹å‹"></a>æµ®ç‚¹å‹</h3><table><thead><tr><th align="left">åºå·</th><th align="left">ç±»å‹å’Œæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>float32</strong> IEEE-754 32ä½æµ®ç‚¹å‹æ•°</td></tr><tr><td align="left">2</td><td align="left"><strong>float64</strong> IEEE-754 64ä½æµ®ç‚¹å‹æ•°</td></tr><tr><td align="left">3</td><td align="left"><strong>complex64</strong> 32 ä½å®æ•°å’Œè™šæ•°</td></tr><tr><td align="left">4</td><td align="left"><strong>complex128</strong> 64 ä½å®æ•°å’Œè™šæ•°</td></tr></tbody></table><h2 id="å…¶ä»–æ•°å­—ç±»å‹"><a href="#å…¶ä»–æ•°å­—ç±»å‹" class="headerlink" title="å…¶ä»–æ•°å­—ç±»å‹"></a>å…¶ä»–æ•°å­—ç±»å‹</h2><p>ä»¥ä¸‹åˆ—å‡ºäº†å…¶ä»–æ›´å¤šçš„æ•°å­—ç±»å‹ï¼š</p><table><thead><tr><th align="left">åºå·</th><th align="left">ç±»å‹å’Œæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>byte</strong> ç±»ä¼¼ uint8</td></tr><tr><td align="left">2</td><td align="left"><strong>rune</strong> ç±»ä¼¼ int32</td></tr><tr><td align="left">3</td><td align="left"><strong>uint</strong> 32 æˆ– 64 ä½</td></tr><tr><td align="left">4</td><td align="left"><strong>int</strong> ä¸ uint ä¸€æ ·å¤§å°</td></tr><tr><td align="left">5</td><td align="left"><strong>uintptr</strong> æ— ç¬¦å·æ•´å‹ï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆ</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> goåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> goåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ˆè°ˆäºŒè¿›åˆ¶â€”â€”å®šç‚¹æ•°ä¸æµ®ç‚¹æ•°</title>
      <link href="post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E5%AE%9A%E7%82%B9%E6%95%B0%E4%B8%8E%E6%B5%AE%E7%82%B9%E6%95%B0/"/>
      <url>post/%E4%BA%8C%E8%BF%9B%E5%88%B6-%E5%AE%9A%E7%82%B9%E6%95%B0%E4%B8%8E%E6%B5%AE%E7%82%B9%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="0-æ¦‚è¦"><a href="#0-æ¦‚è¦" class="headerlink" title="0. æ¦‚è¦"></a>0. æ¦‚è¦</h2><p>äºŒè¿›åˆ¶ç³»åˆ—æ–‡ç« å·²ç»å†™åˆ°ç¬¬äº”ç¯‡äº†ï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œè¿™åº”è¯¥ä¼šæ˜¯äºŒè¿›åˆ¶ç³»åˆ—çš„æœ€åä¸€ç¯‡ã€‚æˆ‘ä»¬å…ˆæ¥ç½—åˆ—ä¸€ä¸‹å‰å››ç¯‡ï¼š</p><ul><li><a href="https://segmentfault.com/a/1190000023833719">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸€ï¼‰</a></li><li><a href="https://segmentfault.com/a/1190000023880414">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆäºŒï¼‰â€”â€”å››åˆ™è¿ç®—</a></li><li><a href="https://segmentfault.com/a/1190000023918713">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆä¸‰ï¼‰â€”â€”ä½è¿ç®—åŠå…¶åº”ç”¨</a></li><li><a href="https://segmentfault.com/a/1190000024426172">è°ˆè°ˆäºŒè¿›åˆ¶ï¼ˆå››ï¼‰â€”â€”åŸç ã€è¡¥ç ã€åç ã€ç§»ç </a></li></ul><p>å…¶ä¸­ï¼Œåœ¨ä¸Šä¸€ç¯‡é‡Œï¼Œæˆ‘ä»¬è®¤è¯†äº†å››ç§æœºå™¨æ•°ï¼Œå®ƒä»¬å„å¸å…¶èŒï¼Œä½†æ€»çš„æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯åœ¨å¯¹è®¡ç®—æœºé‡Œçš„æ­£è´Ÿå·åšæ–‡ç« ã€‚ä»Šå¤©ä»‹ç»çš„å®šç‚¹æ•°å’Œæµ®ç‚¹æ•°ï¼Œåˆ™æ˜¯å¯¹å°æ•°ç‚¹åšæ–‡ç« ã€‚</p><p>ä¸Šä¸€ç¯‡æ–‡ç« çš„å¼€å¤´ï¼Œæˆ‘ä»¬è¯´åˆ°ï¼Œè®¡ç®—æœºä¸­åªèƒ½å­˜å‚¨æ•°å­—ï¼Œå› æ­¤éœ€è¦ç”¨<code>0</code>å’Œ<code>1</code>æ¥è¡¨ç¤ºæ­£è´Ÿï¼ŒåŒæ ·çš„ï¼Œè®¡ç®—æœºä¸­çš„å°æ•°ç‚¹ï¼Œä¹Ÿè¦ç”¨ç‰¹æ®Šçš„å½¢å¼æ¥è¡¨ç¤ºï¼Œå…±æœ‰ä¸¤ç§ï¼Œå³æœ¬æ–‡æ‰€è¦è®²çš„<strong>å®šç‚¹æ•°</strong>å’Œ<strong>æµ®ç‚¹æ•°</strong>ã€‚</p><h2 id="1-å®šç‚¹æ•°"><a href="#1-å®šç‚¹æ•°" class="headerlink" title="1. å®šç‚¹æ•°"></a>1. å®šç‚¹æ•°</h2><p>æ‰€è°“å®šç‚¹æ•°ï¼Œå°±æ˜¯æŒ‡<strong>å°æ•°ç‚¹çš„ä½ç½®æ˜¯å›ºå®šçš„ï¼Œçº¦å®šå°æ•°ç‚¹åœ¨æŸä¸€ä¸ªä½ç½®ä¸Š</strong>ï¼Œå› æ­¤ï¼Œæœºå™¨åœ¨å¤„ç†å®šç‚¹æ•°æ—¶ï¼Œå¹¶ä¸å­˜å‚¨å®ƒçš„å°æ•°ç‚¹ã€‚ä½¿ç”¨å®šç‚¹æ•°çš„æœºå™¨ï¼Œè¢«ç§°ä¸ºå®šç‚¹æœºã€‚å½“ç„¶äº†ï¼Œç°ä»£è®¡ç®—æœºä¸€èˆ¬åªè¦æœ‰è¿ç®—éƒ¨ä»¶ï¼Œéƒ½ä¼šæä¾›å¯¹å®šç‚¹æ•°è¿ç®—çš„æ”¯æŒã€‚</p><p>è™½ç„¶ç†è®ºä¸Šï¼Œå®šç‚¹æ•°çš„å°æ•°ç‚¹çš„ä½ç½®å¯ä»¥ä»»æ„è§„å®šï¼Œä½†é€šå¸¸åªä¼šç”¨å®šç‚¹æ•°è¡¨ç¤º<strong>çº¯å°æ•°</strong>æˆ–<strong>æ•´æ•°</strong>ï¼Œå½“è¡¨ç¤ºçº¯å°æ•°æ—¶ï¼Œå°æ•°çº¦å®šåœ¨ä¸Šä¸€ç¯‡æ–‡ç« é‡Œåå¤æåŠçš„<strong>ç¬¦å·ä½</strong>å’Œæ•°å€¼éƒ¨åˆ†ä¹‹é—´ï¼ŒåŒç†ï¼Œè¡¨ç¤ºæ•´æ•°æ—¶ï¼Œåˆ™åœ¨æ•°å€¼éƒ¨åˆ†çš„åé¢ã€‚ä¸‹å›¾å±•ç¤ºäº†å®šç‚¹å°æ•°å’Œå®šç‚¹æ•´æ•°çš„ç»“æ„ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f5365151ca99439d8acb18a2502dd6bc~tplv-k3u1fbpfcp-zoom-1.image" alt="å®šç‚¹æ•°"></p><p>ä¸ºä»€ä¹ˆé€šå¸¸åªç”¨å®šç‚¹æ•°è¡¨ç¤ºçº¯å°æ•°æˆ–æ•´æ•°å‘¢ï¼Ÿå› ä¸ºä¸Šé¢æˆ‘ä»¬æåˆ°çš„ï¼Œå®šç‚¹æœºåœ¨å­˜å‚¨å®šç‚¹æ•°æ—¶ï¼Œå¹¶ä¸å­˜å‚¨å°æ•°ç‚¹ï¼Œå› æ­¤æˆ‘ä»¬çš„æ•°å­—åœ¨å®šç‚¹æœºä¸­æ˜¯ä¸€ä¸²çœ‹ä¸Šå»åƒæ•´æ•°çš„ä¸œè¥¿ï¼Œå¦‚æœæˆ‘ä»¬å­˜å…¥äº†éçº¯å°æ•°æˆ–æ•´æ•°ï¼Œå®ƒä»¬çš„è®¡ç®—ç»“æœå°±ä¼šå¾ˆå®¹æ˜“å‡ºç°é—®é¢˜ï¼Œè­¬å¦‚<code>1.23</code>å’Œ<code>12.3</code>ï¼Œåœ¨å®šç‚¹æœºä¸­å®ƒä»¬æ²¡æœ‰å°æ•°ç‚¹ï¼Œéƒ½æ˜¯<code>123</code>ï¼Œé‚£ä¹ˆå®ƒä»¬åœ¨åšåŠ ã€å‡ã€é™¤åçš„ç»“æœéƒ½æ˜¯ä¸å¯¹çš„ï¼Œå³ä¾¿æ˜¯ä¹˜æ³•ï¼Œå…¶ç»“æœä¹Ÿéœ€è¦æˆ‘ä»¬è‡ªå·±å†å»ç®—å®ƒçš„å°æ•°ç‚¹ä½ã€‚</p><p>è€Œçº¯å°æ•°æˆ–æ•´æ•°å¤„ç†èµ·æ¥å°±æ–¹ä¾¿å¤šäº†ï¼Œè­¬å¦‚æ•´æ•°ï¼Œå®ƒçš„åŠ ã€å‡ã€ä¹˜ä¸‰ç§è¿ç®—ç»“æœéƒ½æ˜¯æ•´æ•°ï¼Œè€Œé™¤æ³•å¦‚æœé‡åˆ°é™¤ä¸å°½çš„æƒ…å†µï¼Œä¸€èˆ¬ä¹Ÿä¼šå–ä½™å¤„ç†ã€‚çº¯å°æ•°åŒç†ï¼Œä½†æ¯”æ•´æ•°ç¨å¾®éº»çƒ¦ä¸€ç‚¹ï¼Œä¸»è¦æ˜¯åŠ æ³•å’Œé™¤æ³•ï¼Œä¼šæœ‰ç›Šå¤„çš„é£é™©ï¼Œæ­¤æ—¶ä¸€äº›å®šç‚¹æœºå¯èƒ½ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚</p><p>å®šç‚¹æœºç”±äºå®ƒçš„ç‰¹æ€§ï¼Œåœ¨ç¡¬ä»¶å±‚é¢è®¾è®¡ä¼šæ›´ç®€å•ã€‚</p><h2 id="2-æµ®ç‚¹æ•°"><a href="#2-æµ®ç‚¹æ•°" class="headerlink" title="2. æµ®ç‚¹æ•°"></a>2. æµ®ç‚¹æ•°</h2><p>æµ®ç‚¹æ•°æ˜¯å¤§å®¶æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸€ä¸ªè¯æ±‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶ç¼–ç¨‹è¯­è¨€ä¸­çš„<code>float</code>å’Œ<code>double</code>ã€‚å‰é¢å®šç‚¹æ•°ç”±äºæœ¬èº«æ€§è´¨çš„é™åˆ¶ï¼Œéš¾ä»¥å¤„ç†å¤æ‚çš„éçº¯å°æ•°å’Œæ•´æ•°ï¼Œæ­¤æ—¶å°±éœ€è¦æµ®ç‚¹æ•°æ¥å¤„ç†äº†ã€‚</p><p>æ‰€è°“æµ®ç‚¹ï¼Œä¸å®šç‚¹ç›¸å¯¹ï¼Œå°±æ˜¯å°æ•°ç‚¹æ˜¯æµ®åŠ¨çš„ï¼Œä¸å›ºå®šçš„ï¼Œå®ƒçš„å½¢å¼æœ‰ç‚¹åƒæˆ‘ä»¬ç†Ÿæ‚‰çš„ç§‘å­¦è®¡æ•°æ³•ï¼Œè­¬å¦‚<code>12.34</code>è¿™ä¸ªæ•°ï¼Œå¯ä»¥å†™æˆä¸‹é¢å‡ ç§å½¢å¼ï¼š</p><p>12.34 = 1.234\times10^1 = 0.1234\times10^2 = 1234\times10^{-2}12.34=1.234Ã—101=0.1234Ã—102=1234Ã—10âˆ’2</p><p>åé¢è¿™ä¸‰ç§å½¢å¼éƒ½èƒ½è¡¨ç¤º<code>12.34</code>è¿™ä¸ªæ•°å­—ï¼Œå°½ç®¡å®ƒä»¬çš„å°æ•°ç‚¹ä½ç½®å„ä¸ç›¸åŒï¼Œä½†å› ä¸ºåé¢ä¹˜äº†ä¸åŒçš„<code>10</code>çš„å¹‚æ¬¡æ–¹ï¼Œå› æ­¤æœ€ç»ˆç»“æœä¸€è‡´ã€‚</p><p>æµ®ç‚¹æ•°çš„æ ‡å‡†å½¢å¼å¦‚ä¸‹ï¼š</p><p>N = M \times B^E<em>N</em>=<em>M</em>Ã—<em>B**E</em></p><p>å…¶ä¸­ï¼Œ<code>M</code>ä¸ºå°¾æ•°ï¼Œ<code>B</code>ä¸ºåŸºæ•°ï¼Œ<code>E</code>ä¸ºé˜¶ç ï¼Œè¿™ä¸ªå¼å­å’Œå„ä¸ªå­—æ¯çš„å«ä¹‰å·²ç»éå¸¸æ¸…æ™°äº†ï¼Œç›´æ¥å¯¹ç…§ä¸Šé¢<code>12.34</code>è¿™ä¸ªä¾‹å­çœ‹å°±å¥½ã€‚å½“ç„¶äº†ï¼Œ<code>12.34</code>è¿™ä¸ªä¾‹å­ä¸¾çš„æ˜¯æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„åè¿›åˆ¶ï¼Œæˆ‘ä»¬è®¡ç®—æœºä¸­ä½¿ç”¨çš„å½“ç„¶æ˜¯äºŒè¿›åˆ¶ï¼Œè€Œæ ¹æ®å‰é¢å‡ ç¯‡ï¼ˆåº”è¯¥æ˜¯ç¬¬ä¸€ç¯‡ï¼‰äºŒè¿›åˆ¶ç³»åˆ—æ–‡ç« æˆ‘ä»¬çŸ¥é“ï¼ŒäºŒè¿›åˆ¶å„ä¸ªä½æ•°ä¹‹é—´ç›¸å·®<code>2</code>å€ï¼Œå› æ­¤ï¼Œå¦‚æœè¦ç”¨æµ®ç‚¹å¼è¡¨ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ—¶ï¼Œè¿™é‡Œçš„åŸºæ•°<code>B</code>å°±æ˜¯<code>2</code>äº†ï¼Œè­¬å¦‚ï¼š</p><p>101.11 = 10.111\times2^1 = 1.0111\times2^2 = 10111\times2^{-2} = 0.10111\times2^3 = 0.010111\times2^4101.11=10.111Ã—21=1.0111Ã—22=10111Ã—2âˆ’2=0.10111Ã—23=0.010111Ã—24</p><p>éå¸¸å¥½ç†è§£ã€‚æœ‰äº›åœ°æ–¹ä¼šæŠŠé˜¶ç <code>E</code>ä¹Ÿè¡¨ç¤ºæˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œè­¬å¦‚<code>2</code>æ¬¡å¹‚ä½¿ç”¨<code>10</code>æ¬¡å¹‚æ¥è¡¨ç¤ºï¼Œè¿™ä¸ªå¤§å®¶æ ¹æ®å®é™…æƒ…å†µè¾¨åˆ«å³å¯ï¼Œæ ¸å¿ƒéƒ½æ˜¯ä¸å˜çš„ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œè®¡ç®—æœºä¸ºäº†æé«˜æ•°æ®ç²¾åº¦å’Œä¾¿äºæµ®ç‚¹æ•°ä¹‹é—´çš„æ¯”è¾ƒï¼Œè§„å®šæµ®ç‚¹æ•°çš„å°¾æ•°<code>M</code>ç”¨çº¯å°æ•°è¡¨ç¤ºï¼Œå³ä¸Šé¢äºŒè¿›åˆ¶<code>101.11</code>çš„æœ€åä¸¤ç§è¡¨ç¤ºå½¢å¼ã€‚åŒæ—¶ï¼Œå°†å°¾æ•°æœ€é«˜ä½ä¸º<code>1</code>çš„æµ®ç‚¹æ•°ç§°ä¸ºè§„æ ¼åŒ–æ•°ï¼Œå¯¹äº<code>101.11</code>æ¥è¯´ï¼Œå€’æ•°ç¬¬äºŒç§å½¢å¼$0.10111\times2^3$å°±æ˜¯å®ƒçš„è§„æ ¼åŒ–è¡¨ç¤ºã€‚</p><h2 id="2-1-è®¡ç®—æœºä¸­çš„æµ®ç‚¹æ•°"><a href="#2-1-è®¡ç®—æœºä¸­çš„æµ®ç‚¹æ•°" class="headerlink" title="2.1 è®¡ç®—æœºä¸­çš„æµ®ç‚¹æ•°"></a>2.1 è®¡ç®—æœºä¸­çš„æµ®ç‚¹æ•°</h2><p>ä¸Šé¢ä»‹ç»çš„æ˜¯æµ®ç‚¹æ•°çš„åŸºæœ¬å®šä¹‰ï¼Œä½†è¿™æ˜¯ç»™äººç±»çœ‹çš„ï¼Œè®¡ç®—æœºä¸­è‚¯å®šæœ‰å…¶ç‰¹æ®Šçš„å­˜å‚¨å½¢å¼ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹ç°ä»£è®¡ç®—æœºçš„é€šç”¨å›½é™…æ ‡å‡†<code>IEEE 754</code>ï¼Œæˆ‘ä»¬ç°åœ¨åœ¨ç”¨çš„è®¡ç®—æœºåŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºè¿™ä¸ªæ ‡å‡†æ¥å­˜å‚¨æµ®ç‚¹æ•°çš„ï¼ŒåŒ…æ‹¬æˆ‘ä»¬ç†Ÿæ‚‰çš„<strong>çŸ­æµ®ç‚¹æ•°ï¼ˆ<code>float</code>ï¼‰</strong>ã€<strong>é•¿æµ®ç‚¹æ•°ï¼ˆ<code>double</code>ï¼‰</strong>ï¼Œå®ƒä»¬ä¿©çš„è¡¨ç¤ºæ–¹æ³•ç›¸åŒï¼ŒåŒºåˆ«ä»…ä»…æ˜¯é˜¶ç <code>E</code>å’Œä½æ•°<code>M</code>çš„ä½æ•°ä¸åŒï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a46e087a5cb4b3894021df267dc2f20~tplv-k3u1fbpfcp-zoom-1.image" alt="IEEE754æ ‡å‡†"></p><p>ä¸Šå›¾å°±æ˜¯æµ®ç‚¹æ•°<code>IEEE 754</code>çš„æ ‡å‡†å½¢å¼äº†ï¼Œæˆ‘ä»¬é€ä¸ªæ¥çœ‹ï¼š</p><ul><li>ç¬¬ä¸€ä¸ªä½ç½®æ˜¯æ•°ç¬¦ï¼Œå°±æ˜¯è¡¨æ•´ä¸ªæ•°å­—æ­£è´Ÿçš„ç¬¦å·ï¼Œå³<code>0</code>å’Œ<code>1</code>ï¼›</li><li>æ¥ç€æ˜¯é˜¶ç <code>E</code>ï¼Œè¿™é‡Œçš„é˜¶ç ä¹Ÿæœ‰æ­£è´Ÿï¼Œå¹¶ä¸”ä¸ç”¨çœŸå€¼æ¥è¡¨ç¤ºï¼Œé€šå¸¸ä¼šç”¨é˜¶ç çš„çœŸå€¼åŠ ä¸Šä¸€ä¸ªåç§»é‡ï¼Œä½œä¸ºå®é™…å­˜å‚¨çš„åç§»å€¼ã€‚å¦‚åœ¨çŸ­æµ®ç‚¹æ•°<code>float</code>ä¸­ï¼Œè¿™ä¸ªåç§»é‡ä¸º<code>127</code>ï¼Œå³$2^7-1=1111111_{(2)}$ã€‚è¿™æ ·åšçš„ç›®çš„å’Œä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è®²åˆ°çš„ç§»ç ç±»ä¼¼ ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ¯”è¾ƒæ—¶æ›´æ–¹ä¾¿ã€‚åŠ ä¸Šåç§»é‡ä¹‹åï¼Œä½¿å¾—åŸæœ¬å¸¦ç¬¦å·çš„é˜¶ç <code>E</code>å˜æˆäº†ä¸€ä¸ªæ— ç¬¦å·æ•°ï¼Œæˆ–è€…ç›´æ¥ç†è§£ä¸ºå»é™¤äº†ç¬¦å·ä½å¯¹é˜¶ç å¤§å°çš„å½±å“ï¼Œç­‰ä¼šå„¿çš„ä¾‹å­ä¸­æˆ‘ä»¬å†æ¥çœ‹å®ƒçš„å…·ä½“è¡¨ç¤ºï¼›</li><li>æœ€åæ˜¯å°¾æ•°ï¼Œè¿™ä¸ªéƒ¨åˆ†ä¸ºäº†æé«˜ç²¾åº¦ï¼Œè§„å®šå°†åŸæ•°å°¾æ•°è½¬åŒ–ä¸º<code>1.xxxx</code>çš„å½¢å¼ï¼Œä»¥<code>1</code>ä¸ºé»˜è®¤æœ€é«˜ä½ï¼Œç„¶åå‚¨å­˜çš„æ—¶å€™å¹¶ä¸å‚¨å­˜æœ€é«˜ä½<code>1</code>ï¼Œè§†å…¶ä¸ºéšè—çš„ï¼Œåªå­˜å‚¨å°æ•°ç‚¹åé¢çš„éƒ¨åˆ†ï¼Œè¿™æ ·å¯ä»¥ä½¿å°¾æ•°è¡¨ç¤ºçš„ç²¾åº¦è¾¾åˆ°æœ€é«˜ï¼Œå³å­˜å‚¨ä½æ•°æœ€å¤šï¼Œæ¯”å®é™…ä½æ•°å¤šä¸€ä½ã€‚</li></ul><p>åœ¨è®²ä¾‹å­ä¹‹å‰ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹<strong>çŸ­æµ®ç‚¹æ•°ï¼ˆ<code>float</code>ï¼‰</strong>å’Œ<strong>é•¿æµ®ç‚¹æ•°ï¼ˆ<code>double</code>ï¼‰</strong>åœ¨<code>IEEE 754</code>ä¸­å„ä¸ªéƒ¨åˆ†çš„ä½æ•°ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35284e2ea7b340dea13f4b48a372caf5~tplv-k3u1fbpfcp-zoom-1.image" alt="IEEE754ä¸­floatå’Œdoubleçš„ä½æ•°"></p><p>è¿™å°±æ˜¯æˆ‘ä»¬åœ¨åˆå­¦ç¼–ç¨‹è¯­è¨€æ—¶ï¼Œæ•™ç§‘ä¹¦ä¸Šå‘Šè¯‰æˆ‘ä»¬çš„<code>float</code>æ˜¯<code>32</code>ä½ï¼Œç²¾åº¦æ²¡æœ‰<code>64</code>ä½çš„<code>double</code>é«˜çš„åŸå› äº†ã€‚å°¾æ•°ä»£è¡¨äº†ç²¾åº¦ï¼Œè€Œé˜¶ç ä»£è¡¨äº†è¡¨ç¤ºèŒƒå›´ã€‚</p><p>ç„¶åæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œä»¥<code>float</code>ä¸ºä¾‹ï¼Œæˆ‘ä»¬å–ä¸€ä¸ªåè¿›åˆ¶æ•°<code>13.625</code>ï¼Œå®ƒå¯¹åº”çš„äºŒè¿›åˆ¶æ˜¯<code>1101.101</code>ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒæŒ‰ç…§<code>IEEE 754</code>æ ‡å‡†è½¬æ¢æˆ<code>float</code>çš„è¿‡ç¨‹å’Œç»“æœã€‚</p><p>é¦–å…ˆï¼Œå°†åŸæ•°å†™æˆæ ‡å‡†è§„å®šçš„æ ¼å¼ï¼Œä»¥<code>1</code>ä¸ºæœ€é«˜æ•´æ•°ä½ï¼š$1101.101 = 1.101101\times2^3$ã€‚</p><p>ç„¶åæŠŠæ•´æ•°ä½<code>1</code>èˆå¼ƒï¼ˆéšè—ï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªçº¯å°æ•°å°¾æ•°<code>101101</code>ã€‚å› ä¸º<code>float</code>çš„å°¾æ•°å…¨é•¿ä¸º<code>23</code>ä½ï¼ŒåŒæ—¶è¿™ä¸ªå°¾æ•°æ˜¯çº¯å°æ•°ï¼Œå› æ­¤åœ¨å½“å‰å°¾æ•°çš„åé¢ç”¨<code>0</code>è¡¥å…¨ï¼Œå¾—åˆ°çœŸæ­£çš„å°¾æ•°<code>1011 0100 0000 0000 0000 000</code>å…±<code>23</code>ä½ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯é˜¶ç <code>3</code>ï¼Œå…ˆè½¬æˆäºŒè¿›åˆ¶<code>11</code>ï¼Œè¿™æ˜¯å®ƒçš„çœŸå€¼ï¼Œå†ç”¨çœŸå€¼åŠ ä¸Š$2^7-1$ï¼Œå³<code>0111 1111 + 0000 0011 = 1000 0010</code>ï¼Œå¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ª<code>8</code>ä½é˜¶ç å®é™…å­˜å‚¨å€¼ã€‚ä¸Šé¢æˆ‘ä»¬è¯´è¿‡ï¼Œè¿™é‡Œä¸åç§»é‡ç›¸åŠ ï¼Œæ˜¯ä¸ºäº†ä¾¿äºæ¯”è¾ƒï¼Œè€Œç›¸åŠ åçš„ç»“æœå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„äºŒè¿›åˆ¶æ•°ï¼Œå› æ­¤å®ƒæœ€é«˜ä½çš„<code>1</code>å¹¶ä¸æŒ‡ä»£å®ƒçš„æ­£è´Ÿã€‚å¦‚æœæˆ‘ä»¬ç”¨ä¸€ä¸ªè´Ÿæ•°çš„é˜¶ç ä¸åç§»é‡ç›¸åŠ ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªæœ€é«˜ä½<code>0</code>çš„ç»“æœï¼Œè¿™æ ·å°±èƒ½ç›´æ¥æ¯”è¾ƒå‡ºé˜¶ç çš„å¤§å°äº†ã€‚</p><p>å¾—åˆ°é˜¶ç å’Œå°¾æ•°åï¼Œåªéœ€è¦åœ¨æœ€é«˜ä½ä¸Šæ·»åŠ æ•°ç¬¦å°±å¥½äº†ã€‚å› ä¸ºåŸæ•°æ˜¯æ­£æ•°ï¼Œå› æ­¤æ•°ç¬¦<code>S</code>ä¸º<code>0</code>ï¼Œæœ€ç»ˆå¾—åˆ°çš„<code>IEEE 754</code>æ ‡å‡†çš„<code>float</code>æµ®ç‚¹æ•°ä¸ºï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67fd319e5fdb4b6ba8ed40a162d98930~tplv-k3u1fbpfcp-zoom-1.image" alt="floatæ•°"></p><p><code>double</code>å¤ªé•¿å°±ä¸å†™äº†ï¼ŒåŸç†æ˜¯ä¸€æ ·çš„ï¼Œå¤§å®¶å¦‚æœæœ‰å…´è¶£å¯ä»¥è‡ªå·±è¯•ç€ç®—ä¸€ç®—ã€‚</p><blockquote><p>è½¬è½½è‡ªï¼š<a href="https://segmentfault.com/a/1190000024485146">https://segmentfault.com/a/1190000024485146</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æµ®ç‚¹æ•° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµ®ç‚¹æ•° </tag>
            
            <tag> float </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unicodeä¸UTF-8</title>
      <link href="post/Unicode%E4%B8%8EUTF-8/"/>
      <url>post/Unicode%E4%B8%8EUTF-8/</url>
      
        <content type="html"><![CDATA[<p>æƒ³å¿…åšè¿‡çˆ¬è™«çš„åŒå­¦è‚¯å®šè¢«ç¼–ç é—®é¢˜å›°æ‰°è¿‡ï¼Œæœ‰ UTF-8ã€GBKã€<a href="https://so.csdn.net/so/search?q=Unicode&spm=1001.2101.3001.7020">Unicode</a> ç­‰ç­‰ç¼–ç æ–¹å¼ï¼Œä½†ä½ çœŸçš„äº†è§£å…¶ä¸­çš„åŸç†å—ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹ Unicode å’Œ UTF-8 ç¼–ç åˆ°åº•æœ‰ä»€ä¹ˆå…³ç³»ã€‚</p><p>è¦å¼„æ¸… Unicode ä¸ UTF-8 çš„å…³ç³»ï¼Œæˆ‘ä»¬è¿˜å¾—ä»ä»–ä»¬çš„æ¥æºè¯´èµ·ï¼Œä¸‹æ¥æˆ‘ä»¬ä»åˆšå¼€å§‹çš„ç¼–ç è¯´èµ·ï¼Œç›´åˆ° Unicode çš„å‡ºç°ï¼Œæˆ‘ä»¬å°±ä¼šæ„Ÿè§‰åˆ°ä»–ä»¬ä¹‹é—´çš„å…³ç³» </p><p><strong>ASCIIç </strong></p><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨è®¡ç®—æœºçš„ä¸–ç•Œé‡Œï¼Œä¿¡æ¯çš„è¡¨ç¤ºæ–¹å¼åªæœ‰ 0 å’Œ 1,ä½†æ˜¯æˆ‘ä»¬äººç±»ä¿¡æ¯è¡¨ç¤ºçš„æ–¹å¼å´ä¸ä¹‹å¤§ä¸ç›¸åŒï¼Œå¾ˆå¤šæ—¶å€™æ˜¯ç”¨è¯­è¨€æ–‡å­—ã€å›¾åƒã€å£°éŸ³ç­‰ä¼ é€’ä¿¡æ¯çš„ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬æ€æ ·å°†å…¶è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å­˜å‚¨åˆ°è®¡ç®—æœºä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸ºç¼–ç ã€‚æ›´å¹¿ä¹‰åœ°è®²å°±æ˜¯æŠŠä¿¡æ¯ä»ä¸€ç§å½¢å¼è½¬åŒ–ä¸ºå¦ä¸€ç§å½¢å¼çš„è¿‡ç¨‹ã€‚ </p><p>æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªäºŒè¿›åˆ¶æœ‰ä¸¤ç§çŠ¶æ€ï¼šâ€0â€ çŠ¶æ€ å’Œ â€œ1â€çŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ä»£è¡¨ä¸¤ç§ä¸åŒçš„ä¸œè¥¿ï¼Œæˆ‘ä»¬æƒ³èµ‹äºˆå®ƒä»€ä¹ˆå«ä¹‰ï¼Œå°±èµ‹äºˆä»€ä¹ˆå«ä¹‰ï¼Œæ¯”å¦‚è¯´æˆ‘è§„å®šï¼Œâ€œ0â€ ä»£è¡¨ â€œåƒè¿‡äº†â€, â€œ1â€ä»£è¡¨ â€œè¿˜æ²¡åƒâ€ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ç›¸å½“äºæŠŠç°å®ç”Ÿæ´»ä¸­çš„ä¿¡æ¯ç¼–ç æˆäºŒè¿›åˆ¶æ•°å­—äº†ï¼Œå¹¶ä¸”è¿™ä¸ªä¾‹å­ä¸­æ˜¯ä¸€ä½äºŒè¿›åˆ¶æ•°å­—ï¼Œé‚£ä¹ˆ 2 ä½äºŒè¿›åˆ¶æ•°å¯ä»¥ä»£è¡¨å¤šå°‘ç§æƒ…å†µèƒ½ï¼Ÿå¯¹ï¼Œæ˜¯å››ç§ï¼Œ2^2,åˆ†åˆ«æ˜¯ 00ã€01ã€10ã€11ï¼Œé‚£ 7 ç§å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ 2^7=128ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨è®¡ç®—æœºä¸­æ¯å…«ä¸ªäºŒè¿›åˆ¶ä½ç»„æˆäº†ä¸€ä¸ªå­—èŠ‚ï¼ˆByteï¼‰ï¼Œè®¡ç®—æœºå­˜å‚¨çš„æœ€å°å•ä½å°±æ˜¯å­—èŠ‚ï¼Œå­—èŠ‚å¦‚ä¸‹å›¾æ‰€ç¤º ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20181119221138910.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3podXNvbmd6aXll,size_16,color_FFFFFF,t_70" alt="img"></p><p>æ‰€ä»¥æ—©æœŸäººä»¬ç”¨ 8 ä½äºŒè¿›åˆ¶æ¥ç¼–ç è‹±æ–‡å­—æ¯(æœ€å‰é¢çš„ä¸€ä½æ˜¯ 0)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°†è‹±æ–‡å­—æ¯å’Œä¸€äº›å¸¸ç”¨çš„å­—ç¬¦å’Œè¿™ 128 ä¸­äºŒè¿›åˆ¶ 0ã€1 ä¸²ä¸€ä¸€å¯¹åº”èµ·æ¥ï¼Œæ¯”å¦‚è¯´ å¤§å†™å­—æ¯â€œAâ€æ‰€å¯¹åº”çš„äºŒè¿›åˆ¶ä½â€œ01000001â€ï¼Œè½¬æ¢ä¸ºåå…­è¿›åˆ¶ä¸º 41ã€‚</p><p>åœ¨ç¾å›½ï¼Œè¿™ 128 æ˜¯å¤Ÿäº†ï¼Œä½†æ˜¯å…¶ä»–å›½å®¶ä¸ç­”åº”å•Šï¼Œä»–ä»¬çš„å­—ç¬¦å’Œè‹±æ–‡æ˜¯æœ‰å‡ºå…¥çš„ï¼Œæ¯”å¦‚åœ¨æ³•è¯­ä¸­åœ¨å­—æ¯ä¸Šæœ‰æ³¨éŸ³ç¬¦å·ï¼Œå¦‚ Ã© ,è¿™ä¸ªæ€ä¹ˆè¡¨ç¤ºæˆäºŒè¿›åˆ¶ï¼Ÿ</p><p>æ‰€ä»¥å„ä¸ªå›½å®¶å°±å†³å®šæŠŠå­—èŠ‚ä¸­æœ€å‰é¢æœªä½¿ç”¨çš„é‚£ä¸€ä¸ªä½æ‹¿æ¥ä½¿ç”¨ï¼ŒåŸæ¥çš„ 128 ç§çŠ¶æ€å°±å˜æˆäº† 256 ç§çŠ¶æ€ï¼Œæ¯”å¦‚ Ã© å°±è¢«ç¼–ç æˆ 130ï¼ˆäºŒè¿›åˆ¶çš„ 10000010ï¼‰ã€‚</p><p>ä¸ºäº†ä¿æŒä¸ ASCII ç çš„å…¼å®¹æ€§ï¼Œä¸€èˆ¬æœ€é«˜ä¸ºä¸º 0 æ—¶å’ŒåŸæ¥çš„ ASCII ç ç›¸åŒï¼Œæœ€é«˜ä½ä¸º 1 çš„æ—¶å€™ï¼Œå„ä¸ªå›½å®¶è‡ªå·±ç»™åé¢çš„ä½ (1xxx xxxx) èµ‹äºˆä»–ä»¬å›½å®¶çš„å­—ç¬¦æ„ä¹‰ã€‚</p><p>ä½†æ˜¯è¿™æ ·ä¸€æ¥åˆæœ‰é—®é¢˜å‡ºç°äº†ï¼Œä¸åŒå›½å®¶å¯¹æ–°å¢çš„ 128 ä¸ªæ•°å­—èµ‹äºˆäº†ä¸åŒçš„å«ä¹‰ï¼Œæ¯”å¦‚è¯´ 130 åœ¨æ³•è¯­ä¸­ä»£è¡¨äº† Ã©,ä½†æ˜¯åœ¨å¸Œä¼¯æ¥è¯­ä¸­å´ä»£è¡¨äº†å­—æ¯ Gimelï¼ˆè¿™ä¸æ˜¯å¸Œä¼¯æ¥å­—æ¯ï¼Œåªæ˜¯è¯»éŸ³ç¿»è¯‘æˆè‹±æ–‡çš„å½¢å¼ï¼‰å…·ä½“çš„å¸Œä¼¯æ¥å­—æ¯ Gimel çœ‹ä¸‹å›¾ </p><p><img src="https://img-blog.csdnimg.cn/20181119221154343.png" alt="img"></p><p>æ‰€ä»¥è¿™å°±æˆäº†ä¸åŒå›½å®¶æœ‰ä¸åŒå›½å®¶çš„ç¼–ç æ–¹å¼ï¼Œæ‰€ä»¥å¦‚æœç»™ä½ ä¸€ä¸²äºŒè¿›åˆ¶æ•°ï¼Œä½ æƒ³è¦è§£ç ï¼Œå°±å¿…é¡»çŸ¥é“å®ƒçš„ç¼–ç æ–¹å¼ï¼Œä¸ç„¶å°±ä¼šå‡ºç°æˆ‘ä»¬æœ‰æ—¶å€™çœ‹åˆ°çš„ä¹±ç  ã€‚</p><p><strong>Unicodeçš„å‡ºç°</strong></p><p>Unicode ä¸ºä¸–ç•Œä¸Šæ‰€æœ‰å­—ç¬¦éƒ½åˆ†é…äº†ä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ç¼–å·ï¼Œè¿™ä¸ªç¼–å·èŒƒå›´ä» 0x000000 åˆ° 0x10FFFF (åå…­è¿›åˆ¶)ï¼Œæœ‰ 110 å¤šä¸‡ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ Unicode ç¼–å·ï¼Œè¿™ä¸ªç¼–å·ä¸€èˆ¬å†™æˆ 16 è¿›åˆ¶ï¼Œåœ¨å‰é¢åŠ ä¸Š U+ã€‚ä¾‹å¦‚ï¼šâ€œé©¬â€çš„ Unicode æ˜¯U+9A6Cã€‚</p><p>Unicode å°±ç›¸å½“äºä¸€å¼ è¡¨ï¼Œå»ºç«‹äº†å­—ç¬¦ä¸ç¼–å·ä¹‹é—´çš„è”ç³»</p><p><img src="https://img-blog.csdnimg.cn/20181119221209689.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3podXNvbmd6aXll,size_16,color_FFFFFF,t_70" alt="img"></p><p>å®ƒæ˜¯ä¸€ç§è§„å®šï¼ŒUnicode æœ¬èº«åªè§„å®šäº†æ¯ä¸ªå­—ç¬¦çš„æ•°å­—ç¼–å·æ˜¯å¤šå°‘ï¼Œå¹¶æ²¡æœ‰è§„å®šè¿™ä¸ªç¼–å·å¦‚ä½•å­˜å‚¨ã€‚</p><p>æœ‰çš„äººä¼šè¯´äº†ï¼Œé‚£æˆ‘å¯ä»¥ç›´æ¥æŠŠ Unicode ç¼–å·ç›´æ¥è½¬æ¢æˆäºŒè¿›åˆ¶è¿›è¡Œå­˜å‚¨ï¼Œæ˜¯çš„ï¼Œä½ å¯ä»¥ï¼Œä½†æ˜¯è¿™ä¸ªå°±éœ€è¦äººä¸ºçš„è§„å®šäº†ï¼Œè€Œ Unicode å¹¶æ²¡æœ‰è¯´è¿™æ ·å¼„ï¼Œå› ä¸ºé™¤äº†ä½ è¿™ç§ç›´æ¥è½¬æ¢æˆäºŒè¿›åˆ¶çš„æ–¹æ¡ˆå¤–ï¼Œè¿˜æœ‰å…¶ä»–æ–¹æ¡ˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šé€ä¸€çœ‹åˆ°ã€‚ </p><p>ç¼–å·æ€ä¹ˆå¯¹åº”åˆ°äºŒè¿›åˆ¶è¡¨ç¤ºå‘¢ï¼Ÿæœ‰å¤šç§æ–¹æ¡ˆï¼šä¸»è¦æœ‰ UTF-8ï¼ŒUTF-16ï¼ŒUTF-32ã€‚</p><p><strong>1ã€UTF-32</strong> </p><p>å…ˆæ¥çœ‹ç®€å•çš„ UTF-32 </p><p>è¿™ä¸ªå°±æ˜¯å­—ç¬¦æ‰€å¯¹åº”ç¼–å·çš„æ•´æ•°äºŒè¿›åˆ¶å½¢å¼ï¼Œå››ä¸ªå­—èŠ‚ã€‚è¿™ä¸ªå°±æ˜¯ç›´æ¥è½¬æ¢ã€‚ æ¯”å¦‚é©¬çš„ Unicode ä¸ºï¼šU+9A6Cï¼Œé‚£ä¹ˆç›´æ¥è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼Œå®ƒçš„è¡¨ç¤ºå°±ä¸ºï¼š1001 1010 0110 1100ã€‚</p><p>è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶åè®¡ç®—æœºå­˜å‚¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œè®¡ç®—æœºåœ¨å­˜å‚¨å™¨ä¸­æ’åˆ—å­—èŠ‚æœ‰ä¸¤ç§æ–¹å¼ï¼šå¤§ç«¯æ³•å’Œå°ç«¯æ³•ï¼Œå¤§ç«¯æ³•å°±æ˜¯å°†é«˜ä½å­—èŠ‚æ”¾åˆ°åº•åœ°å€å¤„ï¼Œæ¯”å¦‚ 0x1234, è®¡ç®—æœºç”¨ä¸¤ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œä¸€ä¸ªæ˜¯é«˜ä½å­—èŠ‚ 0x12,ä¸€ä¸ªæ˜¯ä½ä½å­—èŠ‚ 0x34ï¼Œå®ƒçš„å­˜å‚¨æ–¹å¼ä¸ºä¸‹ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20181119221224541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3podXNvbmd6aXll,size_16,color_FFFFFF,t_70" alt="img"></p><p>UTF-32 ç”¨å››ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œå¤„ç†å•å…ƒä¸ºå››ä¸ªå­—èŠ‚ï¼ˆä¸€æ¬¡æ‹¿åˆ°å››ä¸ªå­—èŠ‚è¿›è¡Œå¤„ç†ï¼‰ï¼Œå¦‚æœä¸åˆ†å¤§å°ç«¯çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°è§£è¯»é”™è¯¯ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸€æ¬¡è¦å¤„ç†å››ä¸ªå­—èŠ‚ 12 34 56 78ï¼Œè¿™å››ä¸ªå­—èŠ‚æ˜¯è¡¨ç¤º 0x12 34 56 78 è¿˜æ˜¯è¡¨ç¤º 0x78 56 34 12ï¼Ÿä¸åŒçš„è§£é‡Šæœ€ç»ˆè¡¨ç¤ºçš„å€¼ä¸ä¸€æ ·ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®ä»–ä»¬é«˜ä½å­—èŠ‚çš„å­˜å‚¨ä½ç½®æ¥åˆ¤æ–­ä»–ä»¬æ‰€ä»£è¡¨çš„å«ä¹‰ï¼Œæ‰€ä»¥åœ¨ç¼–ç æ–¹å¼ä¸­æœ‰ UTF-32BE å’Œ UTF-32LEï¼Œåˆ†åˆ«å¯¹åº”å¤§ç«¯å’Œå°ç«¯ï¼Œæ¥æ­£ç¡®åœ°è§£é‡Šå¤šä¸ªå­—èŠ‚ï¼ˆè¿™é‡Œæ˜¯å››ä¸ªå­—èŠ‚ï¼‰çš„å«ä¹‰ã€‚</p><p><strong>2ã€UTF-16</strong> </p><p>UTF-16 ä½¿ç”¨å˜é•¿å­—èŠ‚è¡¨ç¤º </p><p>â‘  å¯¹äºç¼–å·åœ¨ U+0000 åˆ° U+FFFF çš„å­—ç¬¦ï¼ˆå¸¸ç”¨å­—ç¬¦é›†ï¼‰ï¼Œç›´æ¥ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºã€‚<br>â‘¡ ç¼–å·åœ¨ U+10000 åˆ° U+10FFFF ä¹‹é—´çš„å­—ç¬¦ï¼Œéœ€è¦ç”¨å››ä¸ªå­—èŠ‚è¡¨ç¤ºã€‚</p><p>åŒæ ·ï¼ŒUTF-16 ä¹Ÿæœ‰å­—èŠ‚çš„é¡ºåºé—®é¢˜ï¼ˆå¤§å°ç«¯ï¼‰ï¼Œæ‰€ä»¥å°±æœ‰ UTF-16BE è¡¨ç¤ºå¤§ç«¯ï¼ŒUTF-16LE è¡¨ç¤ºå°ç«¯ã€‚</p><p><strong>3ã€UTF-8</strong> </p><p>UTF-8 å°±æ˜¯ä½¿ç”¨å˜é•¿å­—èŠ‚è¡¨ç¤º,é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä½¿ç”¨çš„å­—èŠ‚æ•°å¯å˜ï¼Œè¿™ä¸ªå˜åŒ–æ˜¯æ ¹æ® Unicode ç¼–å·çš„å¤§å°æœ‰å…³ï¼Œç¼–å·å°çš„ä½¿ç”¨çš„å­—èŠ‚å°±å°‘ï¼Œç¼–å·å¤§çš„ä½¿ç”¨çš„å­—èŠ‚å°±å¤šã€‚ä½¿ç”¨çš„å­—èŠ‚ä¸ªæ•°ä» 1 åˆ° 4 ä¸ªä¸ç­‰ã€‚</p><p>UTF-8 çš„ç¼–ç è§„åˆ™æ˜¯ï¼š</p><p><strong>â‘ </strong> å¯¹äºå•å­—èŠ‚çš„ç¬¦å·ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½è®¾ä¸º 0ï¼Œåé¢çš„7ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ Unicode ç ï¼Œå› æ­¤å¯¹äºè‹±æ–‡å­—æ¯ï¼ŒUTF-8 ç¼–ç å’Œ ASCII ç æ˜¯ç›¸åŒçš„ã€‚ </p><p><strong>â‘¡</strong> å¯¹äºnå­—èŠ‚çš„ç¬¦å·ï¼ˆn&gt;1ï¼‰,ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ï¼Œå‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ Unicode ç  ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šæ¯”å¦‚è¯´ä¸€ä¸ªå­—ç¬¦çš„ Unicode ç¼–ç æ˜¯ 130ï¼Œæ˜¾ç„¶æŒ‰ç…§ UTF-8 çš„è§„åˆ™ä¸€ä¸ªå­—èŠ‚æ˜¯è¡¨ç¤ºä¸äº†å®ƒï¼ˆå› ä¸ºå¦‚æœæ˜¯ä¸€ä¸ªå­—èŠ‚çš„è¯å‰é¢çš„ä¸€ä½å¿…é¡»æ˜¯ 0ï¼‰ï¼Œæ‰€ä»¥éœ€è¦ä¸¤ä¸ªå­—èŠ‚(n = 2)ã€‚</p><p>æ ¹æ®è§„åˆ™ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ 2 ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ 3(2+1) ä½è®¾ä¸º 0ï¼Œåˆ™ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸ºï¼š110X XXXXï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ï¼Œåé¢åªå‰©ä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åé¢çš„å­—èŠ‚ä¸ºï¼š10XX XXXXã€‚</p><p>æ‰€ä»¥å®ƒçš„æ ¼å¼ä¸º 110XXXXX 10XXXXXX ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“çœ‹çœ‹å…·ä½“çš„ Unicode ç¼–å·èŒƒå›´ä¸å¯¹åº”çš„ UTF-8 äºŒè¿›åˆ¶æ ¼å¼ </p><p><img src="https://img-blog.csdnimg.cn/20181119221259676.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3podXNvbmd6aXll,size_16,color_FFFFFF,t_70" alt="img"></p><p>é‚£ä¹ˆå¯¹äºä¸€ä¸ªå…·ä½“çš„ Unicode ç¼–å·ï¼Œå…·ä½“æ€ä¹ˆè¿›è¡Œ UTF-8 çš„ç¼–ç å‘¢ï¼Ÿ</p><p>é¦–å…ˆæ‰¾åˆ°è¯¥ Unicode ç¼–å·æ‰€åœ¨çš„ç¼–å·èŒƒå›´ï¼Œè¿›è€Œå¯ä»¥æ‰¾åˆ°ä¸ä¹‹å¯¹åº”çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œç„¶åå°†è¯¥ Unicode ç¼–å·è½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ•°ï¼ˆå»æ‰é«˜ä½çš„ 0ï¼‰ï¼Œæœ€åå°†è¯¥äºŒè¿›åˆ¶æ•°ä»å³å‘å·¦ä¾æ¬¡å¡«å…¥äºŒè¿›åˆ¶æ ¼å¼çš„ X ä¸­ï¼Œå¦‚æœè¿˜æœ‰ X æœªå¡«ï¼Œåˆ™è®¾ä¸º 0 ã€‚</p><p>æ¯”å¦‚ï¼šâ€œé©¬â€çš„ Unicode ç¼–å·æ˜¯ï¼š0x9A6Cï¼Œæ•´æ•°ç¼–å·æ˜¯ 39532ï¼Œå¯¹åº”ç¬¬ä¸‰ä¸ªèŒƒå›´ï¼ˆ2048 - 65535ï¼‰ï¼Œå…¶æ ¼å¼ä¸ºï¼š1110XXXX 10XXXXXX 10XXXXXXï¼Œ39532 å¯¹åº”çš„äºŒè¿›åˆ¶æ˜¯ 1001 1010 0110 1100ï¼Œå°†äºŒè¿›åˆ¶å¡«å…¥è¿›å…¥å°±ä¸ºï¼š </p><p>11101001 10101001 10101100 ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20181119221313116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3podXNvbmd6aXll,size_16,color_FFFFFF,t_70" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20181119221327766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3podXNvbmd6aXll,size_16,color_FFFFFF,t_70" alt="img"></p><p>ç”±äº UTF-8 çš„å¤„ç†å•å…ƒä¸ºä¸€ä¸ªå­—èŠ‚ï¼ˆä¹Ÿå°±æ˜¯ä¸€æ¬¡å¤„ç†ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼Œæ‰€ä»¥å¤„ç†å™¨åœ¨å¤„ç†çš„æ—¶å€™å°±ä¸éœ€è¦è€ƒè™‘è¿™ä¸€ä¸ªå­—èŠ‚çš„å­˜å‚¨æ˜¯åœ¨é«˜ä½è¿˜æ˜¯åœ¨ä½ä½ï¼Œç›´æ¥æ‹¿åˆ°è¿™ä¸ªå­—èŠ‚è¿›è¡Œå¤„ç†å°±è¡Œäº†ï¼Œå› ä¸ºå¤§å°ç«¯æ˜¯é’ˆå¯¹å¤§äºä¸€ä¸ªå­—èŠ‚çš„æ•°çš„å­˜å‚¨é—®é¢˜è€Œè¨€çš„ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒUTF-8ã€UTF-16ã€UTF-32 éƒ½æ˜¯ Unicode çš„ä¸€ç§å®ç°ã€‚</p><blockquote><p>è½¬è½½è‡ªï¼š<a href="https://blog.csdn.net/zhusongziye/article/details/84261211">https://blog.csdn.net/zhusongziye/article/details/84261211</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> unicdoe </tag>
            
            <tag> utf-8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git HEAD è¯¦è§£</title>
      <link href="post/Git%20HEAD%E8%AF%A6%E8%A7%A3/"/>
      <url>post/Git%20HEAD%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†ä¸€ä¸ªæ¦‚å¿µï¼Œé‚£å°±æ˜¯HEADï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰è¯¦ç»†çš„å»è§£é‡ŠHEADæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿè¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°±æ¥èŠèŠä»€ä¹ˆæ˜¯HEAD</p><p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»ç„¶ä½¿ç”¨ä¹‹å‰çš„æµ‹è¯•ä»“åº“è¿›è¡Œæµ‹è¯•ï¼Œä½ ä¹Ÿå¯ä»¥éšæ„çš„åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•çš„gitä»“åº“ï¼Œç„¶ååˆ›å»ºå‡ æ¡åˆ†æ”¯ï¼Œä»¥ä¾¿æµ‹è¯•æ—¶ä½¿ç”¨ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹å‰æ–‡ä¸­æµ‹è¯•ä»“åº“çš„çŠ¶æ€ï¼Œå¦‚ä¸‹ï¼š</p><p>æ³¨ï¼šä¸‹å›¾ä¸­ä½¿ç”¨äº†å‰æ–‡ä¸­åˆ›å»ºçš„allbranchè§†å›¾</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD1.png" alt="img"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œmasteråˆ†æ”¯å’Œteståˆ†æ”¯ï¼Œä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œç›®å‰æˆ‘ä»¬å¤„äºé»„è‰²çš„æäº¤ï¼Œä¹Ÿå°±æ˜¯teståˆ†æ”¯çš„â€add D to m2â€³ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åˆ‡æ¢å›masteråˆ†æ”¯ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‰æ–‡ä¸­æ€»ç»“çš„å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ git checkout master</span><br><span class="line"></span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (master)</span><br><span class="line"></span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šè¿°ä¿¡æ¯æ‰€ç¤ºï¼Œæˆ‘ä»¬å·²ç»ä»teståˆ†æ”¯åˆ‡æ¢åˆ°äº†masteråˆ†æ”¯ã€‚</p><p>å‡è®¾ï¼Œæˆ‘ä»¬ç°åœ¨å…³é—­git bashå’Œå·¥ä½œç›®å½•ï¼Œå½“æˆ‘ä»¬ä¸‹æ¬¡å†æ¬¡è¿›å…¥å·¥ä½œç›®å½•å¹¶ä¸”æ‰“å¼€git bashæ—¶ï¼Œä»ç„¶ä¼šæ˜¾ç¤ºä¸ºå½“å‰å¤„äºmasteråˆ†æ”¯ï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šæ¬¡å…³é—­å·¥ä½œç›®å½•ä¹‹å‰ï¼Œå·²ç»åˆ‡æ¢åˆ°äº†masteråˆ†æ”¯ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ ä¹‹å‰å¤„äºteståˆ†æ”¯ï¼Œé‚£ä¹ˆå½“ä½ å†æ¬¡æ‰“å¼€å·¥ä½œç©ºé—´ï¼Œä»ç„¶ä¼šæ˜¾ç¤ºä½ å¤„äºteståˆ†æ”¯ã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œgitæ˜¯æ€ä¹ˆçŸ¥é“æˆ‘ä»¬å½“å‰è¯¥å¤„äºå“ªä¸ªåˆ†æ”¯å‘¢ï¼Ÿ</p><p>gitå…¶å®å°±æ˜¯é HEADçŸ¥é“æˆ‘ä»¬è¯¥å¤„äºå“ªä¸ªåˆ†æ”¯çš„ï¼Œä½ å¯ä»¥æŠŠHEADç†è§£æˆä¸€ä¸ªæŒ‡é’ˆï¼ŒHEADæŒ‡é’ˆé€šå¸¸ä¼šæŒ‡å‘ä¸€ä¸ªåˆ†æ”¯ï¼ˆæˆ–è€…è¯´æŒ‡å‘ä¸€ä¸ªåˆ†æ”¯æŒ‡é’ˆï¼‰ï¼Œåˆ†æ”¯å’Œåˆ†æ”¯æŒ‡é’ˆçš„æ¦‚å¿µæˆ‘ä»¬åœ¨å‰æ–‡ä¸­å·²ç»è¯´æ˜è¿‡ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ï¼Œä½ å¯ä»¥æŠŠHEADä¹Ÿç†è§£æˆä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆé€šå¸¸æŒ‡å‘ä¸€ä¸ªåˆ†æ”¯æŒ‡é’ˆï¼Œè¿™æ ·è¯´ä¸å¤ªç›´è§‚ï¼Œä¸å¦‚çœ‹ä¸‹å›¾ï¼ˆä»ç„¶åœ¨å‰æ–‡çš„å›¾ç‰‡çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼‰ï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD2.png" alt="img"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç”±äºæˆ‘ä»¬å½“å‰å¤„äºmasteråˆ†æ”¯ï¼Œæ‰€ä»¥ï¼ŒHEADè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘äº†masteråˆ†æ”¯æŒ‡é’ˆï¼Œå¦‚æœæˆ‘ä»¬ç°åœ¨æ£€å‡ºteståˆ†æ”¯ï¼Œé‚£ä¹ˆHEADæŒ‡é’ˆå°±ä¼šæŒ‡å‘testæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬ä»masteråˆ†æ”¯æ£€å‡ºåˆ°teståˆ†æ”¯æ—¶ï¼ŒHEADæŒ‡é’ˆä¼šç”±ä¸Šå›¾ä¸­çš„çŠ¶æ€å˜æˆä¸‹å›¾ä¸­çš„çŠ¶æ€ï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD3.png" alt="img"></p><p>æ‰€ä»¥è¯´ï¼Œgitåªè¦æ‰¾åˆ°HEADï¼Œå°±èƒ½æ‰¾åˆ°æˆ‘ä»¬å½“å‰æ‰€å¤„çš„åˆ†æ”¯ï¼ˆå› ä¸ºæˆ‘ä»¬åœ¨åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œä¼šå°†HEADæŒ‡å‘æ‰€åœ¨çš„åˆ†æ”¯ï¼‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„æŸ¥çœ‹å½“å‰ä»“åº“çš„.gitç›®å½•ä¸­çš„HEADæ–‡ä»¶çš„å†…å®¹ï¼Œä½ ä¼šå‘ç°ï¼Œå…¶å®.git/HEADæ–‡ä»¶çš„å†…å®¹å°±æ˜¯HEADæŒ‡é’ˆæ‰€æŒ‡å‘çš„åˆ†æ”¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (master)</span><br><span class="line"></span><br><span class="line">$ cat .git/HEAD</span><br><span class="line"></span><br><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°è¿”å›ä¿¡æ¯å¯ä»¥çœ‹å‡ºï¼Œå½“å‰HEADæŒ‡é’ˆæŒ‡å‘äº†å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯.git/refs/heads/masterï¼Œé‚£ä¹ˆæˆ‘ä»¬é¡ºè—¤æ‘¸ç“œï¼Œçœ‹çœ‹.git/refs/heads/masterè¿™ä¸ªæ–‡ä»¶çš„æ–‡ä»¶å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (master)</span><br><span class="line"></span><br><span class="line">$ cat .git/refs/heads/master</span><br><span class="line"></span><br><span class="line">7406a10efcc169bbab17827aeda189aa20376f7f</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹æ˜¯ä¸€ä¸²å“ˆå¸Œç ï¼Œè€Œè¿™ä¸ªå“ˆå¸Œç æ­£æ˜¯masteråˆ†æ”¯ä¸Šæœ€æ–°çš„æäº¤æ‰€å¯¹åº”çš„å“ˆå¸Œç ã€‚</p><p>èªæ˜å¦‚ä½ ï¼Œè‚¯å®šå·²ç»çœ‹å‡ºæ¥äº†ï¼Œ.git/HEADæ–‡ä»¶å’Œ.git/refs/heads/masteræ–‡ä»¶ä¸æ­£æ˜¯ä¸Šå›¾ä¸­çš„HEADæŒ‡é’ˆå’Œmasteråˆ†æ”¯æŒ‡é’ˆä¹ˆï¼Œæ²¡é”™ï¼Œå°±æ˜¯è¿™æ ·çš„ï¼Œåªä¸è¿‡ï¼Œåœ¨Gitä¸­ï¼Œè¿™äº›ä»£è¡¨äº†ä¸Šå›¾ä¸­â€æŒ‡é’ˆâ€çš„æ–‡ä»¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªåå­—ï¼Œå®ƒä»¬è¢«ç§°ä¹‹ä¸ºâ€å¼•ç”¨â€ ï¼ˆreferences æˆ–è€… refsï¼‰ï¼Œå…¶å®éƒ½æ˜¯ä¸€æ ·çš„ä¸œè¥¿ï¼Œä¸ç”¨çº ç»“äºå®ƒä»¬çš„åå­—ã€‚</p><p>ä¸ºäº†è¯æ˜æˆ‘ä»¬çš„æƒ³æ³•ï¼Œæˆ‘ä»¬åˆ‡æ¢å‡ æ¬¡åˆ†æ”¯ï¼Œ çœ‹çœ‹.git/HEADæ–‡ä»¶å†…å®¹çš„å˜åŒ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (master)</span><br><span class="line"></span><br><span class="line">$ git checkout test</span><br><span class="line"></span><br><span class="line">Switched to branch &#x27;test&#x27;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ cat .git/HEAD</span><br><span class="line"></span><br><span class="line">ref: refs/heads/test</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ git checkout master</span><br><span class="line"></span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (master)</span><br><span class="line"></span><br><span class="line">$ cat .git/HEAD</span><br><span class="line"></span><br><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure><p>å—¯å—¯ï¼Œçœ‹æ¥æ˜¯æ²¡é”™äº†ï¼Œè·Ÿæˆ‘ä»¬æƒ³çš„ä¸€æ ·ï¼ŒHEADæŒ‡é’ˆé€šå¸¸æŒ‡å‘æˆ‘ä»¬æ‰€åœ¨çš„åˆ†æ”¯ï¼ˆçš„åˆ†æ”¯æŒ‡é’ˆï¼‰ã€‚</p><p>å‰æ–‡ä¸­è¯´è¿‡ï¼Œå½“æˆ‘ä»¬åœ¨æŸä¸ªåˆ†æ”¯ä¸Šåˆ›å»ºæ–°çš„æäº¤æ—¶ï¼Œåˆ†æ”¯æŒ‡é’ˆæ€»æ˜¯ä¼šæŒ‡å‘å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤ã€‚</p><p>è€Œåˆšæ‰åˆè¯´è¿‡ï¼ŒHEADæŒ‡é’ˆé€šå¸¸ä¼šæŒ‡å‘å½“å‰æ‰€åœ¨åˆ†æ”¯çš„åˆ†æ”¯æŒ‡é’ˆã€‚</p><p>é‚£ä¹ˆï¼Œç»“åˆä¸Šè¿°ä¸¤ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š</p><p>HEADæŒ‡é’ˆ â€”â€”â€“&gt; åˆ†æ”¯æŒ‡é’ˆ â€”â€”â€“&gt; æœ€æ–°æäº¤</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒHEADæŒ‡é’ˆæ€»æ˜¯é€šè¿‡åˆ†æ”¯æŒ‡é’ˆï¼Œé—´æ¥çš„æŒ‡å‘äº†å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤ã€‚</p><p>å•çº¯çš„é ä¸Šè¿°æ–‡å­—æè¿°å¯èƒ½ä¸å¤Ÿç›´è§‚ï¼Œä¸å¦‚é€šè¿‡å®é™…çš„æ“ä½œæ¥éªŒè¯ä¸€ä¸‹ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ‡æ¢å›teståˆ†æ”¯ï¼Œçœ‹çœ‹å½“å‰HEADæŒ‡é’ˆå’Œåˆ†æ”¯æŒ‡é’ˆçš„æŒ‡å‘ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (master)</span><br><span class="line"></span><br><span class="line">$ git checkout test</span><br><span class="line"></span><br><span class="line">Switched to branch &#x27;test&#x27;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ cat .git/HEAD</span><br><span class="line"></span><br><span class="line">ref: refs/heads/test</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ cat .git/refs/heads/test</span><br><span class="line"></span><br><span class="line">30d80b030d1a960bd90f020be2a3efb657c978e9</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°å‘½ä»¤å¯ä»¥çœ‹å‡ºï¼Œåˆ‡æ¢åˆ°teståˆ†æ”¯ä»¥åï¼ŒHEADæŒ‡é’ˆæŒ‡å‘äº†teståˆ†æ”¯æŒ‡é’ˆï¼Œè€Œteståˆ†æ”¯æŒ‡é’ˆæŒ‡å‘äº†30d80b0è¿™ä¸ªæäº¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD3.png" alt="img"></p><p>é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬æ¥å°è¯•åœ¨teståˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œçœ‹çœ‹HEADæŒ‡é’ˆå’Œteståˆ†æ”¯æŒ‡é’ˆä¼šæœ‰å“ªäº›å˜åŒ–ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ echo E &gt;&gt; m2</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ git add m2</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;add E to m2&quot;</span><br><span class="line"></span><br><span class="line">[test 35cff8c] add E to m2</span><br><span class="line"></span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ cat .git/HEAD</span><br><span class="line"></span><br><span class="line">ref: refs/heads/test</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ cat .git/refs/heads/test</span><br><span class="line"></span><br><span class="line">35cff8cabb71d553ab1abceaf33fa5a046a17bdb</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨teståˆ†æ”¯ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æäº¤35cff8cï¼Œç„¶åæŸ¥çœ‹äº†.git/HEADï¼Œå‘ç°HEADæŒ‡é’ˆä»ç„¶æŒ‡å‘äº†teståˆ†æ”¯æŒ‡é’ˆï¼Œè€Œteståˆ†æ”¯æŒ‡é’ˆå·²ç»æŒ‡å‘äº†æœ€æ–°åˆ›å»ºçš„æäº¤ï¼Œä¹Ÿå°±æ˜¯35cff8cï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD4.png" alt="img"></p><p>æ‰€ä»¥è¯´ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒHEADæŒ‡é’ˆæ€»æ˜¯æŒ‡å‘äº†å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤ï¼ˆé€šè¿‡åˆ†æ”¯æŒ‡é’ˆé—´æ¥çš„æŒ‡å‘ï¼‰ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯åˆ†ç¦»å¤´"><a href="#ä»€ä¹ˆæ˜¯åˆ†ç¦»å¤´" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ†ç¦»å¤´"></a>ä»€ä¹ˆæ˜¯åˆ†ç¦»å¤´</h2><p>åˆšæ‰ä¸€ç›´åœ¨è¯´ï¼Œâ€é€šå¸¸æƒ…å†µä¸‹â€ï¼ŒHEADæ€»æ˜¯æŒ‡å‘å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ï¼ˆå³æŒ‡å‘å½“å‰åˆ†æ”¯çš„åˆ†æ”¯æŒ‡é’ˆï¼‰ã€‚</p><p>æ—¢ç„¶æœ‰â€é€šå¸¸æƒ…å†µä¸‹â€ï¼Œè‚¯å®šè¿˜æœ‰â€ä¸æ˜¯é‚£ä¹ˆé€šå¸¸çš„æƒ…å†µâ€ï¼Œè¿™ç§æ‰€è°“çš„â€ä¸æ˜¯é‚£ä¹ˆé€šå¸¸çš„æƒ…å†µâ€ï¼Œå°±æ˜¯æˆ‘ä»¬ç°åœ¨è¦æè¿°çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µè¢«ç§°ä¹‹ä¸ºâ€åˆ†ç¦»å¤´â€ï¼ˆdetached HEADï¼‰ï¼Œé‚£ä¹ˆâ€ åˆ†ç¦»å¤´â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåˆ†ç¦»å¤´çš„çŠ¶æ€å…¶å®å°±æ˜¯HEADæŒ‡é’ˆæ²¡æœ‰æŒ‡å‘åˆ†æ”¯æŒ‡é’ˆï¼Œè€Œæ˜¯ç›´æ¥æŒ‡å‘äº†æŸä¸ªæäº¤ï¼Œæ¯”å¦‚ä¸‹å›¾ä¸­çš„æƒ…å†µ</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD5.png" alt="img"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºHEADæŒ‡é’ˆæ²¡æœ‰æŒ‡å‘ä»»ä½•ä¸€ä¸ªåˆ†æ”¯ï¼Œè€Œæ˜¯ç›´æ¥æŒ‡å‘äº†ä¸Šå›¾ä¸­çš„C3è¿™ä¸ªæäº¤ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯â€åˆ†ç¦»å¤´â€ï¼ˆdetached HEADï¼‰çš„æƒ…å†µï¼Œä»å­—é¢ä¸Šç†è§£ï¼Œâ€ åˆ†ç¦»å¤´â€æˆ–è€…ç§°ä¹‹ä¸ºâ€ å¤´åˆ†ç¦»â€çš„è¿™ç§æƒ…å†µå°±æ˜¯HEADæŒ‡é’ˆï¼ˆå¤´æŒ‡é’ˆï¼‰å’Œåˆ†æ”¯æŒ‡é’ˆåˆ†å¼€äº†ï¼ŒHEADæŒ‡é’ˆå’Œåˆ†æ”¯æŒ‡é’ˆåˆ†å¼€åï¼ŒæŒ‡å‘äº†æŸä¸ªæäº¤ã€‚</p><p>ä¸Šå›¾çš„HEADæŒ‡é’ˆç›´æ¥æŒ‡å‘äº†C3è¿™ä¸ªæäº¤ï¼Œä¸Šå›¾åªæ˜¯ä¸ºäº†ç¤ºä¾‹ï¼Œæ‰€ä»¥éšæ„çš„æŒ‡å‘äº†ä¸€ä¸ªæäº¤ï¼ŒHEADæŒ‡é’ˆç›´æ¥æŒ‡å‘ä»»ä½•ä¸€ä¸ªæäº¤çš„æƒ…å†µéƒ½å±äºåˆ†ç¦»å¤´ï¼Œæ‰€ä»¥ï¼Œä¸è¦çº ç»“äºä¸Šå›¾çš„HEADæŒ‡é’ˆæŒ‡å‘äº†å“ªä¸ªæäº¤ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œä»€ä¹ˆæ“ä½œæ—¶æ‰ä¼šè¿›å…¥åˆ°åˆ†ç¦»å¤´çš„çŠ¶æ€å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå½“æˆ‘ä»¬ç›´æ¥æ£€å‡ºä¸€ä¸ªæäº¤ï¼ˆè€Œä¸æ˜¯æ£€å‡ºæŸä¸ªåˆ†æ”¯ï¼‰ï¼Œå°±å¯ä»¥è¿›å‡ºåˆ†ç¦»å¤´çŠ¶æ€ï¼Œåœ¨ä¹‹å‰çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨git checkoutå‘½ä»¤éƒ½æ˜¯æ£€å‡ºæŸä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨git checkoutå‘½ä»¤åé¢æŒ‡å®šæŸä¸ªæäº¤çš„å“ˆå¸Œç ï¼Œå³å¯è¿›å…¥åˆ°åˆ†ç¦»å¤´çš„çŠ¶æ€ã€‚ä¸‹é¢æˆ‘ä»¬æ¥åŠ¨æ‰‹æ“ä½œä¸€ä¸‹ï¼Œä¸è¿‡åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å„ä¸ªåˆ†æ”¯ä»¥åŠHEADæŒ‡é’ˆçš„çŠ¶æ€ï¼Œä½¿ç”¨â€git log â€“oneline â€“all â€“graphâ€å‘½ä»¤å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä»¥å­—ç¬¦çš„å½¢å¼å°½é‡æ¥è¿‘å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºåˆ†æ”¯ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD6.png" alt="img"></p><p>å½“ç„¶ï¼Œä½¿ç”¨ä¸Šè¿°æ–¹å¼å’Œä½¿ç”¨gitkå›¾å½¢åŒ–çš„æ–¹å¼éƒ½èƒ½æŸ¥çœ‹åˆ†æ”¯ï¼Œä½†æ˜¯æˆ‘ä¸ªäººè¿˜æ˜¯ä¹ æƒ¯ä½¿ç”¨gitkå›¾å½¢åŒ–å·¥å…·æŸ¥çœ‹åˆ†æ”¯ï¼Œæ¯•ç«Ÿå›¾å½¢åŒ–å·¥å…·ç›¸å¯¹ç¾è§‚ä¸€äº›ï¼Œåœ¨åæ–‡ä¸­è¿˜æ˜¯ä¼šå°½å¯èƒ½çš„ä½¿ç”¨å›¾å½¢åŒ–çš„ï¼Œä¸è¿‡ä»ä¸Šå›¾å¯ä»¥æ›´åŠ ç›´è§‚çš„çœ‹å‡ºï¼Œå½“å‰æˆ‘ä»¬å¤„äºteståˆ†æ”¯ï¼ŒHEADæŒ‡é’ˆæŒ‡å‘äº†teståˆ†æ”¯ã€‚æ­¤æ—¶ï¼Œè¿è¡Œgitkå‘½ä»¤ï¼Œçœ‹åˆ°çš„åˆ†æ”¯å›¾å¦‚ä¸‹ï¼ˆä¸‹å›¾ä¸­ä½¿ç”¨äº†å‰æ–‡ä¸­åˆ›å»ºçš„allbranchè§†å›¾ï¼‰ï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD7.png" alt="img"></p><p>åœ¨ä¸Šå›¾ä¸­ï¼Œä½ å¯ä»¥ç›´è§‚çš„çœ‹åˆ°teståˆ†æ”¯æŒ‡é’ˆå’Œmasteråˆ†æ”¯æŒ‡é’ˆï¼Œä½†æ˜¯ä½ çœ‹ä¸åˆ°HEADæŒ‡é’ˆï¼Œå…¶å®ï¼Œä¸Šå›¾ä¸­çš„é»„è‰²æäº¤å°±æ˜¯HEADæŒ‡é’ˆæ‰€åœ¨çš„ä½ç½®ï¼ˆæˆ–è€…ä½ ä¹Ÿå¯ä»¥æŠŠHEADæŒ‡é’ˆç†è§£æˆä¸€ä¸ªé»„è‰²çš„åœ†çƒï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒHEADæŒ‡é’ˆç°åœ¨æŒ‡å‘äº†teståˆ†æ”¯ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³è¦åšçš„æ˜¯é€ æˆæ‰€è°“çš„â€ åˆ†ç¦»å¤´â€çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æƒ³è®©HEADæŒ‡é’ˆæŒ‡å‘æŸä¸ªæäº¤ï¼Œè€Œä¸æ˜¯æŒ‡å‘æŸä¸ªåˆ†æ”¯æŒ‡é’ˆã€‚</p><p>æˆ‘ä»¬éšä¾¿æ£€å‡ºåˆ°æŸä¸ªæäº¤ï¼Œéƒ½å¯ä»¥è¿›å…¥åˆ†ç¦»å¤´çŠ¶æ€ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ git checkout cbd3348</span><br><span class="line"></span><br><span class="line">Note: checking out &#x27;cbd3348&#x27;.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line"></span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line"></span><br><span class="line">state without impacting any branches by performing another checkout.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line"></span><br><span class="line">do so (now or later) by using -b with the checkout command again. Example:</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">git checkout -b &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">HEAD is now at cbd3348 add 2 in m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°ä¿¡æ¯å¯ä»¥çœ‹å‡ºï¼Œæˆ‘æ£€å‡ºäº†å“ˆå¸Œç ä¸ºcbd3348çš„æäº¤ï¼Œä¹Ÿå°±æ˜¯â€add 2 in m1â€³å¯¹åº”çš„æäº¤ï¼Œå½“æˆ‘æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œgitçš„è¿”å›ä¿¡æ¯ä¹Ÿåœ¨æç¤ºæˆ‘ä»¬ï¼ŒYou are in â€˜detached HEADâ€™ state.ï¼ˆä½ ç°åœ¨å¤„äºâ€™åˆ†ç¦»å¤´â€™çŠ¶æ€ï¼‰ï¼Œæˆ‘ä»¬æ£€å‡ºäº†â€™cbd3348â€™è¿™ä¸ªæäº¤ï¼Œç°åœ¨ï¼Œå½“å‰ç›®å½•å°±å¤„äºâ€˜cbd3348â€™è¿™ä¸ªæäº¤å¯¹åº”çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹éƒ½ä¸â€™cbd3348â€™è¿™ä¸ªçŠ¶æ€å¯¹åº”ï¼Œæ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œå‘½ä»¤æç¤ºç¬¦ä¸­ä¹Ÿæ˜¾ç¤ºäº†å½“å‰æäº¤çš„å“ˆå¸Œç ã€‚</p><p>é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬å†æ¬¡æ‰§è¡Œ â€œgit log â€“oneline â€“all â€“graphâ€å‘½ä»¤ï¼Œçœ‹çœ‹ç°åœ¨HEADæŒ‡é’ˆæ‰€å¤„çš„ä½ç½®ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD8.png" alt="img"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒHEADæŒ‡é’ˆç›®å‰æ²¡æœ‰æŒ‡å‘ä»»ä½•ä¸€ä¸ªåˆ†æ”¯æŒ‡é’ˆï¼Œè€Œæ˜¯ç›´æ¥æŒ‡å‘äº†â€™cbd3348â€™è¿™ä¸ªæäº¤ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„åˆ†ç¦»å¤´çŠ¶æ€ã€‚</p><p>å¦‚æœæ­¤æ—¶ä½ ä½¿ç”¨gitkå›¾å½¢åŒ–ç•Œé¢ï¼Œä¼šå‘ç°â€™cbd3348â€™è¿™ä¸ªæäº¤å˜æˆäº†é»„è‰²ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD9.png" alt="img"></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒHEADæŒ‡é’ˆç›®å‰å¤„äºâ€™cbd3348â€™è¿™ä¸ªæäº¤ï¼Œå¹¶æ²¡æœ‰æŒ‡å‘ä»»ä½•åˆ†æ”¯ã€‚</p><p>å¦‚æœæ­¤æ—¶åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œâ€™git statusâ€™å‘½ä»¤ï¼ŒåŒæ ·ä¼šæç¤ºä½ ï¼Œä½ å½“å‰å¤„äºåˆ†ç¦»å¤´çŠ¶æ€ï¼Œå¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line">HEAD detached at cbd3348</span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure><h2 id="åˆ†ç¦»å¤´çŠ¶æ€çš„ä½¿ç”¨åœºæ™¯"><a href="#åˆ†ç¦»å¤´çŠ¶æ€çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="åˆ†ç¦»å¤´çŠ¶æ€çš„ä½¿ç”¨åœºæ™¯"></a>åˆ†ç¦»å¤´çŠ¶æ€çš„ä½¿ç”¨åœºæ™¯</h2><p>é‚£ä¹ˆåˆ†ç¦»å¤´çŠ¶æ€æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè¯¥æ€ä¹ˆç”¨å‘¢ï¼Ÿ</p><p>å…¶å®ï¼Œä»ä¸Šæ–‡çš„è¿”å›ä¿¡æ¯ä¸­å°±èƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚åœ¨æˆ‘ä»¬æ‰§è¡Œâ€™ git checkout cbd3348â€™è¿™æ¡å‘½ä»¤æ—¶ï¼Œgitå°±è¿”å›äº†å¾ˆé•¿ä¸€æ®µä¿¡æ¯ï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Note: checking out &#x27;cbd3348&#x27;.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line"></span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line"></span><br><span class="line">state without impacting any branches by performing another checkout.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line"></span><br><span class="line">do so (now or later) by using -b with the checkout command again. Example:</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">git checkout -b &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">HEAD is now at cbd3348 add 2 in m1</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šæˆ‘å…ˆå¤§æ¦‚çš„æè¿°ä¸€ä¸‹ä¸Šè¿°è¿”å›ä¿¡æ¯ï¼Œåé¢ä¼šæœ‰å®é™…çš„ç¤ºä¾‹ï¼Œæ‰€ä»¥ï¼Œä¸æ˜ç™½ä¸Šè¿°è¿”å›ä¿¡æ¯çš„æ„æ€ä¹Ÿä¸ç”¨çº ç»“ï¼Œçœ‹åˆ°æœ€åè‡ªç„¶å°±ä¼šæ˜ç™½ã€‚</p><p>ä»ä¸Šè¿°è¿”å›ä¿¡æ¯æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œæˆ‘ä»¬å½“å‰æ£€å‡ºäº†â€™cbd3348â€™è¿™ä¸ªæäº¤ï¼Œç°åœ¨æˆ‘ä»¬å¤„äºåˆ†ç¦»å¤´çš„çŠ¶æ€ï¼Œgitå»ºè®®æˆ‘ä»¬ï¼Œåœ¨åˆ†ç¦»å¤´çš„çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥éšä¾¿çœ‹çœ‹ï¼Œå¯ä»¥æŒ‰ç…§æˆ‘ä»¬çš„æƒ³æ³•ï¼Œå¯¹å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶è¿›è¡Œä¸€äº›å®éªŒæ€§çš„ä¿®æ”¹ï¼Œå¹¶ä¸”å°†è¿™äº›å®éªŒæ€§çš„ä¿®æ”¹åˆ›å»ºæˆä¸€äº›æäº¤ï¼ˆå…¶å®è¿™äº›æäº¤ä¼šç»„æˆä¸€æ¡åŒ¿ååˆ†æ”¯ï¼‰ï¼Œå¦‚æœä½ æœ€ååæ‚”äº†ï¼Œè§‰å¾—å®éªŒä¸æˆåŠŸï¼Œä¿®æ”¹åçš„ç»“æœå¹¶ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ä¸å½±å“ä»»ä½•å…¶ä»–åˆ†æ”¯å’Œæäº¤çš„æƒ…å†µä¸‹ï¼Œä¸¢å¼ƒè¿™äº›å®éªŒæ€§çš„æäº¤ï¼ˆä¸¢å¼ƒè¿™æ¡åŒ¿ååˆ†æ”¯ï¼‰ï¼Œå¦‚æœä½ è§‰å¾—è¿™äº›å®éªŒæ€§çš„æäº¤è®©ä½ å¾ˆæ»¡æ„ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼ˆå…¶å®æ˜¯ç»™è¿™ä¸ªåŒ¿ååˆ†æ”¯ä¸€ä¸ªå›ºå®šçš„åå­—ï¼‰ï¼Œæ¥æ°¸ä¹…æ€§çš„ä¿å­˜è¿™äº›æäº¤ã€‚</p><p>åªæ˜¯é€šè¿‡è¯­è¨€æè¿°çš„æ–¹å¼ï¼Œå¯èƒ½å¹¶ä¸æ˜¯ç‰¹åˆ«å®¹æ˜“ç†è§£åˆ†ç¦»å¤´çŠ¶æ€çš„ç”¨å¤„ï¼Œä¸å¦‚ï¼Œæˆ‘ä»¬å°±åœ¨åˆ†ç¦»å¤´çš„çŠ¶æ€ä¸‹éšä¾¿åšäº›ä¿®æ”¹ï¼Œç„¶ååˆ›å»ºä¸€äº›æäº¤ï¼Œé€šè¿‡å®é™…æ“ä½œæ¥è®¤è¯†åˆ†ç¦»å¤´çŠ¶æ€çš„ä½¿ç”¨æ–¹æ³•å§ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><p>é¦–å…ˆï¼Œçœ‹çœ‹å½“å‰ç›®å½•ä¸­å„ä¸ªæ–‡ä»¶çš„çŠ¶æ€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line">HEAD detached at cbd3348</span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ cat m1</span><br><span class="line"></span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ cat m2</span><br><span class="line"></span><br><span class="line">A</span><br></pre></td></tr></table></figure><p>ç”±äºåˆšæ‰æˆ‘ä»¬ç›´æ¥æ£€å‡ºäº†â€™cbd3348â€™è¿™ä¸ªæäº¤ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¤„äºåˆ†ç¦»å¤´çŠ¶æ€ï¼Œè€Œä¸”å½“å‰ä»“åº“ä¸­å„ä¸ªæ–‡ä»¶çš„å†…å®¹ä¹Ÿå›åˆ°äº†â€™cbd3348â€™è¿™ä¸ªæäº¤å¯¹åº”çš„çŠ¶æ€ï¼Œå‡è®¾ï¼Œæ­¤æ—¶æˆ‘æƒ³å¯¹m1è¿™ä¸ªæ–‡ä»¶è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œäºæ˜¯ï¼Œæˆ‘è¿›è¡Œäº†å¦‚ä¸‹ä¸€ç³»åˆ—çš„æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ echo 3test &gt;&gt; m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ git add m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((cbd3348...))</span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;add 3test in m1&quot;</span><br><span class="line"></span><br><span class="line">[detached HEAD c22af40] add 3test in m1</span><br><span class="line"></span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((c22af40...))</span><br><span class="line"></span><br><span class="line">$ echo 4test &gt;&gt; m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((c22af40...))</span><br><span class="line"></span><br><span class="line">$ git add m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((c22af40...))</span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;add 4test in m1&quot;</span><br><span class="line"></span><br><span class="line">[detached HEAD dca15df] add 4test in m1</span><br><span class="line"></span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((dca15df...))</span><br><span class="line"></span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°å‘½ä»¤å¯ä»¥çœ‹å‡ºï¼Œæˆ‘å…ˆåœ¨m1æ–‡ä»¶ä¸­åŠ äº†ä¸€è¡Œâ€3testâ€ï¼Œå¹¶ä¸”ä¸ºè¿™æ¬¡ä¿®æ”¹åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æäº¤ï¼Œæ–°æäº¤çš„å“ˆå¸Œç æ˜¯c22af40ï¼Œå½“æ–°æäº¤c22af40è¢«åˆ›å»ºä»¥åï¼Œå‘½ä»¤æç¤ºç¬¦ä¸­çš„å“ˆå¸Œç å°±å˜æˆäº†c22af40ï¼Œç„¶åï¼Œæˆ‘åˆåœ¨m1æ–‡ä»¶ä¸­åŠ äº†ä¸€è¡Œâ€4testâ€ï¼Œå¹¶ä¸”ä¸ºè¿™æ¬¡ä¿®æ”¹ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªæ–°æäº¤ï¼Œæ–°æäº¤çš„å“ˆå¸Œç ä¸ºdca15dfï¼ŒåŒæ ·ï¼Œè¿™ä¸ªæäº¤è¢«åˆ›å»ºä»¥åï¼Œå‘½ä»¤æç¤ºç¬¦ä¸­çš„å“ˆå¸Œç å°±å˜æˆäº†æœ€æ–°æäº¤çš„å“ˆå¸Œç ï¼Œå¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»åœ¨åˆ†ç¦»å¤´çš„çŠ¶æ€ä¸‹åˆ›å»ºäº†ä¸¤ä¸ªæ–°æäº¤ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å„ä¸ªåˆ†æ”¯çš„çŠ¶æ€ä»¥åŠHEADæŒ‡é’ˆçš„ä½ç½®ï¼Œæ‰“å¼€gitkå›¾å½¢åŒ–ç•Œé¢ï¼Œå¦‚ä¸‹ï¼š</p><p>æ³¨ï¼šæ­¤å¤„ä½¿ç”¨â€gitk â€“allâ€å‘½ä»¤æ‰“å¼€gitkå›¾å½¢åŒ–ç•Œé¢ï¼Œâ€â€“allâ€å‚æ•°è¡¨ç¤ºæ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯ï¼Œä½ ä¹Ÿå¯ä»¥æ‰“å¼€gitkä»¥åï¼Œé€‰æ‹©å‰æ–‡ä¸­ä¿å­˜è¿‡çš„è§†å›¾æ¥æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ã€‚</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD10.png" alt="img"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒHEADæŒ‡é’ˆå·²ç»æŒ‡å‘äº†æœ€æ–°çš„æäº¤ï¼Œè¿™ä¸ªæäº¤å°±æ˜¯æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„â€add 4test in m1â€³ï¼Œè€Œä¸”ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä»â€add 2 in m1â€³åˆ†å‡ºäº†ä¸€æ¡åˆ†æ”¯ï¼Œâ€add 2 in m1â€³æ˜¯ä¸€ä¸ªåˆ†å‰ç‚¹ï¼Œè¿™ä¸ªåˆ†å‰ç‚¹å°±æ˜¯ä¸Šæ–‡ä¸­çš„â€˜cbd3348â€™æäº¤ï¼Œæˆ‘ä»¬ç›´æ¥æ£€å‡ºäº†â€™cbd3348â€™è¿™ä¸ªæäº¤ï¼Œè¿›å…¥åˆ°äº†åˆ†ç¦»å¤´çš„çŠ¶æ€ï¼Œç„¶ååœ¨åˆ†ç¦»å¤´çš„çŠ¶æ€ä¸‹ï¼Œåˆ›å»ºäº†ä¸¤ä¸ªæ–°æäº¤ï¼Œè¿™ä¸¤ä¸ªæ–°æäº¤å°±æ˜¯â€add 3test in m1â€³å’Œâ€add 4test in m1â€³ï¼Œè¿™ä¸¤ä¸ªæ–°æäº¤ä¸åˆ†å‰ç‚¹ä¹‹å‰çš„æäº¤ç»„æˆäº†ä¸€æ¡åŒ¿ååˆ†æ”¯ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªåˆ†æ”¯æ ‡ç­¾æŒ‡å‘è¿™ä¸ªåŒ¿ååˆ†æ”¯ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œå¦‚ä¸‹ï¼š</p><p>é€‰æ‹©ä¸€ï¼šä¸¢å¼ƒè¿™ä¸ªåŒ¿ååˆ†æ”¯</p><p>é€‰æ‹©äºŒï¼šä¿ç•™è¿™ä¸ªåŒ¿ååˆ†æ”¯</p><p>ä¸Šè¿°ä¸¤ç§é€‰æ‹©åˆ†åˆ«å¯¹åº”äº†ä¸åŒçš„æ“ä½œï¼Œæˆ‘ä»¬åç»­å†è¿›è¡Œå®é™…çš„ç¤ºä¾‹ã€‚</p><p>çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä¼¼ä¹æ˜ç™½äº†åˆ†ç¦»å¤´çš„ä½¿ç”¨åœºæ™¯ï¼Œè¯´ç™½äº†ï¼Œåˆ†ç¦»å¤´çš„çŠ¶æ€ä¸å°±æ˜¯è®©æˆ‘ä»¬å¯ä»¥éšæ„çš„æ£€å‡ºæŸä¸ªæäº¤ï¼Œç„¶ååŸºäºè¿™ä¸ªæäº¤åˆ›å»ºä¸€äº›æ–°æäº¤ä¹ˆï¼Œè¿™äº›æ–°åˆ›å»ºçš„æäº¤æ˜¯åå®éªŒæ€§è´¨çš„ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å¯èƒ½ä¼šä¿å­˜è¿™äº›æäº¤ï¼Œä¹Ÿæœ‰å¯èƒ½æ”¾å¼ƒè¿™äº›æäº¤ï¼Œä½ å¯ä»¥æ ¹æ®æœ€ç»ˆçš„ç»“æœåˆ¤æ–­æ˜¯å¦ä¿å­˜è¿™äº›æäº¤ï¼Œè¿™äº›æ–°åˆ›å»ºçš„æäº¤å¯ä»¥ç†è§£æˆä¸€æ¡åŒ¿ååˆ†æ”¯ã€‚</p><p>å¥½äº†ï¼Œåˆšæ‰è¯´è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ”¾å¼ƒè¿™ä¸ªåŒ¿ååˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¿ç•™å®ƒï¼Œé‚£ä¹ˆå…·ä½“è¯¥æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿä¸€ä¸ªä¸€ä¸ªèŠ</p><p>å…ˆè¯´è¯´æ€æ ·æ”¾å¼ƒè¿™äº›æäº¤ï¼Œå¦‚æœä½ å¯¹è¿™äº›å®éªŒæ€§çš„æäº¤ä¸æ»¡æ„ï¼Œä½ å¯ä»¥ç›´æ¥æ£€å‡ºåˆ°ä»»ä½•ä¸€ä¸ªåˆ«çš„åˆ†æ”¯ï¼Œå°±ç›¸å½“äºæ”¾å¼ƒäº†è¿™äº›æäº¤ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å½“å‰å¤„äºåˆ†ç¦»å¤´çŠ¶æ€ï¼Œç°åœ¨æˆ‘ä»¬ç›´æ¥æ£€å‡ºåˆ°teståˆ†æ”¯ï¼Œç¤ºä¾‹æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 ((dca15df...))</span><br><span class="line"></span><br><span class="line">$ git checkout test</span><br><span class="line"></span><br><span class="line">Warning: you are leaving 2 commits behind, not connected to</span><br><span class="line"></span><br><span class="line">any of your branches:</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">dca15df add 4test in m1</span><br><span class="line"></span><br><span class="line">c22af40 add 3test in m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">If you want to keep them by creating a new branch, this may be a good time</span><br><span class="line"></span><br><span class="line">to do so with:</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">git branch &lt;new-branch-name&gt; dca15df</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Switched to branch &#x27;test&#x27;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 (test)</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œå½“æˆ‘ä»¬ç›´æ¥ä»åˆ†ç¦»å¤´çŠ¶æ€æ£€å‡ºåˆ°å…¶ä»–åˆ†æ”¯æ—¶ï¼Œgitä¼šæç¤ºæˆ‘ä»¬ï¼Œä½ è½ä¸‹äº†2ä¸ªæäº¤åœ¨åé¢ï¼Œè¿™ä¸¤ä¸ªæäº¤æ²¡æœ‰å…³è”åˆ°ä»»ä½•åˆ†æ”¯ï¼Œè¿™ä¸¤ä¸ªæäº¤æ˜¯â€¦â€¦ï¼ˆä½ åˆ›å»ºçš„æäº¤ä¿¡æ¯ï¼‰ï¼Œå¦‚æœä½ æƒ³è¦ä¿å­˜å®ƒä»¬ï¼Œé‚£ä¹ˆä½ å¯ä»¥â€¦â€¦(gitåœ¨è¿™æ—¶å…¶å®å°±å·²ç»ç»™å‡ºäº†ä¿ç•™è¿™ä¸ªåŒ¿ååˆ†æ”¯çš„å‘½ä»¤ï¼Œä¸è¿‡è¿™ä¸ªå‘½ä»¤æˆ‘ä»¬æ”¾åˆ°åé¢å†èŠ)ï¼Œå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œæˆ‘ä»¬ä»åˆ†ç¦»å¤´çŠ¶æ€å·²ç»æ£€å‡ºåˆ°äº†åˆ«çš„åˆ†æ”¯ï¼ˆteståˆ†æ”¯ï¼‰ï¼Œè¿™å°±ç›¸å½“äºæ”¾å¼ƒäº†é‚£äº›å®éªŒæ€§çš„æäº¤ï¼ˆåŒ¿ååˆ†æ”¯ï¼‰ï¼Œæ­¤æ—¶è¿è¡Œâ€ gitk â€“allâ€å‘½ä»¤ï¼ŒæŸ¥çœ‹HEADä»¥åŠåˆ†æ”¯çš„çŠ¶å†µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://www.zsythink.net/wp-content/uploads/2019/09/090119_1124_Git8HEAD7.png" alt="img"></p><p>ä½ ä¼šå‘ç°ï¼Œé‚£æ¡åŒ¿ååˆ†æ”¯å·²ç»ä¸è§äº†ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘é‚£äº›æäº¤ï¼Œæ‰€ä»¥ï¼Œé‚£äº›å®éªŒæ€§çš„æäº¤ä¼šåœ¨è¿‡ä¸€æ®µæ—¶é—´åè¢«gitçš„åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æƒ³è¦å®ƒä»¬äº†ï¼Œæ‰€ä»¥ä¸ç”¨ç†ä¼šå®ƒä»¬ï¼Œå®ƒä»¬å°±å¥½åƒä¸å­˜åœ¨ä¸€æ ·ï¼Œä¹Ÿä¸ä¼šå¯¹å…¶ä»–åˆ†æ”¯å’Œæäº¤é€ æˆå½±å“ã€‚ä¸Šè¿°æ“ä½œå°±æ˜¯ä¸¢å¼ƒè¿™äº›å®éªŒæ€§æäº¤çš„æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿ</p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æ°¸ä¹…çš„ä¿å­˜é‚£äº›åœ¨åˆ†ç¦»å¤´çŠ¶æ€ä¸‹åˆ›å»ºçš„æäº¤è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¿™äº›æäº¤åˆ›å»ºæˆä¸€æ¡æ–°çš„åˆ†æ”¯å°±è¡Œäº†ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥ç†è§£æˆä¸ºåŒ¿ååˆ†æ”¯å‘½åï¼‰ï¼Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘å†æ¬¡æ£€å‡ºåˆ°dca15dfè¿™ä¸ªæäº¤ï¼ˆè¿™ä¸ªæäº¤æ˜¯ä¹‹å‰åœ¨æ¼”ç¤ºåˆ†ç¦»å¤´çŠ¶æ€æ—¶åˆ›å»ºçš„æœ€æ–°çš„æäº¤ï¼‰ï¼Œæ£€å‡ºdca15dfæäº¤æ˜¯ä¸ºäº†å›åˆ°ä¹‹å‰çš„åˆ†ç¦»å¤´çŠ¶æ€ï¼Œä»¥ä¾¿æ¼”ç¤ºæ€æ ·åœ¨åˆ†ç¦»å¤´çš„çŠ¶æ€ä¸‹ä¿å­˜é‚£äº›å®éªŒæ€§çš„æäº¤ï¼Œæ£€å‡ºdca15dfæäº¤çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">/d/workspace/git/test_repo1 (test)</span><br><span class="line"></span><br><span class="line">$ git checkout dca15df</span><br><span class="line"></span><br><span class="line">Note: checking out &#x27;dca15df&#x27;.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line"></span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line"></span><br><span class="line">state without impacting any branches by performing another checkout.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line"></span><br><span class="line">do so (now or later) by using -b with the checkout command again. Example:</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">git checkout -b &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">HEAD is now at dca15df add 4test in m1</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">/d/workspace/git/test_repo1 ((dca15df...))</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°å‘½ä»¤å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬ä»teståˆ†æ”¯æ£€å‡ºåˆ°â€™dca15dfâ€™æäº¤ä»¥åï¼Œgitåˆä»â€é€šå¸¸çŠ¶æ€â€è¿›å…¥åˆ°äº†â€åˆ†ç¦»å¤´çŠ¶æ€â€ï¼Œå¹¶ä¸”gitå†æ¬¡æç¤ºæˆ‘ä»¬ï¼Œä½ å¯ä»¥é€šè¿‡â€ git checkout -b <new-branch-name>â€å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ä»¥ä¾¿æ¥ä¿å­˜è¿™äº›åœ¨åˆ†ç¦»å¤´çŠ¶æ€ä¸‹åˆ›å»ºçš„æäº¤ï¼Œå‡è®¾ï¼Œæˆ‘ä»¬æƒ³è¦åˆ›å»ºä¸€ä¸ªåä¸ºnewtestçš„åˆ†æ”¯æ¥ä¿å­˜è¿™äº›æäº¤ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b newtest</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œæ–°åˆ›å»ºçš„newteståˆ†æ”¯æŒ‡é’ˆå°±ä¼šæŒ‡å‘æˆ‘ä»¬å½“å‰æ‰€åœ¨çš„æäº¤ï¼ˆå³dca15dfæäº¤ï¼‰ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½æ°¸ä¹…çš„ä¿å­˜è¿™äº›æäº¤äº†ã€‚<br>å½“ç„¶ï¼Œé™¤äº†â€ git checkout -b newtestâ€å‘½ä»¤ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ç±»ä¼¼çš„å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªåˆ†æ”¯æ¥ä¿å­˜åˆ†ç¦»å¤´çŠ¶æ€ä¸‹åˆ›å»ºçš„æäº¤ï¼Œæ¯”å¦‚å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch newtest dca15df</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤çš„æ„æ€æ˜¯åœ¨dca15dfæäº¤çš„ä½ç½®åˆ›å»ºä¸€ä¸ªåä¸ºnewtestçš„åˆ†æ”¯ï¼ˆæ­¤å‘½ä»¤ä¸ä¼šè‡ªåŠ¨æ£€å‡ºåˆ°æ–°åˆ›å»ºçš„åˆ†æ”¯ï¼Œä¼šåœç•™åœ¨åŸä½ç½®ï¼Œä½†æ˜¯æ–°çš„åˆ†æ”¯æŒ‡é’ˆä¼šåœ¨æŒ‡å®šçš„æäº¤å¤„åˆ›å»ºï¼‰ï¼Œç»†å¿ƒå¦‚ä½ è‚¯å®šå·²ç»å‘ç°äº†ï¼Œåœ¨ä¹‹å‰çš„ç¤ºä¾‹è¿‡ç¨‹ä¸­ï¼Œå½“æˆ‘ä»¬ä»dca15dfæäº¤çš„åˆ†ç¦»å¤´çŠ¶æ€æ£€å‡ºåˆ°teståˆ†æ”¯æ—¶ï¼ŒgitåŒæ ·ä¼šæç¤ºä½ ä½¿ç”¨â€git branch <new-branch-name> dca15dfâ€å‘½ä»¤æ¥ä¿å­˜åˆ†ç¦»å¤´çŠ¶æ€ä¸‹åˆ›å»ºçš„é‚£äº›æäº¤ï¼Œå…¶å®ï¼Œå‘½ä»¤è™½ç„¶ä¸åŒï¼Œä½†æ˜¯æœ¬è´¨ä¸Šçš„ç›®æ ‡éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªåˆ†æ”¯æ¥ä¿å­˜åˆ†ç¦»å¤´çŠ¶æ€ä¸‹çš„æäº¤ï¼ˆæ¢ä¸€ç§è¯´æ³•å°±æ˜¯ç»™åˆ†ç¦»å¤´çŠ¶æ€ä¸‹äº§ç”Ÿçš„åŒ¿ååˆ†æ”¯å‘½åï¼‰ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œä½ è‚¯å®šæ˜ç™½äº†åˆ†ç¦»å¤´æŒ‡é’ˆçš„ä½¿ç”¨åœºæ™¯ï¼Œå½“ä½ æƒ³è¦åŸºäºæŸä¸ªæäº¤è¿›è¡Œä¸€äº›å®éªŒæˆ–è€…æµ‹è¯•ï¼Œå¯ä»¥ç›´æ¥æ£€å‡ºè¿™ä¸ªæäº¤ï¼Œç«‹é©¬åœ¨ä¸Šé¢å¼€å§‹å®éªŒ/æµ‹è¯•å·¥ä½œï¼Œå¦‚æœç»“æœæ»¡æ„ï¼Œå°±ä¿ç•™ï¼Œå¦‚æœç»“æœä¸æ»¡æ„ï¼Œå°±ä¸¢å¼ƒã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œæˆ‘ç›´æ¥åŸºäºæŒ‡å®šçš„æäº¤åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œç„¶ååœ¨æ–°çš„åˆ†æ”¯ä¸Šè¿›è¡Œå®éªŒä¸æ˜¯ä¹Ÿå¯ä»¥å—ï¼Ÿæ˜¯çš„ï¼Œå®Œå…¨å¯ä»¥ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œåªæ˜¯ï¼Œå¦‚æœå®éªŒç»“æœä¸æ»¡æ„ï¼Œä½ å¯èƒ½è¿˜æƒ³è¦åˆ é™¤è¿™æ¡ç”¨äºå®éªŒçš„åˆ†æ”¯ï¼Œè€Œä½¿ç”¨åˆ†ç¦»å¤´ï¼Œå°±å¯ä»¥å…ˆå®éªŒï¼Œå†åˆ¤æ–­æ˜¯å¦ä¿ç•™è¿™äº›æäº¤ï¼Œé¿å…äº†åœ¨ä¸æ»¡æ„çš„æƒ…å†µä¸‹åˆ›å»ºåˆ†æ”¯æˆ–è€…åˆ é™¤åˆ†æ”¯çš„æ“ä½œã€‚</p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ªï¼š<a href="https://www.zsythink.net/archives/3412/">https://www.zsythink.net/archives/3412/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git ä¸€ç¯‡å°±å¤Ÿäº†</title>
      <link href="post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/"/>
      <url>post/Git%20%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86/</url>
      
        <content type="html"><![CDATA[<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e71a44952962454383ff57a72b2bf2d4~tplv-k3u1fbpfcp-zoom-crop-mark:3024:3024:3024:1702.awebp" alt="å­¦ä¹  Gitï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼"></p><hr><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a10f8fbb523497b8015d5b1e3264eb6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h1 id="ä¸€ã€GitåŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€ã€GitåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€ã€GitåŸºæœ¬æ¦‚å¿µ"></a>ä¸€ã€GitåŸºæœ¬æ¦‚å¿µ</h1><h3 id="1-Git-å†å²"><a href="#1-Git-å†å²" class="headerlink" title="1. Git å†å²"></a>1. Git å†å²</h3><p>Git æ˜¯æœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆDistributed Version Control Systemï¼Œç®€ç§° DVCSï¼‰ã€‚å®ƒç”± Linus Torvalds åˆ›å»ºï¼Œå½“æ—¶éå¸¸éœ€è¦ä¸€ä¸ªå¿«é€Ÿã€é«˜æ•ˆå’Œå¤§è§„æ¨¡åˆ†å¸ƒå¼çš„æºä»£ç ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºç®¡ç† Linux æºä»£ç ã€‚</p><p>ç”±äº Linus å¯¹å‡ ä¹æ‰€æœ‰ç°æœ‰çš„æºä»£ç ç®¡ç†ç³»ç»ŸæŠ±æœ‰å¼ºçƒˆçš„åæ„Ÿï¼Œå› æ­¤ä»–å†³å®šç¼–å†™è‡ªå·±çš„æºä»£ç ç®¡ç†ç³»åˆ—ã€‚2005 å¹´ 4 æœˆï¼ŒGit å°±è¯ç”Ÿäº†ã€‚åˆ°äº† 2005 å¹´ 7 æœˆï¼Œç»´æŠ¤å·¥ä½œå°±äº¤ç»™äº† Junio Hamanoï¼Œè‡ªæ­¤ä»–å°±ä¸€ç›´åœ¨ç»´æŠ¤è¿™ä¸ªé¡¹ç›®ã€‚</p><p>è™½ç„¶æœ€åˆåªç”¨äº Linux å†…æ ¸ï¼Œä½† Git é¡¹ç›®è¿…é€Ÿä¼ æ’­ï¼Œå¹¶å¾ˆå¿«è¢«ç”¨äºç®¡ç†è®¸å¤šå…¶ä»– Linux é¡¹ç›®ã€‚ç°åœ¨ï¼Œå‡ ä¹æ‰€æœ‰çš„è½¯ä»¶å¼€å‘ï¼Œå°¤å…¶æ˜¯åœ¨å¼€æºä¸–ç•Œä¸­ï¼Œéƒ½æ˜¯é€šè¿‡ Git è¿›è¡Œçš„ã€‚</p><h3 id="2-ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#2-ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="2. ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>2. ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h3><p>ç‰ˆæœ¬æ§åˆ¶æ˜¯æŒ‡å¯¹è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å„ç§ç¨‹åºä»£ç ã€é…ç½®æ–‡ä»¶åŠè¯´æ˜æ–‡æ¡£ç­‰æ–‡ä»¶å˜æ›´çš„ç®¡ç†ï¼Œæ˜¯è½¯ä»¶é…ç½®ç®¡ç†çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ã€‚ç‰ˆæœ¬æ§åˆ¶æŠ€æœ¯æ˜¯å›¢é˜Ÿåä½œå¼€å‘çš„æ¡¥æ¢ï¼ŒåŠ©åŠ›äºå¤šäººåä½œåŒæ­¥è¿›è¡Œå¤§å‹é¡¹ç›®å¼€å‘ã€‚è½¯ä»¶ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯æŸ¥é˜…é¡¹ç›®å†å²æ“ä½œè®°å½•ã€å®ç°ååŒå¼€å‘ã€‚</p><p>å¸¸è§ç‰ˆæœ¬æ§åˆ¶ä¸»è¦æœ‰ä¸¤ç§ï¼š<strong>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶</strong>å’Œ<strong>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶</strong>ã€‚</p><h4 id="ï¼ˆ1ï¼‰é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#ï¼ˆ1ï¼‰é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="ï¼ˆ1ï¼‰é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>ï¼ˆ1ï¼‰é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h4><p>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­å­˜æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ã€‚å·¥ä½œæ—¶ï¼Œæ¯ä¸ªäººéƒ½è¦å…ˆä»ä¸­å¤®æœåŠ¡å™¨è·å–æœ€æ–°çš„ç‰ˆæœ¬ã€‚å®Œæˆä¹‹åï¼Œå†æŠŠè‡ªå·±æ·»åŠ /ä¿®æ”¹çš„å†…å®¹æäº¤åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚æ‰€æœ‰æ–‡ä»¶å’Œå†å²æ•°æ®éƒ½å­˜å‚¨åœ¨ä¸­å¤®æœåŠ¡å™¨ä¸Šã€‚SVN æ˜¯æœ€æµè¡Œçš„é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¹‹ä¸€ã€‚</p><p>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ç¼ºç‚¹å°±æ˜¯å¿…é¡»è”ç½‘æ‰èƒ½ä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨å±€åŸŸç½‘è¿˜å¥½ï¼Œé€Ÿåº¦ä¼šæ¯”è¾ƒå¿«ã€‚è€Œå¦‚æœæ˜¯ä½¿ç”¨äº’è”ç½‘ï¼Œç½‘é€Ÿæ…¢çš„è¯ï¼Œå°±å¯èƒ½éœ€è¦ç­‰å¾…å¾ˆé•¿æ—¶é—´ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœä¸­å¤®æœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œé‚£ä¹ˆç‰ˆæœ¬æ§åˆ¶å°†ä¸å¯ç”¨ã€‚å¦‚æœä¸­å¿ƒæ•°æ®åº“æŸåï¼Œè‹¥æ•°æ®æœªå¤‡ä»½ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35f1bae8099a4416a94eea9d71fa91f5~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h4 id="ï¼ˆ2ï¼‰åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#ï¼ˆ2ï¼‰åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="ï¼ˆ2ï¼‰åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>ï¼ˆ2ï¼‰åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h4><p>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ¯å°ç»ˆç«¯éƒ½å¯ä»¥ä¿å­˜ç‰ˆæœ¬åº“ï¼Œç‰ˆæœ¬åº“å¯ä»¥ä¸åŒï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‰ˆæœ¬åº“è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆåå¯ä»¥é›†ä¸­è¿›è¡Œæ›´æ–°ã€‚è™½ç„¶å®ƒæ²¡æœ‰ä¸­å¿ƒæœåŠ¡å™¨ï¼Œä½†å¯ä»¥æœ‰ä¸€ä¸ªå¤‡ä»½æœåŠ¡å™¨ï¼Œå®ƒçš„åŠŸèƒ½æœ‰ç‚¹ç±»ä¼¼äº SVN çš„ä¸­å¤®æœåŠ¡å™¨ï¼Œä½†å®ƒçš„ä½œç”¨ä»…æ˜¯æ–¹ä¾¿äº¤æ¢ä¿®æ”¹ï¼Œè€Œä¸åƒ SVN é‚£æ ·è¿˜è¦è´Ÿè´£æºä»£ç çš„ç®¡ç†ã€‚Git æ˜¯æœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¹‹ä¸€ã€‚</p><p>å’Œé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿç›¸æ¯”ï¼Œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å®‰å…¨æ€§è¦é«˜å¾ˆå¤šï¼Œå› ä¸ºæ¯ä¸ªäººç”µè„‘é‡Œéƒ½æœ‰å®Œæ•´çš„ç‰ˆæœ¬åº“ï¼ŒæŸä¸€ä¸ªäººçš„ç”µè„‘æŸåä¸ä¼šå½±å“åˆ°åä½œçš„å…¶ä»–äººã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de496c692a8b42f197485eb2f222f085~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h4 id="ï¼ˆ3ï¼‰SVN-vs-Git"><a href="#ï¼ˆ3ï¼‰SVN-vs-Git" class="headerlink" title="ï¼ˆ3ï¼‰SVN vs Git"></a>ï¼ˆ3ï¼‰SVN vs Git</h4><p>Git ç›¸è¾ƒäº SVNï¼š</p><ul><li><strong>æäº¤é€Ÿåº¦æ›´å¿«ï¼š</strong> å› ä¸ºåœ¨ SVN ä¸­éœ€è¦æ›´é¢‘ç¹åœ°æäº¤åˆ°ä¸­å¤®å­˜å‚¨åº“ï¼Œæ‰€ä»¥ç½‘ç»œæµé‡ä¼šå‡æ…¢æ¯ä¸ªäººçš„é€Ÿåº¦ã€‚è€Œä½¿ç”¨ Gitï¼Œä¸»è¦åœ¨æœ¬åœ°å­˜å‚¨åº“ä¸Šå·¥ä½œï¼Œåªéœ€æ¯éš”ä¸€æ®µæ—¶é—´æ‰æäº¤åˆ°ä¸­å¤®å­˜å‚¨åº“ã€‚</li><li><strong>æ²¡æœ‰å•ç‚¹æ•…éšœï¼š</strong> ä½¿ç”¨ SVNï¼Œå¦‚æœä¸­å¤®å­˜å‚¨åº“å‡ºç°æ•…éšœï¼Œåˆ™åœ¨ä¿®å¤å­˜å‚¨åº“ä¹‹å‰ï¼Œå…¶ä»–å¼€å‘äººå‘˜æ— æ³•æäº¤ä»–ä»¬çš„ä»£ç ã€‚ä½¿ç”¨ Gitï¼Œæ¯ä¸ªå¼€å‘äººå‘˜éƒ½æœ‰è‡ªå·±çš„å­˜å‚¨åº“ï¼Œå› æ­¤ä¸­å¤®å­˜å‚¨åº“æ˜¯å¦æŸåå¹¶ä¸é‡è¦ã€‚å¼€å‘äººå‘˜å¯ä»¥ç»§ç»­åœ¨æœ¬åœ°æäº¤ä»£ç ï¼Œç›´åˆ°ä¸­å¤®å­˜å‚¨åº“è¢«ä¿®å¤ï¼Œç„¶åå°±å¯ä»¥æ¨é€ä»–ä»¬çš„æ›´æ”¹ï¼›</li><li><strong>å¯ä»¥ç¦»çº¿ä½¿ç”¨ï¼š</strong> ä¸ SVN ä¸åŒï¼ŒGit å¯ä»¥ç¦»çº¿å·¥ä½œï¼Œå³ä½¿ç½‘ç»œå¤±å»è¿æ¥ï¼Œä¹Ÿå¯ä»¥ç»§ç»­å·¥ä½œè€Œä¸ä¼šä¸¢å¤±åŠŸèƒ½ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bae15963b57d4af4ae4896714f61ac60~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h3 id="3-Git-å®‰è£…"><a href="#3-Git-å®‰è£…" class="headerlink" title="3. Git å®‰è£…"></a>3. Git å®‰è£…</h3><p>åœ¨Gitå®˜ç½‘ä¸‹è½½ã€å®‰è£…å³å¯ï¼š<a href="https://link.juejin.cn/?target=https://git-scm.com/download">git-scm.com/download</a></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66f0c2ab087041059c209011158dc7cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><p>å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ Git æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœå®‰è£…æˆåŠŸï¼Œç»ˆç«¯ä¼šæ‰“å°å®‰è£…çš„ Git çš„ç‰ˆæœ¬ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a70b2b9b6aa4c2990522a64e3908c52~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h3 id="4-Git-åˆå§‹åŒ–"><a href="#4-Git-åˆå§‹åŒ–" class="headerlink" title="4. Git åˆå§‹åŒ–"></a>4. Git åˆå§‹åŒ–</h3><p>è¦ç»™é¡¹ç›®åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­æ‰“å¼€é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–ä¹‹åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªåä¸º<code>.git</code>çš„æ–°å­æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å« Git å°†ç”¨äºè·Ÿè¸ªé¡¹ç›®æ›´æ”¹çš„å¤šä¸ªæ–‡ä»¶å’Œæ›´å¤šå­ç›®å½•ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67be66dfebe5452e938c6177591ff653~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>åœ¨ä½¿ç”¨ Git è¿›è¡Œä»£ç ç®¡ç†æ—¶ï¼Œä¸å¸Œæœ›ä¸€äº›æ–‡ä»¶å‡ºç°åœ¨è·Ÿè¸ªåˆ—è¡¨ä¸­ï¼Œæ¯”å¦‚<code>node_modules</code>æ–‡ä»¶ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º.gitignoreçš„æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­åˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œæ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰€æœ‰ä»¥.mdç»“å°¾çš„æ–‡ä»¶</span></span><br><span class="line">*.md  </span><br><span class="line"></span><br><span class="line"><span class="comment"># lib.aä¸èƒ½è¢«å¿½ç•¥</span></span><br><span class="line">!lib.a</span><br><span class="line"></span><br><span class="line"><span class="comment"># node_moduleså’Œ.vscodeæ–‡ä»¶è¢«å¿½ç•¥</span></span><br><span class="line">node_modules</span><br><span class="line">.vscode</span><br><span class="line"></span><br><span class="line"><span class="comment"># buildç›®å½•ä¸‹çš„æ–‡ä»¶è¢«å¿½ç•¥</span></span><br><span class="line">build/</span><br><span class="line"></span><br><span class="line"><span class="comment"># docç›®å½•ä¸‹çš„.txtæ–‡ä»¶è¢«å¿½ç•¥</span></span><br><span class="line">doc/*.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># docç›®å½•ä¸‹å¤šå±‚ç›®å½•çš„æ‰€æœ‰ä»¥.pdfç»“å°¾çš„æ–‡ä»¶è¢«å¿½ç•¥</span></span><br><span class="line">doc/**/*.pdf</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä»¥ # ç¬¦å·å¼€å¤´çš„è¡Œæ˜¯æ³¨é‡Šã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°å…‹éš†Gitå­˜å‚¨åº“ä¸Šçš„ä»£ç ï¼Œé¦–å…ˆè¦æ‰¾åˆ°Gitå­˜å‚¨åº“ä¸Šçš„HTTPSæˆ–SSHçš„åœ°å€ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c2f9df1dc4894165abde2018fbb3b779~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†è¿œç¨‹ä»“åº“å…‹éš†åˆ°æœ¬åœ°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/facebook/react.git</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="5-Git-ç»“æ„å’ŒçŠ¶æ€"><a href="#5-Git-ç»“æ„å’ŒçŠ¶æ€" class="headerlink" title="5. Git ç»“æ„å’ŒçŠ¶æ€"></a>5. Git ç»“æ„å’ŒçŠ¶æ€</h3><p>ä»Gitçš„è§’åº¦æ¥çœ‹ï¼Œå¯ä»¥åœ¨ä¸‰ä¸ªåŒºåŸŸè¿›è¡Œæ–‡ä»¶æ›´æ”¹ï¼šå·¥ä½œåŒºï¼Œæš‚å­˜åŒºå’Œå­˜å‚¨åº“ã€‚</p><ul><li><strong>å·¥ä½œåŒºï¼š</strong> æœ¬åœ°çœ‹åˆ°çš„å·¥ä½œç›®å½•ï¼›</li><li><strong>æš‚å­˜åŒºï¼š</strong> ä¸€èˆ¬å­˜æ”¾åœ¨ <code>.git</code> ç›®å½•ä¸‹çš„ index æ–‡ä»¶ï¼ˆ.git/indexï¼‰ä¸­ï¼Œæ‰€ä»¥æš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚æš‚å­˜åŒºæ˜¯ä¸€ä¸ªä¸´æ—¶ä¿å­˜ä¿®æ”¹æ–‡ä»¶çš„åœ°æ–¹ï¼›</li><li><strong>ç‰ˆæœ¬åº“ï¼š</strong> å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½• <code>.git</code>ï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯ Git çš„ç‰ˆæœ¬åº“ï¼Œç‰ˆæœ¬åº“ä¸­å­˜å‚¨äº†å¾ˆå¤šé…ç½®ä¿¡æ¯ã€æ—¥å¿—ä¿¡æ¯å’Œæ–‡ä»¶ç‰ˆæœ¬ä¿¡æ¯ç­‰ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/99c88f4aef734e5a8d0dbb319e44d38c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>Git å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶å­˜åœ¨ä¸¤ç§çŠ¶æ€ï¼š</p><ul><li>untrackedï¼šæœªè·Ÿè¸ªï¼Œæœªè¢«çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå³è¯¥æ–‡ä»¶æ²¡æœ‰è¢«Gitç‰ˆæœ¬ç®¡ç†ï¼›</li><li>trackedï¼šå·²è·Ÿè¸ªï¼Œè¢«çº³å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå³è¯¥æ–‡ä»¶å·²è¢«Gitç‰ˆæœ¬ç®¡ç†ã€‚</li></ul><p>å…¶ä¸­<strong>å·²è·Ÿè¸ªçŠ¶æ€</strong>å¯ä»¥ç»†åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ï¼š</p><ul><li>Unmodifiedï¼šæœªä¿®æ”¹çŠ¶æ€</li><li>Modifiedï¼šå·²ä¿®æ”¹çŠ¶æ€</li><li>Stagedï¼šå·²æš‚å­˜çŠ¶æ€</li></ul><p>å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥å½“å‰åˆ†æ”¯çš„çŠ¶æ€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/09fbd280c6be4e1c95af04fb94307ee9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>æ­¤å‘½ä»¤ä¸ä¼šæ›´æ”¹æˆ–æ›´æ–°ä»»ä½•å†…å®¹ã€‚å®ƒä¼šæ‰“å°å‡ºå“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹ã€æš‚å­˜æˆ–æœªè·Ÿè¸ªã€‚æœªè·Ÿè¸ªçš„æ–‡ä»¶æ˜¯å°šæœªæ·»åŠ åˆ° git ç´¢å¼•çš„æ–‡ä»¶ï¼Œè€Œè‡ªä¸Šæ¬¡æäº¤ä»¥æ¥å·²æ›´æ”¹çš„æ–‡ä»¶å°†è¢«è§†ä¸ºå·²è¢« git ä¿®æ”¹ã€‚</p><h2 id="äºŒã€Git-å…¥é—¨"><a href="#äºŒã€Git-å…¥é—¨" class="headerlink" title="äºŒã€Git å…¥é—¨"></a>äºŒã€Git å…¥é—¨</h2><h3 id="1-å…¨å±€é…ç½®"><a href="#1-å…¨å±€é…ç½®" class="headerlink" title="1. å…¨å±€é…ç½®"></a>1. å…¨å±€é…ç½®</h3><p>å½“å®‰è£…Gitåé¦–å…ˆè¦åšçš„å°±æ˜¯é…ç½®æ‰€æœ‰æœ¬åœ°å­˜å‚¨åº“ä¸­ä½¿ç”¨çš„ç”¨æˆ·ä¿¡æ¯ã€‚æ¯æ¬¡Gitæäº¤éƒ½ä¼šä½¿ç”¨è¯¥ç”¨æˆ·ä¿¡æ¯ã€‚</p><p>config å‘½ä»¤é€‚ç”¨äºä¸åŒçš„çº§åˆ«ï¼š</p><ul><li><strong>æœ¬åœ°çº§åˆ«ï¼š</strong> æ‰€æœ‰é…ç½®éƒ½ä»…é™äºé¡¹ç›®ç›®å½•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ å¦‚æœæœªé€šè¿‡ä»»ä½•é…ç½®, åˆ™git configå°†åœ¨æœ¬åœ°çº§åˆ«å†™å…¥ï¼›</li><li><strong>å…¨å±€çº§åˆ«ï¼š</strong> æ­¤é…ç½®ç‰¹å®šäºæ“ä½œç³»ç»Ÿä¸Šçš„ç”¨æˆ·ï¼Œé…ç½®å€¼ä½äºç”¨æˆ·çš„ä¸»ç›®å½•ä¸­ï¼›</li><li><strong>ç³»ç»Ÿçº§åˆ«ï¼š</strong> è¿™äº›é…ç½®æ”¾åœ¨ç³»ç»Ÿçš„æ ¹è·¯å¾„ä¸‹ï¼Œå®ƒè·Ÿè¸ªæ“ä½œç³»ç»Ÿä¸Šçš„æ‰€æœ‰ç”¨æˆ·å’Œæ‰€æœ‰å­˜å‚¨åº“ã€‚</li></ul><p>ä¸‹é¢çš„é…ç½®å‡ä¸ºå†™å…¥ç³»ç»Ÿçº§åˆ«ï¼š</p><h4 id="ï¼ˆ1ï¼‰è®¾ç½®ç”¨æˆ·å"><a href="#ï¼ˆ1ï¼‰è®¾ç½®ç”¨æˆ·å" class="headerlink" title="ï¼ˆ1ï¼‰è®¾ç½®ç”¨æˆ·å"></a>ï¼ˆ1ï¼‰è®¾ç½®ç”¨æˆ·å</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®ä½¿ç”¨ Git æ—¶çš„ç”¨æˆ·åï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;name&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è®¾ç½®çš„<code>user.name</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰è®¾ç½®é‚®ç®±"><a href="#ï¼ˆ2ï¼‰è®¾ç½®é‚®ç®±" class="headerlink" title="ï¼ˆ2ï¼‰è®¾ç½®é‚®ç®±"></a>ï¼ˆ2ï¼‰è®¾ç½®é‚®ç®±</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®ä½¿ç”¨ Git æ—¶çš„é‚®ç®±ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;email&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è®¾ç½®çš„ emailï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.email</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰è®¾ç½®å‘½ä»¤é¢œè‰²"><a href="#ï¼ˆ3ï¼‰è®¾ç½®å‘½ä»¤é¢œè‰²" class="headerlink" title="ï¼ˆ3ï¼‰è®¾ç½®å‘½ä»¤é¢œè‰²"></a>ï¼ˆ3ï¼‰è®¾ç½®å‘½ä»¤é¢œè‰²</h4><p>é™¤äº†ä¸Šè¿°ä¸¤ä¸ªåŸºæœ¬çš„è®¾ç½®ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®å‘½ä»¤çš„é¢œè‰²ï¼Œä»¥ä½¿è¾“å‡ºå…·æœ‰æ›´é«˜çš„å¯è¯»æ€§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> git config --global color.ui auto</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ4ï¼‰æŸ¥çœ‹æ‰€æœ‰é…ç½®"><a href="#ï¼ˆ4ï¼‰æŸ¥çœ‹æ‰€æœ‰é…ç½®" class="headerlink" title="ï¼ˆ4ï¼‰æŸ¥çœ‹æ‰€æœ‰é…ç½®"></a>ï¼ˆ4ï¼‰æŸ¥çœ‹æ‰€æœ‰é…ç½®</h4><p>é€šè¿‡ä¸Šé¢çš„å‘½ä»¤è®¾ç½®çš„ä¿¡æ¯ä¼šä¿å­˜åœ¨æœ¬åœ°çš„<code>.gitconfig</code>æ–‡ä»¶ä¸­ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨å…¨å±€è¾“å…¥è¿™ä¸ªå‘½ä»¤ï¼Œå°±ä¼šæ˜¾ç¤ºå…¨å±€çš„é…ç½®ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86cb98f4a4b74bc28700018cf8f43342~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¦‚æœåœ¨ä½¿ç”¨ Git çš„é¡¹ç›®ä¸­è¾“å…¥è¯¥å‘½ä»¤ï¼Œé™¤äº†ä¼šæ˜¾ç¤ºå…¨å±€çš„é…ç½®ä¹‹å¤–ï¼Œè¿˜ä¼šæ˜¾å¼æœ¬åœ°ä»“åº“çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1c289ca28b5b4944bcdcc31ba10dd020~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ5ï¼‰è®¾ç½®åˆ«å"><a href="#ï¼ˆ5ï¼‰è®¾ç½®åˆ«å" class="headerlink" title="ï¼ˆ5ï¼‰è®¾ç½®åˆ«å"></a>ï¼ˆ5ï¼‰è®¾ç½®åˆ«å</h4><p>git config å‘½ä»¤ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§åˆ›å»ºåˆ«åçš„æ–¹æ³•ï¼Œè¿™ç§åˆ«åé€šå¸¸ç”¨äºç¼©çŸ­ç°æœ‰çš„å‘½ä»¤æˆ–è€…åˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤ã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.cm <span class="string">&quot;commit -m&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸º<code>commit -m</code>åˆ›å»ºä¸€ä¸ªåˆ«å <code>cm</code>ï¼Œè¿™æ ·åœ¨æäº¤æš‚å­˜åŒºæ–‡ä»¶æ—¶ï¼Œåªéœ€è¦è¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cm &lt;message&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="2-åˆ†æ”¯æ“ä½œ"><a href="#2-åˆ†æ”¯æ“ä½œ" class="headerlink" title="2. åˆ†æ”¯æ“ä½œ"></a>2. åˆ†æ”¯æ“ä½œ</h3><p>åˆ†æ”¯æ˜¯æºä»£ç æ§åˆ¶çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒå…è®¸å°†å·¥ä½œåˆ†ç¦»åˆ°ä¸åŒçš„åˆ†æ”¯ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥è‡ªç”±åœ°å¤„ç†æºä»£ç ï¼Œè€Œä¸ä¼šå½±å“å…¶ä»–ä»»ä½•äººçš„å·¥ä½œæˆ–ä¸»åˆ†æ”¯ä¸­çš„ä»£ç ã€‚ä¸‹é¢æ¥çœ‹ä¸€äº›å¸¸è§çš„åˆ†æ”¯æ“ä½œã€‚</p><h4 id="ï¼ˆ1ï¼‰æŸ¥çœ‹åˆ†æ”¯"><a href="#ï¼ˆ1ï¼‰æŸ¥çœ‹åˆ†æ”¯" class="headerlink" title="ï¼ˆ1ï¼‰æŸ¥çœ‹åˆ†æ”¯"></a>ï¼ˆ1ï¼‰æŸ¥çœ‹åˆ†æ”¯</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å½“ç„¶æ‰€åœ¨çš„åˆ†æ”¯ä»¥åŠè¯¥é¡¹ç›®æ‰€æœ‰çš„åˆ†æ”¯æƒ…å†µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤å¯ä»¥åˆ—å‡ºé¡¹ç›®æ‰€æœ‰çš„<strong>æœ¬åœ°åˆ†æ”¯</strong>ï¼Œæ˜¾ç¤ºç»¿è‰²çš„åˆ†æ”¯å°±æ˜¯å½“å‰åˆ†æ”¯ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fad456dfdb24e25b27b78ce8ac9cd7e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ—å‡ºæ‰€æœ‰çš„è¿œç¨‹åˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -r</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/377a399ab61d4153ab61c0adb602c01a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ‰€æœ‰çš„æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4070a7c5af9049228f2411ae37343650~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ2ï¼‰åˆ›å»ºåˆ†æ”¯"><a href="#ï¼ˆ2ï¼‰åˆ›å»ºåˆ†æ”¯" class="headerlink" title="ï¼ˆ2ï¼‰åˆ›å»ºåˆ†æ”¯"></a>ï¼ˆ2ï¼‰åˆ›å»ºåˆ†æ”¯</h4><p>æˆ‘ä»¬åœ¨è®¡ç®—æœºä¸Šåªèƒ½è®¿é—®æœ¬åœ°åˆ†æ”¯ï¼Œåœ¨å°†åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºåˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>åŠ ä¸Š<code>-b</code>å°±å¯ä»¥åœ¨åˆ›å»ºæ–°çš„åˆ†æ”¯ä¹‹åï¼Œç›´æ¥åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„åˆ†æ”¯ä¸Šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³å°†æ–°å»ºçš„æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œä»¥åœ¨è¿œç¨‹ä»“åº“æ·»åŠ è¿™ä¸ªåˆ†æ”¯ã€‚å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin &lt;branch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰åˆ é™¤åˆ†æ”¯"><a href="#ï¼ˆ3ï¼‰åˆ é™¤åˆ†æ”¯" class="headerlink" title="ï¼ˆ3ï¼‰åˆ é™¤åˆ†æ”¯"></a>ï¼ˆ3ï¼‰åˆ é™¤åˆ†æ”¯</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥<strong>åˆ é™¤æœ¬åœ°åˆ†æ”¯</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œåœ¨åˆ é™¤åˆ†æ”¯ä¹‹å‰ï¼Œè¦å…ˆåˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c646683a4a540efa11fecc13c6b69b8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯å†åˆ é™¤å³å¯ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/864f5fbac63b4648a07275e44d6c73e6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>æœ‰æ—¶ Git ä¼šæ‹’ç»åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼Œå› ä¸ºè¦åˆ çš„åˆ†æ”¯å¯èƒ½æœ‰æœªæäº¤çš„ä»£ç ã€‚è¿™æ˜¯ä¸ºäº†ä¿æŠ¤ä»£ç ä»¥é¿å…æ„å¤–ä¸¢å¤±æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥<strong>å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -D &lt;branch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ é™¤æˆåŠŸäº†ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/317c0759f61c4eb1949ef408e7eae5c1~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥<strong>åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯</strong>ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete &lt;name&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ4ï¼‰åˆå¹¶åˆ†æ”¯"><a href="#ï¼ˆ4ï¼‰åˆå¹¶åˆ†æ”¯" class="headerlink" title="ï¼ˆ4ï¼‰åˆå¹¶åˆ†æ”¯"></a>ï¼ˆ4ï¼‰åˆå¹¶åˆ†æ”¯</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶ä»–åˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git merge &lt;branch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³å°†Aåˆ†æ”¯åˆå¹¶åˆ°Båˆ†æ”¯ï¼Œå°±è¦å…ˆåˆ‡æ¢åˆ°Båˆ†æ”¯ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ï¼š<code>git merge A</code>ã€‚</p><h4 id="ï¼ˆ5ï¼‰é‡å‘½ååˆ†æ”¯"><a href="#ï¼ˆ5ï¼‰é‡å‘½ååˆ†æ”¯" class="headerlink" title="ï¼ˆ5ï¼‰é‡å‘½ååˆ†æ”¯"></a>ï¼ˆ5ï¼‰é‡å‘½ååˆ†æ”¯</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å°†åˆ†æ”¯é‡å‘½åï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -m &lt;oldname&gt; &lt;newname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœ<code>newname</code>åå­—åˆ†æ”¯å·²ç»å­˜åœ¨ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>-M</code>æ¥å¼ºåˆ¶é‡å‘½åï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -M &lt;oldname&gt; &lt;newname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="3-åŸºç¡€æ“ä½œ"><a href="#3-åŸºç¡€æ“ä½œ" class="headerlink" title="3. åŸºç¡€æ“ä½œ"></a>3. åŸºç¡€æ“ä½œ</h3><p>Git æ•°æ®å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d36c5cd6eaf843a3a53377753c78e2a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ1ï¼‰æš‚å­˜æ–‡ä»¶"><a href="#ï¼ˆ1ï¼‰æš‚å­˜æ–‡ä»¶" class="headerlink" title="ï¼ˆ1ï¼‰æš‚å­˜æ–‡ä»¶"></a>ï¼ˆ1ï¼‰æš‚å­˜æ–‡ä»¶</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æš‚å­˜å·²ä¿®æ”¹çš„æ–‡ä»¶ï¼Œå‘½ä»¤æœ€åéœ€è¦æŒ‡å®šè¦æš‚å­˜çš„æ–‡ä»¶åç§°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;filename&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦å°†æ‰€æœ‰æœªè·Ÿè¸ªå’Œä¿®æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åˆ†æ”¯çš„çŠ¶æ€å¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fac5f0610fe84af8b61983837be1a8ea~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ2ï¼‰æäº¤æš‚å­˜"><a href="#ï¼ˆ2ï¼‰æäº¤æš‚å­˜" class="headerlink" title="ï¼ˆ2ï¼‰æäº¤æš‚å­˜"></a>ï¼ˆ2ï¼‰æäº¤æš‚å­˜</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æš‚å­˜åŒºçš„æ–‡ä»¶ä¿®æ”¹æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;meaasge&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>-m</code>å‚æ•°è¡¨ç¤º<code>message</code>æ—¥å¿—ä¿¡æ¯ï¼Œå‚æ•°åé¢è¦åŠ ä¸€ä¸ªæ—¥å¿—ä¿¡æ¯ï¼Œç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚</p><p>æ­¤æ—¶åˆ†æ”¯çš„çŠ¶æ€å¦‚ä¸‹ï¼š <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3bcf8d55444f49609df0ab618a64400d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"> å¦‚æœä¸Šæ¬¡æäº¤æš‚å­˜çš„<code>messge</code>å†™é”™äº†æ€ä¹ˆåŠå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ›´æ–°æäº¤ï¼Œè€Œä¸éœ€è¦æ’¤é”€å¹¶é‡æ–°æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend -m &lt;message&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰ä¸€ä¸ªæ–°çš„æ–‡ä»¶ä¿®æ”¹ï¼Œä¹Ÿæƒ³æäº¤åˆ°ä¸Šä¸€ä¸ªcommitä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä¿æŒç›¸åŒçš„æäº¤ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit --amend --no-edit</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰å­˜å‚¨æ›´æ”¹"><a href="#ï¼ˆ3ï¼‰å­˜å‚¨æ›´æ”¹" class="headerlink" title="ï¼ˆ3ï¼‰å­˜å‚¨æ›´æ”¹"></a>ï¼ˆ3ï¼‰å­˜å‚¨æ›´æ”¹</h4><p>å‡å¦‚æˆ‘ä»¬æ­£åœ¨å¼€å‘è¿­ä»£åŠŸèƒ½ï¼Œä½†æ˜¯è¿˜æ²¡å¼€å‘å®Œã€‚è¿™æ—¶æœ‰ä¸€ä¸ªç´§æ€¥çš„bugéœ€è¦ä¿®å¤ä¸Šçº¿ã€‚å¯èƒ½å°±éœ€è¦åˆ‡æ¢åˆ°ä¸€ä¸ªhotfixåˆ†æ”¯å»ä¿®å¤bugã€‚è¿™æ—¶å¯¹äºå¼€å‘äº†ä¸€éƒ¨åˆ†çš„åŠŸèƒ½åˆ›å»ºæäº¤æ˜¯æ²¡æœ‰é€»è¾‘æ„ä¹‰çš„ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€å‘½ä»¤æ¥å­˜å‚¨ä¿®æ”¹çš„å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br><span class="line">git stash push</span><br><span class="line">git stash push -m <span class="string">&quot;&lt;stash message&gt;&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤å›ä¿å­˜æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹å¹¶æ¢å¤åˆ°ä¸Šæ¬¡æäº¤æ—¶å­˜å‚¨åº“çš„çŠ¶æ€ã€‚</p><p>å½“æƒ³å†æ¬¡ç»§ç»­å¼€å‘æ­¤åŠŸèƒ½æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æ‰€æœ‰å­˜å‚¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ—¶ç»ˆç«¯ä¸­å°±ä¼šæ˜¾ç¤ºå¸¦æœ‰æ—¶é—´æˆ³çš„æ‰€æœ‰å·²ç»æš‚å­˜çš„åˆ—è¡¨ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€å‘½ä»¤æ¥å–å›æ‰€æœ‰çš„æ›´æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash apply</span><br><span class="line">git stash pop</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>apply å’Œ pop ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼Œpop åº”ç”¨äº† stash ä¸­çš„æ›´æ”¹å¹¶å°†å…¶ä¹Ÿä» stash ä¸­åˆ é™¤ï¼Œä½† apply å³ä½¿åœ¨åº”ç”¨åä»å°†æ›´æ”¹ä¿ç•™åœ¨ stash ä¸­ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€å‘½ä»¤åº”ç”¨å­˜å‚¨åˆ—è¡¨ä¸­çš„ç¬¬ N ä¸ªå­˜å‚¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash apply stash@&#123;N&#125;</span><br><span class="line">git stash apply &lt;n&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ•´ä¸ªè¿‡ç¨‹çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f5dce784f14b494189ec74ec14a36b4e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ4ï¼‰åˆå¹¶æŒ‡å®šæäº¤"><a href="#ï¼ˆ4ï¼‰åˆå¹¶æŒ‡å®šæäº¤" class="headerlink" title="ï¼ˆ4ï¼‰åˆå¹¶æŒ‡å®šæäº¤"></a>ï¼ˆ4ï¼‰åˆå¹¶æŒ‡å®šæäº¤</h4><p>åœ¨ä¸åŒåˆ†æ”¯ä¹‹é—´è¿›è¡Œä»£ç åˆå¹¶æ—¶ï¼Œé€šå¸¸ä¼šæœ‰ä¸¤ç§æƒ…å†µï¼šä¸€ç§æƒ…å†µæ˜¯éœ€è¦å¦ä¸€ä¸ªåˆ†æ”¯çš„æ‰€æœ‰ä»£ç å˜åŠ¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥åˆå¹¶ï¼ˆgit mergeï¼‰ï¼Œå¦ä¸€ç§æƒ…å†µæ˜¯åªéœ€è¦éƒ¨åˆ†ä»£ç çš„å˜åŠ¨ï¼ˆæŸå‡ æ¬¡æäº¤ï¼‰ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆå¹¶æŒ‡å®šçš„æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick &lt;commit <span class="built_in">hash</span>&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å»ºè®®æ·»åŠ  <code>-x</code> æ ‡å¿—ï¼Œå› ä¸ºå®ƒä¼šç”Ÿæˆæ ‡å‡†åŒ–çš„æäº¤æ¶ˆæ¯ï¼Œé€šçŸ¥ç”¨æˆ·å®ƒæ˜¯ä»å“ªé‡Œpickå‡ºæ¥çš„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick -x &lt;commit <span class="built_in">hash</span>&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆè¿™ä¸ª<code>commit hash</code>æ˜¯ä»å“ªé‡Œæ¥çš„å‘¢ï¼Ÿå¯ä»¥åœ¨éœ€è¦è¢«åˆå¹¶çš„åˆ†æ”¯ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ—¶ç»ˆç«¯å°±ä¼šæ˜¾ç¤ºå‡ºæ‰€æœ‰çš„æäº¤ä¿¡æ¯ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5af0e48387e24ef5843da2394c5c9163~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>è¿™é‡Œé»„è‰²æ–‡å­—ä¸­<code>commit</code>åé¢çš„éƒ¨åˆ†å°±æ˜¯<code>commit hash</code>ï¼Œå¤åˆ¶å³å¯ã€‚</p><h4 id="ï¼ˆ5ï¼‰æ£€æŸ¥æäº¤"><a href="#ï¼ˆ5ï¼‰æ£€æŸ¥æäº¤" class="headerlink" title="ï¼ˆ5ï¼‰æ£€æŸ¥æäº¤"></a>ï¼ˆ5ï¼‰æ£€æŸ¥æäº¤</h4><p>Gitå…è®¸æˆ‘ä»¬åœ¨æœ¬åœ°æ£€æŸ¥ç‰¹å®šçš„æäº¤ã€‚è¾“å…¥ä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥æŸ¥çœ‹æœ‰å…³å½“å‰æäº¤çš„è¯¦ç»†ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¾“å‡ºçš„ç»“æ„å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ˜¾ç¤ºå‡ºäº†ä¸Šæ¬¡æäº¤çš„commit idã€ä½œè€…ä¿¡æ¯ï¼ˆé‚®ç®±å’Œå§“åï¼‰ã€æäº¤æ—¥æœŸã€commit messageã€ä»£ç diffç­‰ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/939d9db4d91140d1b6eb7e1dd45e6476~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>è¿˜å¯ä»¥ä½¿ç”¨<code>HEAD~n</code>è¯­æ³•æˆ–æäº¤å“ˆå¸Œæ¥æ£€æŸ¥è¿‡å»çš„æäº¤ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥è·å–å¾€å‰æ•°çš„ç¬¬ä¸‰æ¬¡æäº¤çš„è¯¦ç»†ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show HEAD~3</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ª<code>--oneline</code>æ ‡å¿—ï¼Œä»¥ç®€åŒ–è¾“å‡ºä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show --oneline</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·æäº¤ä¿¡æ¯å°±ç®€æ´äº†å¾ˆå¤šï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9447a1fada5542859855606e6eeba6b2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ6ï¼‰æŸ¥çœ‹è´¡çŒ®è€…"><a href="#ï¼ˆ6ï¼‰æŸ¥çœ‹è´¡çŒ®è€…" class="headerlink" title="ï¼ˆ6ï¼‰æŸ¥çœ‹è´¡çŒ®è€…"></a>ï¼ˆ6ï¼‰æŸ¥çœ‹è´¡çŒ®è€…</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è¿”å›æ¯ä¸ªè´¡çŒ®è€…çš„commitæ¬¡æ•°ä»¥åŠæ¯æ¬¡commitçš„commit messageï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git shortlog</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶å¯ä»¥æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li>sï¼šçœç•¥æ¯æ¬¡ commit çš„æ³¨é‡Šï¼Œä»…ä»…è¿”å›ä¸€ä¸ªç®€å•çš„ç»Ÿè®¡ã€‚</li><li>nï¼šæŒ‰ç…§ commit æ•°é‡ä»å¤šåˆ°å°‘çš„é¡ºåˆ©å¯¹ç”¨æˆ·è¿›è¡Œæ’åºã€‚</li></ul><p>åŠ ä¸Šè¿™ä¸¤ä¸ªå‚æ•°ä¹‹åå°±å¯ä»¥çœ‹åˆ°æ¯ä¸ªç”¨æˆ·ä¸­çš„æäº¤æ¬¡æ•°ä»¥åŠæ’åæƒ…å†µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git shortlog -sn</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¼šæ˜¾ç¤ºå‡ºè¯¥é¡¹ç›®æ‰€æœ‰è´¡çŒ®è€…çš„commitæ¬¡æ•°ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡å‡å°ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f72c942ecf6841808bafea9b535301e7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ª<code>--no-merges</code>æ ‡å¿—ï¼Œä»¥å¿½ç•¥åˆå¹¶æäº¤çš„æ¬¡æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> git shortlog -sn --no-merges</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="4-è¿œç¨‹æ“ä½œ"><a href="#4-è¿œç¨‹æ“ä½œ" class="headerlink" title="4. è¿œç¨‹æ“ä½œ"></a>4. è¿œç¨‹æ“ä½œ</h3><h4 id="ï¼ˆ1ï¼‰æŸ¥çœ‹è¿œç¨‹ä»“åº“"><a href="#ï¼ˆ1ï¼‰æŸ¥çœ‹è¿œç¨‹ä»“åº“" class="headerlink" title="ï¼ˆ1ï¼‰æŸ¥çœ‹è¿œç¨‹ä»“åº“"></a>ï¼ˆ1ï¼‰æŸ¥çœ‹è¿œç¨‹ä»“åº“</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šåˆ—å‡ºæŒ‡å®šçš„æ¯ä¸€ä¸ªè¿œç¨‹æœåŠ¡å™¨çš„ç®€å†™ã€‚ å¦‚æœå·²ç»å…‹éš†äº†è¿œç¨‹ä»“åº“ï¼Œé‚£ä¹ˆè‡³å°‘åº”è¯¥èƒ½çœ‹åˆ° origin ï¼Œè¿™æ˜¯ Git å…‹éš†çš„ä»“åº“æœåŠ¡å™¨çš„é»˜è®¤åå­—ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4221bca2640943a59363d1a2fbcf3c73~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è·å–è¿œç¨‹ä»“åº“çš„åœ°å€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>fetch</code>æ˜¯è·å–ï¼Œ<code>push</code>æ˜¯æ¨é€ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb0213147d02414db4d697f62f54dfab~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote show origin</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/99795be2e4a64a8499d2fde9e2a3adff~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ2ï¼‰æ·»åŠ è¿œç¨‹ä»“åº“"><a href="#ï¼ˆ2ï¼‰æ·»åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="ï¼ˆ2ï¼‰æ·»åŠ è¿œç¨‹ä»“åº“"></a>ï¼ˆ2ï¼‰æ·»åŠ è¿œç¨‹ä»“åº“</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å°†æœ¬åœ°é¡¹ç›®é“¾æ¥åˆ°è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;remote_name&gt; &lt;remote_url&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><code>remote_name</code>ï¼šä»“åº“åç§°ï¼ˆé»˜è®¤æ˜¯originï¼‰</li><li><code>remote_url</code>ï¼šè¿œç¨‹ä»“åº“åœ°å€</li></ul><p>è¯¥å‘½ä»¤å…è®¸ Git è·Ÿè¸ªè¿œç¨‹å­˜å‚¨åº“å¹¶å°†æœ¬åœ°å­˜å‚¨åº“è¿æ¥åˆ°è¿œç¨‹ä»“åº“ã€‚</p><h4 id="ï¼ˆ3ï¼‰ç§»é™¤è¿œç¨‹ä»“åº“"><a href="#ï¼ˆ3ï¼‰ç§»é™¤è¿œç¨‹ä»“åº“" class="headerlink" title="ï¼ˆ3ï¼‰ç§»é™¤è¿œç¨‹ä»“åº“"></a>ï¼ˆ3ï¼‰ç§»é™¤è¿œç¨‹ä»“åº“</h4><p>å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¥ç§»é™¤è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œè¯¥å‘½ä»¤åªæ˜¯ä»æœ¬åœ°ç§»é™¤è¿œç¨‹ä»“åº“çš„è®°å½•ï¼ˆä¹Ÿå°±æ˜¯è§£é™¤æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“çš„å…³ç³»ï¼‰ï¼Œå¹¶ä¸ä¼šçœŸæ­£å½±å“åˆ°è¿œç¨‹ä»“åº“ã€‚</p><h4 id="ï¼ˆ4ï¼‰ä»è¿œç¨‹ä»“åº“æŠ“å–ä¸æ‹‰å–"><a href="#ï¼ˆ4ï¼‰ä»è¿œç¨‹ä»“åº“æŠ“å–ä¸æ‹‰å–" class="headerlink" title="ï¼ˆ4ï¼‰ä»è¿œç¨‹ä»“åº“æŠ“å–ä¸æ‹‰å–"></a>ï¼ˆ4ï¼‰ä»è¿œç¨‹ä»“åº“æŠ“å–ä¸æ‹‰å–</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ä»“åº“ï¼Œä¸ä¼šè‡ªåŠ¨mergeï¼ˆåˆå¹¶æ•°æ®ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç”±äºè¯¥å‘½ä»¤ä¸ä¼šè‡ªå®šåˆå¹¶æ•°æ®ï¼Œæ‰€ä»¥è¯¥å‘½ä»¤æ‰§è¡Œå®Œåéœ€è¦æ‰‹åŠ¨æ‰§è¡Œ git merge è¿œç¨‹åˆ†æ”¯åˆ°æ‰€åœ¨çš„åˆ†æ”¯ã€‚</p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å°†<strong>è¿œç¨‹æŒ‡å®šåˆ†æ”¯</strong>æ‹‰å–åˆ°<strong>æœ¬åœ°æŒ‡å®šåˆ†æ”¯ä¸Š</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull origin &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å°†<strong>è¿œç¨‹æŒ‡å®šåˆ†æ”¯</strong>æ‹‰å–åˆ°<strong>æœ¬åœ°å½“å‰åˆ†æ”¯ä¸Š</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull origin &lt;è¿œç¨‹åˆ†æ”¯å&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¼€å°†<strong>ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯</strong>æ‹‰å–åˆ°<strong>æœ¬åœ°å½“å‰åˆ†æ”¯ä¸Šï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœå½“å‰æœ¬åœ°ä»“åº“ä¸æ˜¯ä»è¿œç¨‹ä»“åº“å…‹éš†ï¼Œè€Œæ˜¯æœ¬åœ°åˆ›å»ºçš„ä»“åº“ï¼Œå¹¶ä¸”ä»“åº“ä¸­å­˜åœ¨æ–‡ä»¶ï¼Œæ­¤æ—¶å†ä»è¿œç¨‹ä»“åº“æ‹‰å–æ–‡ä»¶çš„æ—¶å€™ä¼šæŠ¥é”™ï¼ˆ<code>fatal: refusing to merge unrelated histories</code> ï¼‰ï¼Œè§£å†³æ­¤é—®é¢˜å¯ä»¥åœ¨<code>git pull</code>å‘½ä»¤ååŠ å…¥å‚æ•°<code>--allow-unrelated-histories</code>ï¼Œå³ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull --allow-unrelated-histories</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ5ï¼‰æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#ï¼ˆ5ï¼‰æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="ï¼ˆ5ï¼‰æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>ï¼ˆ5ï¼‰æ¨é€åˆ°è¿œç¨‹ä»“åº“</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†<strong>æœ¬åœ°æŒ‡å®šåˆ†æ”¯</strong>æ¨é€åˆ°<strong>è¿œç¨‹æŒ‡å®šåˆ†æ”¯ä¸Š</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†<strong>æœ¬åœ°æŒ‡å®šåˆ†æ”¯</strong>æ¨é€åˆ°<strong>ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯ä¸Šï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;æœ¬åœ°åˆ†æ”¯å&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†<strong>æœ¬åœ°å½“å‰åˆ†æ”¯</strong>æ¨é€åˆ°<strong>ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯ä¸Š</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åŒååˆ†æ”¯ç›¸å…³è”ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin &lt;æœ¬åœ°åˆ†æ”¯å&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†-uå‚æ•°ï¼ŒGitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„masteråˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ä¸ºgit pushã€‚</p><h2 id="ä¸‰ã€Git-è¿›é˜¶"><a href="#ä¸‰ã€Git-è¿›é˜¶" class="headerlink" title="ä¸‰ã€Git è¿›é˜¶"></a>ä¸‰ã€Git è¿›é˜¶</h2><h3 id="1-ä¿®æ”¹æ“ä½œ"><a href="#1-ä¿®æ”¹æ“ä½œ" class="headerlink" title="1. ä¿®æ”¹æ“ä½œ"></a>1. ä¿®æ”¹æ“ä½œ</h3><p>å¦‚æœåªæ˜¯ç®€å•åœ°ä»å·¥ä½œç›®å½•ä¸­æ‰‹å·¥åˆ é™¤æ–‡ä»¶ï¼Œè¿è¡Œ <code>git status</code> æ—¶å°±ä¼šåœ¨ Changes not staged for commit çš„æç¤º</p><h4 id="ï¼ˆ1ï¼‰åˆ é™¤æ–‡ä»¶"><a href="#ï¼ˆ1ï¼‰åˆ é™¤æ–‡ä»¶" class="headerlink" title="ï¼ˆ1ï¼‰åˆ é™¤æ–‡ä»¶"></a>ï¼ˆ1ï¼‰åˆ é™¤æ–‡ä»¶</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ–‡ä»¶ä»æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­åˆ é™¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm &lt;filename&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœåˆ é™¤ä¹‹å‰ä¿®æ”¹è¿‡å¹¶ä¸”å·²ç»æ”¾åˆ°æš‚å­˜åŒºåŸŸçš„è¯ï¼Œåˆ™å¿…é¡»è¦ç”¨å¼ºåˆ¶åˆ é™¤é€‰é¡¹ <code>-f</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm -f &lt;filename&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³æŠŠæ–‡ä»¶ä»æš‚å­˜åŒºåŸŸç§»é™¤ï¼Œä½†ä»ç„¶å¸Œæœ›ä¿ç•™åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ï¼Œæ¢å¥è¯è¯´ï¼Œä»…æ˜¯ä»è·Ÿè¸ªæ¸…å•ä¸­åˆ é™¤ï¼Œä½¿ç”¨ <code>--cached</code> é€‰é¡¹å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;filename&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œé€’å½’åˆ é™¤ï¼Œå³å¦‚æœåé¢è·Ÿçš„æ˜¯ä¸€ä¸ªç›®å½•åšä¸ºå‚æ•°ï¼Œåˆ™ä¼šé€’å½’åˆ é™¤æ•´ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm â€“r * </span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿›å…¥æŸä¸ªç›®å½•ä¸­ï¼Œæ‰§è¡Œæ­¤è¯­å¥ï¼Œå°±ä¼šåˆ é™¤è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ã€‚</p><h4 id="ï¼ˆ2ï¼‰å–æ¶ˆä¿®æ”¹"><a href="#ï¼ˆ2ï¼‰å–æ¶ˆä¿®æ”¹" class="headerlink" title="ï¼ˆ2ï¼‰å–æ¶ˆä¿®æ”¹"></a>ï¼ˆ2ï¼‰å–æ¶ˆä¿®æ”¹</h4><p>å–æ¶ˆä¿®æ”¹æœ‰ä¸‰ç§æƒ…å†µï¼š</p><p><strong>1ï¼‰æœªä½¿ç”¨ git add å°†ä¿®æ”¹æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº</strong> è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ’¤é”€æ‰€æœ‰è¿˜æ²¡æœ‰åŠ å…¥åˆ°ç¼“å­˜åŒºçš„ä¿®æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- &lt;filename&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œæ­¤æ–‡ä»¶ä¸ä¼šåˆ é™¤æ–°å»ºçš„æ–‡ä»¶ï¼Œå› ä¸ºæ–°å»ºçš„æ–‡ä»¶è¿˜æ²¡åŠ å…¥åˆ°Gitç®¡ç†ç³»ç»Ÿé‡ï¼Œæ‰€ä»¥å¯¹Gitæ¥è¯´äº‹æœªçŸ¥çš„ï¼Œéœ€è¦æ‰‹åŠ¨åˆ é™¤ã€‚</p><p><strong>2ï¼‰å·²ä½¿ç”¨ git add å°†ä¿®æ”¹æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œæœªä½¿ç”¨ git commit æäº¤ç¼“å­˜</strong> è¿™ç§æƒ…å†µä¸‹ï¼Œç›¸å½“äºæ’¤é”€äº† git add å‘½ä»¤å¯¹äºæ–‡ä»¶ä¿®æ”¹çš„ç¼“å­˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;filename&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‘½ä»¤å¯ä»¥æ’¤é”€æŒ‡å®šæ–‡ä»¶çš„ç¼“å­˜ï¼Œè¦æƒ³æ”¾å¼ƒæ‰€æœ‰æ–‡ä»¶çš„ç¼“å­˜ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œåœ¨ä½¿ç”¨æ­¤å‘½ä»¤åï¼Œæœ¬åœ°çš„ä¿®æ”¹å¹¶ä¸ä¼šæ¶ˆå¤±ï¼Œè€Œä¼šå›åˆ°ç¬¬ä¸€ç§æƒ…å†µã€‚è¦æƒ³æ’¤é”€æœ¬åœ°çš„ä¿®æ”¹ï¼Œæ‰§è¡Œç¬¬ä¸€ç§æƒ…å†µä¸­çš„å‘½ä»¤å³å¯ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šè¿”å›åˆ°Næ¬¡æäº¤ä¹‹å‰çš„é˜¶æ®µï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD~N</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±èƒ½é€€å›åˆ°nä¸ªç‰ˆæœ¬ä¹‹å‰ï¼ŒåŒæ ·ä¸ä¼šä¿®æ”¹æœ¬åœ°æ–‡ä»¶çš„å†…å®¹ï¼Œè¿™äº›æ–°çš„å†…å®¹ä¼šå˜æˆæœªæ›´æ–°åˆ°ç¼“å­˜åŒºçš„çŠ¶æ€ã€‚</p><p><strong>3ï¼‰å·²ä½¿ç”¨ git commit æäº¤ç¼“å­˜</strong> è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å›é€€åˆ°ä¸Šä¸€æ¬¡ commit çš„çŠ¶æ€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å›é€€åˆ°ä»»æ„ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commit_id&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œä½¿ç”¨ git log å‘½ä»¤æ¥æŸ¥çœ‹ git æäº¤å†å²å’Œ commit idã€‚</p><h4 id="ï¼ˆ3ï¼‰æ¢å¤åˆ é™¤å†…å®¹"><a href="#ï¼ˆ3ï¼‰æ¢å¤åˆ é™¤å†…å®¹" class="headerlink" title="ï¼ˆ3ï¼‰æ¢å¤åˆ é™¤å†…å®¹"></a>ï¼ˆ3ï¼‰æ¢å¤åˆ é™¤å†…å®¹</h4><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„å‘½ä»¤ï¼Œå‡å¦‚ä½ å›é€€åˆ°æŸä¸ªæ—§ç‰ˆæœ¬ï¼Œç°åœ¨æƒ³æ¢å¤åˆ°æ–°ç‰ˆæœ¬ï¼Œåˆæ‰¾ä¸åˆ°æ–°ç‰ˆæœ¬çš„commit idæ€ä¹ˆåŠï¼Ÿ<strong>Git</strong>æä¾›äº†ä¸‹é¢çš„å‘½ä»¤ç”¨æ¥è®°å½•æ¯ä¸€æ¬¡å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reflog show HEAD</span><br><span class="line">git reflog</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¹‹åè¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55f3fc350b1c4b78b0785bf7da13c926~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ€å·¦ä¾§é»„è‰²å­—ä½“å°±æ˜¯ä¿®æ”¹çš„commit idï¼Œæ ¹æ®è¿™ä¸ªidå°±å¯ä»¥å°†ä»£ç æ¢å¤åˆ°å¯¹åº”èŠ‚ç‚¹ä½ç½®ã€‚HEAD@{n}è¡¨ç¤ºHEADæ›´æ”¹å†å²è®°å½•ï¼Œæœ€è¿‘çš„æ“ä½œåœ¨ä¸Šé¢ã€‚</p><p>å‡å¦‚éœ€è¦æŠŠä»£ç å›é€€åˆ°<code>HEAD@&#123;5&#125;</code>å¤„ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD@&#123;5&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æˆ–è€…æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard 8a0fd74</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„ï¼Œå¦‚æœæœ‰ä»»ä½•æœ¬åœ°ä¿®æ”¹ï¼Œè¯¥å‘½ä»¤ä¹Ÿä¼šå°†å…¶é”€æ¯ï¼Œå› æ­¤åœ¨<code>reset</code>ä¹‹å‰å»ºè®®ä½¿ç”¨<code>stash</code>å°†æœ¬åœ°ä¿®æ”¹å‚¨å­˜ã€‚</p><h3 id="2-æ ‡ç­¾æ“ä½œ"><a href="#2-æ ‡ç­¾æ“ä½œ" class="headerlink" title="2. æ ‡ç­¾æ“ä½œ"></a>2. æ ‡ç­¾æ“ä½œ</h3><p>æ ‡ç­¾æŒ‡çš„æ˜¯<strong>æŸä¸ªåˆ†æ”¯æŸä¸ªç‰¹å®šæ—¶é—´ç‚¹çš„çŠ¶æ€</strong>ï¼Œé€šè¿‡æ ‡ç­¾å¯ä»¥å¾ˆæ–¹ä¾¿çš„äº†è§£åˆ°æ ‡è®°æ—¶çš„çŠ¶æ€ã€‚</p><p>æ ‡ç­¾æœ‰ä¸¤ç§ç±»å‹ ï¼š</p><ul><li><strong>è½»é‡æ ‡ç­¾ ï¼š</strong> åªæ˜¯æŸä¸ªcommit çš„å¼•ç”¨ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªcommitçš„åˆ«åï¼›</li><li><strong>é™„æ³¨æ ‡ç­¾ ï¼š</strong> å­˜å‚¨åœ¨Gitä»“åº“ä¸­çš„ä¸€ä¸ªå®Œæ•´å¯¹è±¡ï¼ŒåŒ…å«æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´ ä»¥åŠå…¶ä»–çš„æ ‡ç­¾ä¿¡æ¯ã€‚å®ƒæ˜¯å¯ä»¥è¢«æ ¡éªŒçš„ï¼Œå¯ä»¥ä½¿ç”¨ GNU Privacy Guard (GPG) ç­¾åå¹¶éªŒè¯ã€‚</li></ul><h4 id="ï¼ˆ1ï¼‰å±•ç¤ºæ ‡ç­¾"><a href="#ï¼ˆ1ï¼‰å±•ç¤ºæ ‡ç­¾" class="headerlink" title="ï¼ˆ1ï¼‰å±•ç¤ºæ ‡ç­¾"></a>ï¼ˆ1ï¼‰å±•ç¤ºæ ‡ç­¾</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è·å–æ‰€æœ‰æ ‡ç­¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å®ƒä¼šåˆ—å‡ºæ‰€æœ‰æ ‡ç­¾çš„åç§°ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c4ab437eb984639aed433d57dc3ebf8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æŸä¸€ä¸ªæ ‡ç­¾çš„è¯¦ç»†ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git show &lt;tag_name&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04d39644c4b5441ab019b82c02be8789~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>è¿˜å¯ä»¥æ ¹æ®æ¡ä»¶æ¥æ˜¾ç¤ºæ ‡ç­¾ï¼Œæ¯”å¦‚åˆ—å‡ºä»¥<code>v1.</code>å¼€å¤´çš„æ‰€æœ‰tagï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -l <span class="string">&quot;v1.&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰åˆ›å»ºæ ‡ç­¾"><a href="#ï¼ˆ2ï¼‰åˆ›å»ºæ ‡ç­¾" class="headerlink" title="ï¼ˆ2ï¼‰åˆ›å»ºæ ‡ç­¾"></a>ï¼ˆ2ï¼‰åˆ›å»ºæ ‡ç­¾</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æœ¬åœ°åˆ›å»ºæ–°æ ‡ç­¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;tag_name&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag v1.0.0</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é€šå¸¸éµå¾ªçš„å‘½åæ¨¡å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>majorï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰ï¼šé‡å¤§å˜åŒ–</li><li>minorï¼ˆæ¬¡è¦ç‰ˆæœ¬å·ï¼‰ï¼šç‰ˆæœ¬ä¸å…ˆå‰ç‰ˆæœ¬å…¼å®¹</li><li>patchï¼ˆè¡¥ä¸å·ï¼‰ï¼šbugä¿®å¤</li></ul><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸ºç‰¹å®šçš„commitåˆ›å»ºæ ‡ç­¾ï¼Œå…¶å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag &lt;tagname&gt; &lt;commit_sha&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šé¢çš„çš„å½¢å¼åˆ›å»ºçš„æ ‡ç­¾éƒ½å±äºè½»é‡æ ‡ç­¾ï¼Œä¸‹é¢æ¥çœ‹çœ‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªé™„æ³¨æ ‡ç­¾ã€‚</p><p>åœ¨åˆ›å»ºæ ‡ç­¾æ—¶ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ª<code>-a</code>æ ‡å¿—ä»¥åˆ›å»ºä¸€ä¸ªå¸¦å¤‡æ³¨çš„æ ‡ç­¾ï¼Œå¤‡æ³¨ä¿¡æ¯ä½¿ç”¨<code>-m message</code>æ¥æŒ‡å®šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -a &lt;tagname&gt; -m <span class="string">&quot;&lt;message&gt;&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰æ¨é€æ ‡ç­¾"><a href="#ï¼ˆ3ï¼‰æ¨é€æ ‡ç­¾" class="headerlink" title="ï¼ˆ3ï¼‰æ¨é€æ ‡ç­¾"></a>ï¼ˆ3ï¼‰æ¨é€æ ‡ç­¾</h4><p>æ ‡ç­¾åˆ›å»ºå®Œæˆä¹‹åå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå‘½ä»¤ä¼šå°†æœ¬åœ°æ‰€æœ‰tagéƒ½æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚å¦‚æœæƒ³æ¨é€æŒ‡å®šæ ‡ç­¾ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;tagname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ4ï¼‰åˆ‡æ¢æ ‡ç­¾"><a href="#ï¼ˆ4ï¼‰åˆ‡æ¢æ ‡ç­¾" class="headerlink" title="ï¼ˆ4ï¼‰åˆ‡æ¢æ ‡ç­¾"></a>ï¼ˆ4ï¼‰åˆ‡æ¢æ ‡ç­¾</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ‡æ¢æ ‡ç­¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;tagname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ5ï¼‰åˆ é™¤æ ‡ç­¾"><a href="#ï¼ˆ5ï¼‰åˆ é™¤æ ‡ç­¾" class="headerlink" title="ï¼ˆ5ï¼‰åˆ é™¤æ ‡ç­¾"></a>ï¼ˆ5ï¼‰åˆ é™¤æ ‡ç­¾</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ é™¤æœ¬åœ°ä»“åº“æŒ‡å®šæ ‡ç­¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d &lt;tagname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ é™¤è¿œç¨‹ä»“åº“æŒ‡å®šæ ‡ç­¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin :refs/tags/&lt;tagname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ é™¤è¿œç¨‹ä»“åº“çš„æŒ‡å®šæ ‡ç­¾ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete &lt;tagname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ6ï¼‰æ‹‰å–æ ‡ç­¾"><a href="#ï¼ˆ6ï¼‰æ‹‰å–æ ‡ç­¾" class="headerlink" title="ï¼ˆ6ï¼‰æ‹‰å–æ ‡ç­¾"></a>ï¼ˆ6ï¼‰æ‹‰å–æ ‡ç­¾</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å°†è¿œç¨‹ä»“åº“çš„æ ‡ç­¾æ‹‰å–ï¼ˆåŒæ­¥ï¼‰åˆ°å½“å‰åˆ†æ”¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch --tags</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ7ï¼‰æ£€å‡ºæ ‡ç­¾"><a href="#ï¼ˆ7ï¼‰æ£€å‡ºæ ‡ç­¾" class="headerlink" title="ï¼ˆ7ï¼‰æ£€å‡ºæ ‡ç­¾"></a>ï¼ˆ7ï¼‰æ£€å‡ºæ ‡ç­¾</h4><p>æ£€å‡ºæ ‡ç­¾å®é™…ä¸Šå°±æ˜¯åœ¨æ ‡ç­¾çš„åŸºç¡€ä¸Šè¿›è¡Œå…¶ä»–å¼€å‘æˆ–æ“ä½œã€‚éœ€è¦ä»¥æ ‡ç­¾æŒ‡å®šçš„ç‰ˆæœ¬ä¸ºåŸºç¡€ç‰ˆæœ¬ï¼Œæ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œç»§ç»­å…¶ä»–çš„æ“ä½œã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branch&gt; &lt;tagname&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="3-æ—¥å¿—è®°å½•"><a href="#3-æ—¥å¿—è®°å½•" class="headerlink" title="3. æ—¥å¿—è®°å½•"></a>3. æ—¥å¿—è®°å½•</h3><h4 id="ï¼ˆ1ï¼‰åŸºç¡€æ—¥å¿—"><a href="#ï¼ˆ1ï¼‰åŸºç¡€æ—¥å¿—" class="headerlink" title="ï¼ˆ1ï¼‰åŸºç¡€æ—¥å¿—"></a>ï¼ˆ1ï¼‰åŸºç¡€æ—¥å¿—</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹åˆ†æ”¯çš„å†å²æäº¤ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å…¶æœ€åŸºç¡€çš„ç”¨æ³•ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d9c2b544c2e4782821c9ec970b203a2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç»ˆç«¯ä¸Šè¾“å‡ºäº†è¯¥åˆ†æ”¯è¿‘æœŸçš„æäº¤è®°å½•ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰è´¡çŒ®è€…çš„æäº¤ã€‚</p><h4 id="ï¼ˆ2ï¼‰æŒ‰ä½œè€…æŸ¥çœ‹"><a href="#ï¼ˆ2ï¼‰æŒ‰ä½œè€…æŸ¥çœ‹" class="headerlink" title="ï¼ˆ2ï¼‰æŒ‰ä½œè€…æŸ¥çœ‹"></a>ï¼ˆ2ï¼‰æŒ‰ä½œè€…æŸ¥çœ‹</h4><p>å¦‚æœæƒ³åªçœ‹æŸä¸ªäººçš„æäº¤ï¼Œå¯ä»¥æ·»åŠ è¿‡æ»¤æ¡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å½“ç„¶ä¹Ÿå¯ä»¥æœç´¢å¤šä¸ªä½œè€…çš„æäº¤ä¿¡æ¯ï¼Œåªéœ€è¦åœ¨ç”¨|åˆ†éš”ç”¨æˆ·åå³å¯ï¼Œæ³¨æ„éœ€è¦ä½¿ç”¨\æ¥å¯¹|è¿›è¡Œè½¬ä¹‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username1\|usernmae2&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™é‡Œåˆ—å‡ºçš„æ˜¯æ¯æ¬¡æäº¤çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚æœæŒ‡å‘çœ‹åˆ°æ¯ä¸ªæäº¤çš„æ¦‚è¦ï¼Œå¯ä»¥åœ¨å‘½ä»¤ä¸­æ·»åŠ <code>--oneline</code>æ ‡å¿—ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span> --oneline</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰æŒ‰æ—¶é—´æŸ¥çœ‹"><a href="#ï¼ˆ3ï¼‰æŒ‰æ—¶é—´æŸ¥çœ‹" class="headerlink" title="ï¼ˆ3ï¼‰æŒ‰æ—¶é—´æŸ¥çœ‹"></a>ï¼ˆ3ï¼‰æŒ‰æ—¶é—´æŸ¥çœ‹</h4><p>é™¤äº†å¯ä»¥æŒ‰ç…§ä½œè€…æ¥æŸ¥çœ‹æ—¥å¿—ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‰ç…§æ—¶é—´æŸ¥çœ‹æ—¥å¿—ã€‚å¯ä»¥æŸ¥çœ‹æŸä¸ªæ—¶é—´ä¹‹å‰çš„æ—¥å¿—ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹æŸä¸ªæ—¥æœŸä¹‹åçš„æ—¥å¿—ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//æŸä¸ªæ—¥æœŸä¹‹å</span><br><span class="line">git <span class="built_in">log</span> --since=&lt;date&gt;</span><br><span class="line">git <span class="built_in">log</span> --after=&lt;date&gt;</span><br><span class="line"></span><br><span class="line">//æŸä¸ªæ—¥æœŸä¹‹å‰</span><br><span class="line">git <span class="built_in">log</span> --until=&lt;date&gt;</span><br><span class="line">git <span class="built_in">log</span> --before=&lt;date&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³æŸ¥çœ‹æŸä¸ªå…·ä½“æ—¶é—´åŒºé—´ä¹‹é—´çš„æ—¥å¿—ï¼Œå¯ä»¥ç»„åˆä»¥ä¸Šå‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=<span class="string">&quot;2022.05.15&quot;</span> --until=<span class="string">&quot;2022.05.20&quot;</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ4ï¼‰æŒ‰æ–‡ä»¶æŸ¥çœ‹"><a href="#ï¼ˆ4ï¼‰æŒ‰æ–‡ä»¶æŸ¥çœ‹" class="headerlink" title="ï¼ˆ4ï¼‰æŒ‰æ–‡ä»¶æŸ¥çœ‹"></a>ï¼ˆ4ï¼‰æŒ‰æ–‡ä»¶æŸ¥çœ‹</h4><p>å¦‚æœæˆ‘ä»¬æƒ³æŸ¥çœ‹æŸä¸ªæ–‡ä»¶éƒ½åœ¨å“ªäº›æäº¤ä¸­ä¿®æ”¹äº†å†…å®¹ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -- &lt;path&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ¯”å¦‚æŸ¥çœ‹<code>README.md</code>æ–‡ä»¶çš„ä¿®æ”¹è®°å½•ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da9b0dc5d2ff4ce58ae06e0daa9bdfbc~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ5ï¼‰æŒ‰åˆå¹¶æŸ¥çœ‹"><a href="#ï¼ˆ5ï¼‰æŒ‰åˆå¹¶æŸ¥çœ‹" class="headerlink" title="ï¼ˆ5ï¼‰æŒ‰åˆå¹¶æŸ¥çœ‹"></a>ï¼ˆ5ï¼‰æŒ‰åˆå¹¶æŸ¥çœ‹</h4><p>åœ¨å†å²æäº¤ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šæ¬¡åˆå¹¶çš„æäº¤è®°å½•ï¼Œæƒ³è¦åªæŸ¥çœ‹ä»£ç åˆå¹¶çš„è®°å½•ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --merges</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³æŸ¥çœ‹éåˆå¹¶æ“ä½œçš„æ“ä½œè®°å½•ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --no-merges</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ6ï¼‰æŒ‰åˆ†æ”¯æŸ¥çœ‹"><a href="#ï¼ˆ6ï¼‰æŒ‰åˆ†æ”¯æŸ¥çœ‹" class="headerlink" title="ï¼ˆ6ï¼‰æŒ‰åˆ†æ”¯æŸ¥çœ‹"></a>ï¼ˆ6ï¼‰æŒ‰åˆ†æ”¯æŸ¥çœ‹</h4><p>å¯ä»¥æŒ‰ç…§åˆ†æ”¯æŸ¥çœ‹æ—¥å¿—ï¼Œå¦‚æœæƒ³æŸ¥çœ‹<code>test</code>åˆ†æ”¯æ¯”<code>master</code>åˆ†æ”¯å¤šæäº¤äº†å“ªäº›å†…å®¹ï¼Œå°±å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> master..test</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ç›¸åï¼Œå¦‚æœæƒ³çœ‹<code>master</code>åˆ†æ”¯æ¯”<code>test</code>åˆ†æ”¯å¤šæäº¤äº†å“ªäº›å†…å®¹ï¼Œå°±å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> test..master</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ7ï¼‰ç¾åŒ–æ—¥å¿—"><a href="#ï¼ˆ7ï¼‰ç¾åŒ–æ—¥å¿—" class="headerlink" title="ï¼ˆ7ï¼‰ç¾åŒ–æ—¥å¿—"></a>ï¼ˆ7ï¼‰ç¾åŒ–æ—¥å¿—</h4><p>git logå‘½ä»¤å¯ä»¥ç”¨æ¥æŸ¥çœ‹æäº¤å†å²ï¼Œæ­¤å‘½ä»¤çš„é—®é¢˜åœ¨äºï¼Œéšç€é¡¹ç›®å¤æ‚æ€§çš„å¢åŠ ï¼Œè¾“å‡ºå˜å¾—è¶Šæ¥è¶Šéš¾é˜…è¯»ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ç¾åŒ–æ—¥å¿—çš„è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph --oneline --decorate</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼Œè¿™æ ·å°±èƒ½çœ‹åˆ°æ›´ç®€æ´çš„ç»†åˆ†ä»¥åŠä¸åŒåˆ†æ”¯å¦‚ä½•è¿æ¥åœ¨ä¸€èµ·ï¼š</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/81238a8420044812baf788a3b96b25e8~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="image.png"></p><h4 id="ï¼ˆ8ï¼‰å…¶ä»–æ ‡å¿—"><a href="#ï¼ˆ8ï¼‰å…¶ä»–æ ‡å¿—" class="headerlink" title="ï¼ˆ8ï¼‰å…¶ä»–æ ‡å¿—"></a>ï¼ˆ8ï¼‰å…¶ä»–æ ‡å¿—</h4><p>ä¸Šé¢æˆ‘ä»¬æåˆ°äº†ï¼Œå¯ä»¥ä½¿ç”¨<code>--oneline</code>æ ‡å¿—æ¥ç®€åŒ–æ—¥å¿—çš„è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨<code>--stat</code>æ ‡å¿—æ¥ç®€è¦æ˜¾ç¤ºæ–‡ä»¶å¢æ”¹è¡Œæ•°ç»Ÿè®¡ï¼Œæ¯ä¸ªæäº¤éƒ½åˆ—å‡ºäº†ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œä»¥åŠå…¶ä¸­æ·»åŠ å’Œç§»é™¤çš„è¡Œæ•°ï¼Œå¹¶åœ¨æœ€ååˆ—å‡ºæ‰€æœ‰å¢å‡è¡Œæ•°å°è®¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --<span class="built_in">stat</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥æ·»åŠ <code>-N</code>æ ‡å¿—æ¥ä»…æ˜¾ç¤ºæœ€è¿‘Næ¬¡çš„æäº¤ï¼Œå…¶ä¸­<code>N</code>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¾‹å¦‚æŸ¥çœ‹æœ€è¿‘ä¸‰æ¬¡æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -3</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨<code>-p</code>æ ‡å¿—æ¥å±•å¼€æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚å¯¹æ¯”ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œä»¥ä¸Šè¿™äº›å‘½ä»¤æ ‡è¯†ç¬¦éƒ½å¯ä»¥ç»„åˆä½¿ç”¨ã€‚</p><h3 id="4-å·®å¼‚å¯¹æ¯”"><a href="#4-å·®å¼‚å¯¹æ¯”" class="headerlink" title="4. å·®å¼‚å¯¹æ¯”"></a>4. å·®å¼‚å¯¹æ¯”</h3><p>git diff å‘½ä»¤å¯ä»¥ç”¨æ¥æ¯”è¾ƒæ–‡ä»¶çš„ä¸åŒï¼Œå³æ¯”è¾ƒæ–‡ä»¶åœ¨<strong>æš‚å­˜åŒº</strong>å’Œ<strong>å·¥ä½œåŒº</strong>çš„å·®å¼‚ã€‚</p><h4 id="ï¼ˆ1ï¼‰æœªç¼“å­˜æ”¹åŠ¨"><a href="#ï¼ˆ1ï¼‰æœªç¼“å­˜æ”¹åŠ¨" class="headerlink" title="ï¼ˆ1ï¼‰æœªç¼“å­˜æ”¹åŠ¨"></a>ï¼ˆ1ï¼‰æœªç¼“å­˜æ”¹åŠ¨</h4><p>å½“å·¥ä½œåŒºæœ‰æ”¹åŠ¨ï¼Œæš‚å­˜åŒºä¸ºç©ºæ—¶ï¼Œ diffå¯¹æ¯”çš„æ˜¯å·¥ä½œåŒºä¸æœ€åä¸€æ¬¡commitæäº¤çš„å…±åŒæ–‡ä»¶ï¼› å½“å·¥ä½œåŒºæœ‰æ”¹åŠ¨ï¼Œæš‚å­˜åŒºä¸ä¸ºç©ºæ—¶ï¼Œdiffå¯¹æ¯”çš„æ˜¯å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„å…±åŒæ–‡ä»¶ã€‚</p><h4 id="ï¼ˆ2ï¼‰å·²ç¼“å­˜æ”¹åŠ¨"><a href="#ï¼ˆ2ï¼‰å·²ç¼“å­˜æ”¹åŠ¨" class="headerlink" title="ï¼ˆ2ï¼‰å·²ç¼“å­˜æ”¹åŠ¨"></a>ï¼ˆ2ï¼‰å·²ç¼“å­˜æ”¹åŠ¨</h4><p>å½“å·²ç¼“å­˜æ”¹åŠ¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€å‘½ä»¤æ¥æ˜¾ç¤ºæš‚å­˜åŒºï¼ˆå·²addä½†æœªcommitæ–‡ä»¶ï¼‰å’Œæœ€åä¸€æ¬¡commit(HEAD)ä¹‹é—´çš„æ‰€æœ‰ä¸ç›¸åŒæ–‡ä»¶çš„å·®å¼‚å¯¹æ¯”ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached</span><br><span class="line">git diff --staged</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰å·²ç¼“å­˜å’Œæœªç¼“å­˜æ”¹åŠ¨"><a href="#ï¼ˆ3ï¼‰å·²ç¼“å­˜å’Œæœªç¼“å­˜æ”¹åŠ¨" class="headerlink" title="ï¼ˆ3ï¼‰å·²ç¼“å­˜å’Œæœªç¼“å­˜æ”¹åŠ¨"></a>ï¼ˆ3ï¼‰å·²ç¼“å­˜å’Œæœªç¼“å­˜æ”¹åŠ¨</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ˜¾ç¤ºå·¥ä½œç›®å½•(å·²ä¿®æ”¹ä½†æœªaddæ–‡ä»¶)å’Œæš‚å­˜åŒº(å·²addä½†æœªcommitæ–‡ä»¶)ä¸æœ€åä¸€æ¬¡commitä¹‹é—´çš„çš„æ‰€æœ‰ä¸ç›¸åŒæ–‡ä»¶çš„å·®å¼‚å¯¹æ¯”ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ4ï¼‰ä¸åŒåˆ†æ”¯å·®å¼‚"><a href="#ï¼ˆ4ï¼‰ä¸åŒåˆ†æ”¯å·®å¼‚" class="headerlink" title="ï¼ˆ4ï¼‰ä¸åŒåˆ†æ”¯å·®å¼‚"></a>ï¼ˆ4ï¼‰ä¸åŒåˆ†æ”¯å·®å¼‚</h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯ä¸Šæœ€å commit çš„å†…å®¹çš„å·®åˆ«ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff &lt;åˆ†æ”¯å1&gt; &lt;åˆ†æ”¯å2&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºå‡ºä¸¤ä¸ªåˆ†æ”¯çš„è¯¦ç»†å·®å¼‚ï¼Œå¦‚æœåªæ˜¯æƒ³çœ‹æœ‰å“ªäº›æ–‡ä»¶å­˜åœ¨å·®å¼‚ï¼Œå¯ä»¥åœ¨å‘½ä»¤ä¸­æ·»åŠ <code>--stat</code>æ ‡å¿—ï¼Œè¿™æ ·å°±ä¸ä¼šæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„å†…å®¹çš„è¯¦ç»†å¯¹æ¯”ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff &lt;åˆ†æ”¯å1&gt; &lt;åˆ†æ”¯å2&gt; --<span class="built_in">stat</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="5-å®šä½é—®é¢˜"><a href="#5-å®šä½é—®é¢˜" class="headerlink" title="5. å®šä½é—®é¢˜"></a>5. å®šä½é—®é¢˜</h3><p>git bisect å¯ä»¥ç”¨æ¥æŸ¥æ‰¾å“ªä¸€æ¬¡ä»£ç æäº¤å¼•å…¥äº†é”™è¯¯ã€‚å®ƒçš„åŸç†å¾ˆç®€å•å°±æ˜¯å°†ä»£ç æäº¤çš„å†å²ä½¿ç”¨äºŒåˆ†æ³•æ¥ç¼©å°å‡ºé—®é¢˜çš„ä»£æ›¿æäº¤èŒƒå›´ï¼Œç¡®å®šé—®é¢˜å‡ºåœ¨å‰åŠéƒ¨åˆ†è¿˜æ˜¯ååŠéƒ¨åˆ†ï¼Œä¸æ–­æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°å¼•å…¥é—®é¢˜çš„é‚£ä¸€æ¬¡æäº¤ã€‚</p><p>å…¶å‘½ä»¤åˆé€‚å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect start &lt;end&gt; &lt;start&gt;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å…¶ä¸­endå°±æ˜¯æœ€è¿‘çš„æäº¤ï¼Œstartå°±æ˜¯æœ€å¼€å§‹çš„æäº¤ã€‚å‡å¦‚ç¬¬ä¸€æ¬¡çš„æäº¤çš„ commit idä¸º685f868ï¼Œæ€»å…±æœ‰21æ¬¡æäº¤ã€‚é‚£ä¹ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»ç¬¬ä¸€æ¬¡æäº¤åˆ°æœ€è¿‘ä¸€æ¬¡æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect start HEAD 685f868</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œä¹‹åï¼ŒéªŒè¯é‚£ä¸ªé—®é¢˜æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå‘ç°é—®é¢˜ä¸å­˜åœ¨äº†ï¼Œå°±æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ ‡è¯†ç¬¬11æ¬¡æäº¤æ˜¯æ²¡é—®é¢˜çš„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect good</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±è¯´æ˜å‰åŠæ®µæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œé—®é¢˜å‡ºåœ¨ååŠæ®µï¼Œä¹Ÿå°±æ˜¯ç¬¬11-21æ¬¡æäº¤ä¸­ã€‚è¿™æ—¶å†å»åˆ·æ–°æµè§ˆå™¨ï¼Œå¦‚æœé—®é¢˜å‡ºç°äº†ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ ‡è®°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect bad</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±è¯´æ˜ç¬¬11-16æ¬¡æäº¤æ˜¯æœ‰é—®é¢˜çš„ã€‚ç»§ç»­é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æˆåŠŸæ‰¾å‡ºé‚£ä¸€æ¬¡æäº¤ä½ä¸ºæ­¢ï¼Œè¿™æ—¶Gitå°±ä¼šç»™å‡ºå¦‚ä¸‹çš„æç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c8ad045 is the first bad commit</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>è¿™æ—¶å°±ç¡®è®¤äº†æ˜¯è¿™ä¸€æ¬¡æäº¤å¯¼è‡´çš„é—®é¢˜ï¼Œå¯ä»¥å»æŸ¥çœ‹æ—¶é‚£äº›ä¿®æ”¹å¯¼è‡´çš„é—®é¢˜ã€‚</p><p>ä¹‹åå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€€å‡ºé”™è¯¯æŸ¥æ‰¾è¿‡ç¨‹ï¼Œå›åˆ°æœ€è¿‘ä¸€æ¬¡ä»£ç æäº¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git bisect reset</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h2 id="å››ã€å®ç”¨-Git-å·¥å…·"><a href="#å››ã€å®ç”¨-Git-å·¥å…·" class="headerlink" title="å››ã€å®ç”¨ Git å·¥å…·"></a>å››ã€å®ç”¨ Git å·¥å…·</h2><h3 id="1-GitLens"><a href="#1-GitLens" class="headerlink" title="1. GitLens"></a>1. <strong>GitLens</strong></h3><p>GitLens  æ˜¯ä¸€ä¸ªVS Codeæ’ä»¶ï¼Œå¯ä»¥ç”¨æ¥æŸ¥çœ‹é¡¹ç›®çš„æäº¤è®°å½•ã€æ–‡ä»¶ä¿®æ”¹è®°å½•ã€æ˜¾ç¤ºæ¯è¡Œä»£ç çš„æäº¤è®°å½•ç­‰ã€‚é€šè¿‡ä¸°å¯Œçš„å¯è§†åŒ–å’Œå¼ºå¤§çš„æ¯”è¾ƒå‘½ä»¤<strong>è·å¾—æœ‰ä»·å€¼çš„è§è§£</strong>ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9feb1a513be4540b26b8a2a6e36a05f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h3 id="2-Git-History"><a href="#2-Git-History" class="headerlink" title="2. Git History"></a>2. Git History</h3><p>Git History æ˜¯ä¸€ä¸ªVS Codeæ’ä»¶ï¼Œå¢å¼ºäº†Git çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ç”¨æ¥æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ï¼ŒæŸ¥çœ‹å’Œæœç´¢å†å²ï¼Œè¿›è¡Œåˆ†æ”¯å¯¹æ¯”ã€æäº¤å¯¹æ¯”ï¼Œè·¨æäº¤å¯¹æ¯”æ–‡ä»¶ç­‰ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e4db3b5036745e09f575faf3ca54b1f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h3 id="3-Git-Automator"><a href="#3-Git-Automator" class="headerlink" title="3. Git Automator"></a>3. Git Automator</h3><p>Git Automator æ˜¯ä¸€ä¸ªVS Codeæ’ä»¶ï¼Œä¸»è¦ç”¨æ¥è‡ªåŠ¨åŒ–Gitæäº¤æ¶ˆæ¯å’Œ Git å·¥ä½œæµç¨‹ã€‚å®ƒå…è®¸ç”¨ä¸€ä¸ªå¿«æ·æ–¹å¼æ·»åŠ å’Œæäº¤æ–‡ä»¶ã€‚å®ƒè¿˜ä¸ºæäº¤ä¿¡æ¯æä¾›äº†è‡ªåŠ¨å¡«å……åŠŸèƒ½ã€‚å½“åŠ¨ä½œå¾ˆæ˜æ˜¾æ—¶ï¼Œä¾‹å¦‚ä½ åˆ é™¤äº†ä¸€ä¸ªæ–‡ä»¶ï¼ŒGit Automator ä¼šçŒœæµ‹è¯¥åŠ¨ä½œå¹¶å°†å…¶æ·»åŠ åˆ°é¢„å¡«å……çš„æäº¤æ¶ˆæ¯ä¸­ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cadf2e3ad99348efa9487ab64e9fc8f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><h3 id="4-LearnGitBranching"><a href="#4-LearnGitBranching" class="headerlink" title="4. LearnGitBranching"></a>4. LearnGitBranching</h3><p>LearnGitBranching æ˜¯ä¸€ä¸ª git å­˜å‚¨åº“å¯è§†åŒ–å·¥å…·ã€æ²™ç®±å’Œä¸€ç³»åˆ—æ•™ç¨‹å’ŒæŒ‘æˆ˜ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯å¸®åŠ©å¼€å‘äººå‘˜é€šè¿‡å¯è§†åŒ–çš„åŠ›é‡æ¥ç†è§£ gitã€‚è¿™æ˜¯é€šè¿‡ä¸åŒçº§åˆ«çš„æ¸¸æˆæ¥ç†Ÿæ‚‰ä¸åŒçš„gitå‘½ä»¤æ¥å®ç°çš„ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8afa402fc74c4ea3b1f93169f06e929d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp" alt="img"></p><p><strong>Githubï¼š</strong><a href="https://link.juejin.cn/?target=https://github.com/pcottle/learnGitBranching">github.com/pcottle/leaâ€¦</a></p><blockquote><p>æœ¬æ–‡è½¬è½½è‡ª <a href="https://juejin.cn/post/7111132724185792542">https://juejin.cn/post/7111132724185792542</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•ä¹‹æ·±åº¦ä¼˜å…ˆéå†(DFS)å’Œå¹¿åº¦ä¼˜å…ˆéå†(BFS)</title>
      <link href="post/%E7%AE%97%E6%B3%95_%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/"/>
      <url>post/%E7%AE%97%E6%B3%95_%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86%E5%92%8C%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<h2 id="JS-ç®—æ³•ä¹‹æ·±åº¦ä¼˜å…ˆéå†-DFS-å’Œå¹¿åº¦ä¼˜å…ˆéå†-BFS"><a href="#JS-ç®—æ³•ä¹‹æ·±åº¦ä¼˜å…ˆéå†-DFS-å’Œå¹¿åº¦ä¼˜å…ˆéå†-BFS" class="headerlink" title="JS ç®—æ³•ä¹‹æ·±åº¦ä¼˜å…ˆéå†(DFS)å’Œå¹¿åº¦ä¼˜å…ˆéå†(BFS)"></a>JS ç®—æ³•ä¹‹æ·±åº¦ä¼˜å…ˆéå†(DFS)å’Œå¹¿åº¦ä¼˜å…ˆéå†(BFS)</h2><h3 id="æ·±åº¦ä¼˜å…ˆéå†"><a href="#æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†"></a>æ·±åº¦ä¼˜å…ˆéå†</h3><p>è¯¥æ–¹æ³•æ˜¯ä»¥çºµå‘çš„ç»´åº¦å¯¹ dom æ ‘è¿›è¡Œéå†ï¼Œä»ä¸€ä¸ª dom èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´éå†å…¶å­èŠ‚ç‚¹ï¼Œç›´åˆ°å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½è¢«éå†å®Œæ¯•ä¹‹ååœ¨éå†å®ƒçš„å…„å¼ŸèŠ‚ç‚¹ã€‚</p><p><img src="https://segmentfault.com/img/bVbqEoQ?w=432&h=391" alt="clipboard.png"></p><p>é€’å½’å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·±åº¦ä¼˜å…ˆéå†ï¼ˆé€’å½’å®ç°ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>data Array|Object</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">depthFirstTraverse</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> list = data <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? data : [data];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> node = list[i];</span><br><span class="line">    <span class="built_in">console</span>.log(node.id);</span><br><span class="line">    node.child &amp;&amp; depthFirstTraverse(node.child);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Stack å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ·±åº¦ä¼˜å…ˆéå†ï¼ˆstackå®ç°ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>data Array|Object</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">depthFirstTraverseStack</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> stack = data <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? data : [data];</span><br><span class="line">  <span class="keyword">while</span> (stack.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> node = stack.shift();</span><br><span class="line">    <span class="built_in">console</span>.log(node.id);</span><br><span class="line">    node.child &amp;&amp; stack.unshift(...node.child);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¹¿åº¦ä¼˜å…ˆéå†"><a href="#å¹¿åº¦ä¼˜å…ˆéå†" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå†"></a>å¹¿åº¦ä¼˜å…ˆéå†</h2><p>è¯¥æ–¹æ³•æ˜¯ä»¥æ¨ªå‘çš„ç»´åº¦å¯¹ dom æ ‘è¿›è¡Œéå†ï¼Œä»è¯¥èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹å¼€å§‹ï¼Œéå†å…¶æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œå†éå†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œå®Œæˆè¯¥éå†ä¹‹åï¼Œæš‚æ—¶ä¸æ·±å…¥ï¼Œå¼€å§‹éå†å…¶å…„å¼ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚</p><p><img src="https://segmentfault.com/img/bVbqEv0?w=407&h=392" alt="clipboard.png"></p><p>é€’å½’å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¹¿åº¦ä¼˜å…ˆéå† ï¼ˆé€’å½’å®ç°ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>data Array|Object</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">breadthFirstTraverse</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">  <span class="keyword">const</span> list = data <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? data : [data];</span><br><span class="line">  <span class="keyword">let</span> nextSibling = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">const</span> nodes = [];</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">traverse</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> node = arr[i];</span><br><span class="line">      nodes.push(node);</span><br><span class="line">      <span class="built_in">console</span>.log(node.id);</span><br><span class="line">    &#125;</span><br><span class="line">    nextSibling = nodes[index++];</span><br><span class="line">    nextSibling.child &amp;&amp; traverse(nextSibling.child);</span><br><span class="line">  &#125;</span><br><span class="line">  traverse(list);</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    <span class="string">`å¹¿åº¦ä¼˜å…ˆéå† ï¼ˆé€’å½’å®ç°ï¼‰è€—æ—¶ï¼š<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - time&#125;</span>ms`</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Queue å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¹¿åº¦ä¼˜å…ˆéå† ï¼ˆé˜Ÿåˆ—å®ç°ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param  </span>data Array|Object</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">breadthFirstTraverseQueue</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> time = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">  <span class="keyword">const</span> queue = data <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? data : [data];</span><br><span class="line">  <span class="keyword">while</span> (queue.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; queue.length; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> node = queue.shift();</span><br><span class="line">      <span class="built_in">console</span>.log(node.id);</span><br><span class="line">      node.child &amp;&amp; queue.push(...node.child);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    <span class="string">`å¹¿åº¦ä¼˜å…ˆéå† ï¼ˆé˜Ÿåˆ—å®ç°ï¼‰è€—æ—¶ï¼š<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() - time&#125;</span>ms`</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ·±åº¦ä¼˜å…ˆéå† </tag>
            
            <tag> å¹¿åº¦ä¼˜å…ˆéå† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescriptå£°æ˜æ–‡ä»¶æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</title>
      <link href="post/typescript%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/"/>
      <url>post/typescript%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8%E5%A7%BF%E5%8A%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="tsç±»å‹å£°æ˜æ–‡ä»¶çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"><a href="#tsç±»å‹å£°æ˜æ–‡ä»¶çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿" class="headerlink" title="tsç±»å‹å£°æ˜æ–‡ä»¶çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿"></a>tsç±»å‹å£°æ˜æ–‡ä»¶çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿</h2><h3 id="tså£°æ˜æ–‡ä»¶ç±»å‹"><a href="#tså£°æ˜æ–‡ä»¶ç±»å‹" class="headerlink" title="tså£°æ˜æ–‡ä»¶ç±»å‹"></a>tså£°æ˜æ–‡ä»¶ç±»å‹</h3><h4 id="1-DefinitelyTypedç¤¾åŒºå·²å®šä¹‰"><a href="#1-DefinitelyTypedç¤¾åŒºå·²å®šä¹‰" class="headerlink" title="1. DefinitelyTypedç¤¾åŒºå·²å®šä¹‰"></a>1. <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types">DefinitelyTypedç¤¾åŒº</a>å·²å®šä¹‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @types/jquery --save-dev</span><br></pre></td></tr></table></figure><h4 id="2-ä¸npmä¸€åŒå‘å¸ƒ"><a href="#2-ä¸npmä¸€åŒå‘å¸ƒ" class="headerlink" title="2. ä¸npmä¸€åŒå‘å¸ƒ"></a>2. ä¸npmä¸€åŒå‘å¸ƒ</h4><p>â€‹      è§£é‡Šï¼š package.json ä¸­æœ‰ types å­—æ®µï¼Œæˆ–è€…æœ‰ä¸€ä¸ª index.d.ts å£°æ˜æ–‡ä»¶</p><h4 id="3-è‡ªç»™è‡ªè¶³å‹"><a href="#3-è‡ªç»™è‡ªè¶³å‹" class="headerlink" title="3. è‡ªç»™è‡ªè¶³å‹"></a>3. è‡ªç»™è‡ªè¶³å‹</h4><p>åˆ›å»ºä¸€ä¸ª node_modules/@types/foo/index.d.ts æ–‡ä»¶ï¼Œå­˜æ”¾ foo æ¨¡å—çš„å£°æ˜æ–‡ä»¶ã€‚ä¸å¤ªå»ºè®®ç”¨è¿™ç§æ–¹æ¡ˆï¼Œä¸€èˆ¬åªç”¨ä½œä¸´æ—¶æµ‹è¯•ã€‚<br>åˆ›å»ºä¸€ä¸ª types ç›®å½•ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†è‡ªå·±å†™çš„å£°æ˜æ–‡ä»¶ï¼Œå°† foo çš„å£°æ˜æ–‡ä»¶æ”¾åˆ° types/foo/index.d.ts ä¸­ã€‚è¿™ç§æ–¹å¼éœ€è¦é…ç½®ä¸‹ tsconfig.json ä¸­çš„ paths å’Œ baseUrl å­—æ®µã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/path/to/project</span><br><span class="line">  â”œâ”€â”€ src</span><br><span class="line">  |  â””â”€â”€ index.ts</span><br><span class="line">  â”œâ”€â”€ types</span><br><span class="line">  |  â””â”€â”€ foo</span><br><span class="line">  |     â””â”€â”€ index.d.ts</span><br><span class="line">  â””â”€â”€ tsconfig.json</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;paths&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;*&quot;</span>: [<span class="string">&quot;types/*&quot;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tså£°æ˜æ–‡ä»¶ä¹¦å†™å§¿åŠ¿"><a href="#tså£°æ˜æ–‡ä»¶ä¹¦å†™å§¿åŠ¿" class="headerlink" title="tså£°æ˜æ–‡ä»¶ä¹¦å†™å§¿åŠ¿"></a>tså£°æ˜æ–‡ä»¶ä¹¦å†™å§¿åŠ¿</h3><h4 id="1-å…¨å±€å‹"><a href="#1-å…¨å±€å‹" class="headerlink" title="1. å…¨å±€å‹"></a>1. å…¨å±€å‹</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># <span class="keyword">let</span> </span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> jQuery: <span class="function">(<span class="params">selector: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line"># <span class="function"><span class="keyword">function</span> </span></span><br><span class="line"><span class="function"><span class="title">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">jQuery</span>(<span class="params">selector: <span class="built_in">string</span></span>): <span class="title">any</span></span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">#<span class="title">class</span> </span></span><br><span class="line"><span class="function"><span class="title">declare</span> <span class="title">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>);</span><br><span class="line">    sayHi(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="built_in">enum</span></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">enum</span> Directions &#123;</span><br><span class="line">    Up,</span><br><span class="line">    Down,</span><br><span class="line">    Left,</span><br><span class="line">    Right</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#<span class="keyword">namespace</span> </span><br><span class="line">declare <span class="keyword">namespace</span> jQuery &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">url: <span class="built_in">string</span>, settings?: <span class="built_in">any</span></span>): <span class="title">void</span></span>;</span><br><span class="line">    <span class="keyword">namespace</span> fn &#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params"><span class="built_in">object</span>: <span class="built_in">any</span></span>): <span class="title">void</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-npmåŒ…å‹-export"><a href="#2-npmåŒ…å‹-export" class="headerlink" title="2. npmåŒ…å‹ - export"></a>2. npmåŒ…å‹ - export</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// types/foo/index.d.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>);</span><br><span class="line">    sayHi(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="built_in">enum</span> Directions &#123;</span><br><span class="line">    Up,</span><br><span class="line">    Down,</span><br><span class="line">    Left,</span><br><span class="line">    Right</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Options &#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">namespace</span> foo &#123;</span><br><span class="line">    <span class="keyword">const</span> name: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">namespace</span> bar &#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>): <span class="title">string</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-npmåŒ…å‹-export-default"><a href="#3-npmåŒ…å‹-export-default" class="headerlink" title="3. npmåŒ…å‹ - export default"></a>3. npmåŒ…å‹ - export default</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// types/foo/index.d.ts</span></span><br><span class="line"># <span class="function"><span class="keyword">function</span>ã€<span class="title">class</span> å’Œ <span class="title">interface</span> å¯ä»¥ç›´æ¥é»˜è®¤å¯¼å‡ºï¼Œå…¶ä»–çš„å˜é‡éœ€è¦å…ˆå®šä¹‰å‡ºæ¥ï¼Œå†é»˜è®¤å¯¼å‡º</span></span><br><span class="line"><span class="function"><span class="title">export</span> <span class="title">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>): <span class="title">string</span></span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">export</span> <span class="title">default</span> <span class="title">Directions</span></span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">enum</span> Directions &#123;</span><br><span class="line">    Up,</span><br><span class="line">    Down,</span><br><span class="line">    Left,</span><br><span class="line">    Right</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="4-npmåŒ…å‹-å…ˆå£°æ˜ï¼Œåœ¨export"><a href="#4-npmåŒ…å‹-å…ˆå£°æ˜ï¼Œåœ¨export" class="headerlink" title="4. npmåŒ…å‹ - å…ˆå£°æ˜ï¼Œåœ¨export"></a>4. npmåŒ…å‹ - å…ˆå£°æ˜ï¼Œåœ¨export</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// types/foo/index.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> name: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>);</span><br><span class="line">    sayHi(): <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">enum</span> Directions &#123;</span><br><span class="line">    Up,</span><br><span class="line">    Down,</span><br><span class="line">    Left,</span><br><span class="line">    Right</span><br><span class="line">&#125;</span><br><span class="line">#<span class="keyword">interface</span> å‰æ˜¯ä¸éœ€è¦ declare</span><br><span class="line"><span class="keyword">interface</span> Options &#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; name, getName, Animal, Directions, Options &#125;;</span><br></pre></td></tr></table></figure><h4 id="5-module-æ‹“å±•"><a href="#5-module-æ‹“å±•" class="headerlink" title="5. module æ‹“å±•"></a>5. module æ‹“å±•</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// types/foo-bar.d.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&#x27;foo&#x27;</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">interface</span> Foo &#123;</span><br><span class="line">        <span class="attr">foo</span>: <span class="built_in">string</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="built_in">module</span> <span class="string">&#x27;bar&#x27;</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>): <span class="title">string</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// src/index.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Foo &#125; <span class="keyword">from</span> <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> bar <span class="keyword">from</span> <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> f: Foo;</span><br><span class="line">bar.bar();</span><br></pre></td></tr></table></figure><h4 id="6-ä¸‰æ–œçº¿æŒ‡ä»¤"><a href="#6-ä¸‰æ–œçº¿æŒ‡ä»¤" class="headerlink" title="6. ä¸‰æ–œçº¿æŒ‡ä»¤"></a>6. ä¸‰æ–œçº¿æŒ‡ä»¤</h4><ul><li>ä¹¦å†™ä¸€ä¸ªå…¨å±€å˜é‡çš„å£°æ˜æ–‡ä»¶</li><li>ä¾èµ–ä¸€ä¸ªå…¨å±€å˜é‡çš„å£°æ˜æ–‡ä»¶</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// types/jquery-plugin/index.d.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// &lt;reference types=&quot;jquery&quot; /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">options: JQuery.AjaxSettings</span>): <span class="title">string</span></span>;</span><br></pre></td></tr></table></figure><h4 id="7-tsæ–‡ä»¶tscè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶"><a href="#7-tsæ–‡ä»¶tscè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶" class="headerlink" title="7. tsæ–‡ä»¶tscè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶"></a>7. tsæ–‡ä»¶tscè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶</h4><ul><li>å‘½ä»¤è¡Œå‚æ•°</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--declarationï¼ˆç®€å†™ -dï¼‰</span><br></pre></td></tr></table></figure><h4 id="8-tså‘å¸ƒ"><a href="#8-tså‘å¸ƒ" class="headerlink" title="8. tså‘å¸ƒ"></a>8. tså‘å¸ƒ</h4><ul><li>å‘å¸ƒåˆ°ç¤¾åŒº</li></ul><blockquote><p>@types æ˜¯ç»Ÿä¸€ç”± DefinitelyTyped ç®¡ç†çš„ã€‚è¦å°†å£°æ˜æ–‡ä»¶å‘å¸ƒåˆ° @types ä¸‹ï¼Œå°±éœ€è¦ç»™ DefinitelyTyped åˆ›å»ºä¸€ä¸ª pull-requestï¼Œå…¶ä¸­åŒ…å«äº†ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œæµ‹è¯•ä»£ç ï¼Œä»¥åŠ tsconfig.json ç­‰ã€‚</p></blockquote><ul><li><p>ä¸æºç ä¸€èµ·ï¼ˆä¾æ¬¡æŸ¥æ‰¾*.d.tsï¼‰</p><ol><li><p>ç»™ package.json ä¸­çš„ types æˆ– typings å­—æ®µæŒ‡å®šä¸€ä¸ªç±»å‹å£°æ˜æ–‡ä»¶åœ°å€</p></li><li><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œç¼–å†™ä¸€ä¸ª index.d.ts æ–‡ä»¶</p></li><li><p>é’ˆå¯¹å…¥å£æ–‡ä»¶ï¼ˆpackage.json ä¸­çš„ main å­—æ®µæŒ‡å®šçš„å…¥å£æ–‡ä»¶ï¼‰ï¼Œç¼–å†™ä¸€ä¸ªåŒåä¸åŒåç¼€çš„ .d.ts æ–‡ä»¶</p></li></ol></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> typescirpt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3+typescript+eslint+prettier è§„èŒƒä»£ç </title>
      <link href="post/vue3+ts+eslint+prettier/"/>
      <url>post/vue3+ts+eslint+prettier/</url>
      
        <content type="html"><![CDATA[<h2 id="Viteé¡¹ç›®åˆå§‹åŒ–"><a href="#Viteé¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="Viteé¡¹ç›®åˆå§‹åŒ–"></a>Viteé¡¹ç›®åˆå§‹åŒ–</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm create vite</span><br></pre></td></tr></table></figure><p>é€‰æ‹©vue3+ts</p><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h2><ul><li>å®‰è£…typescriptåŠå…¶æ’ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D typescript  @typescript-eslint/eslint-plugin @typescript-eslint/parser</span><br></pre></td></tr></table></figure><blockquote><p>typescript : typescript æ ¸å¿ƒåº“</p><p>@typescript-eslint/eslint-plugin: è¿™æ˜¯ä¸€ä¸ªESLintæ’ä»¶ï¼ŒåŒ…å«äº†å„ç±»å®šä¹‰å¥½çš„æ£€æµ‹Typescriptä»£ç çš„è§„èŒƒ</p><p>@typescript-eslint/parserï¼šESLintçš„è§£æå™¨ï¼Œç”¨äºè§£ætypescriptï¼Œä»è€Œæ£€æŸ¥å’Œè§„èŒƒTypescriptä»£ç </p></blockquote><ul><li>å®‰è£…eslintåŠå…¶æ’ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D eslint eslint-plugin-vue eslint-plugin-prettier eslint-config-prettier eslint-define-config vue-eslint-parser</span><br></pre></td></tr></table></figure><blockquote><p>eslint: elintæ ¸å¿ƒåº“</p><p>eslint-plugin-vue: This plugin allows us to check the <code>&lt;template&gt;</code> and <code>&lt;script&gt;</code> of <code>.vue</code> files with ESLint, as well as Vue code in <code>.js</code> files.</p><p>eslint-config-prettier: è§£å†³ESlintä¸­çš„æ ·å¼è§„èŒƒå’Œprettierä¸­æ ·å¼è§„èŒƒçš„å†²çªï¼Œä»¥prettierçš„æ ·å¼è§„èŒƒä¸ºå‡†ï¼Œä½¿    ç”¨ESlintä¸­çš„æ ·å¼è§„èŒƒè‡ªåŠ¨å¤±æ•ˆ</p><p>eslint-plugin-prettier: å°†prettieråšä¸ºESlint rulesæ¥ä½¿ç”¨</p><p>eslint-define-config:  ç¼–å†™.eslint.jsæ–‡ä»¶æ—¶ï¼Œç”¨å…¶æš´éœ²çš„defineConfig()ï¼Œæœ‰æç¤ºã€‚ï¼ˆæ­¤æ’ä»¶å¯æœ‰å¯æ— ï¼‰</p><p>vue-eslint-parserï¼šThis parser allows us to lint the <code>&lt;template&gt;</code> of <code>.vue</code> files. ï¼ˆ<a href="https://www.npmjs.com/package/vue-eslint-parser%EF%BC%89">https://www.npmjs.com/package/vue-eslint-parserï¼‰</a></p></blockquote><h2 id="åˆ›å»º-eslintrc-jsæ–‡ä»¶"><a href="#åˆ›å»º-eslintrc-jsæ–‡ä»¶" class="headerlink" title="åˆ›å»º.eslintrc.jsæ–‡ä»¶"></a>åˆ›å»º.eslintrc.jsæ–‡ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eslint-disable-next-line @typescript-eslint/no-var-requires</span></span><br><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;eslint-define-config&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = defineConfig(&#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">es2021</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">browser</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">parser</span>: <span class="string">&#x27;vue-eslint-parser&#x27;</span>,<span class="comment">// ç”¨æ¥ç¼–è¯‘ &lt;template&gt; æ ‡ç­¾é‡Œçš„ä»£ç </span></span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;@typescript-eslint/parser&#x27;</span>, <span class="comment">// ç”¨æ¥ç¼–è¯‘ &lt;script&gt; æ ‡ç­¾é‡Œçš„tsä»£ç </span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">globals</span>: &#123;</span><br><span class="line">    <span class="comment">// script setup</span></span><br><span class="line">    <span class="attr">defineProps</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="attr">defineEmits</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="attr">defineExpose</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">    <span class="attr">withDefaults</span>: <span class="string">&#x27;readonly&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/base&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;plugin:vue/vue3-recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;eslint:recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;plugin:@typescript-eslint/recommended&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;plugin:prettier/recommended&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&#x27;prettier&#x27;</span>],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰ä½ çš„è§„åˆ™</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åˆ›å»º-prettierrc-js"><a href="#åˆ›å»º-prettierrc-js" class="headerlink" title="åˆ›å»º .prettierrc.js"></a>åˆ›å»º .prettierrc.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .prettierrc.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ä¸€è¡Œæœ€å¤š 120 å­—ç¬¦</span></span><br><span class="line">  <span class="attr">printWidth</span>: <span class="number">120</span>,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿›</span></span><br><span class="line">  <span class="attr">tabWidth</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="comment">// ä¸ä½¿ç”¨ç¼©è¿›ç¬¦ï¼Œè€Œä½¿ç”¨ç©ºæ ¼</span></span><br><span class="line">  <span class="attr">useTabs</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// è¡Œå°¾éœ€è¦æœ‰åˆ†å·</span></span><br><span class="line">  <span class="attr">semi</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨å•å¼•å·</span></span><br><span class="line">  <span class="attr">singleQuote</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// å¯¹è±¡çš„ key ä»…åœ¨å¿…è¦æ—¶ç”¨å¼•å·</span></span><br><span class="line">  <span class="attr">quoteProps</span>: <span class="string">&#x27;as-needed&#x27;</span>,</span><br><span class="line">  <span class="comment">// jsx ä¸ä½¿ç”¨å•å¼•å·ï¼Œè€Œä½¿ç”¨åŒå¼•å·</span></span><br><span class="line">  <span class="attr">jsxSingleQuote</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// æœ«å°¾éœ€è¦æœ‰é€—å·</span></span><br><span class="line">  <span class="attr">trailingComma</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">  <span class="comment">// å¤§æ‹¬å·å†…çš„é¦–å°¾éœ€è¦ç©ºæ ¼</span></span><br><span class="line">  <span class="attr">bracketSpacing</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// jsx æ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ</span></span><br><span class="line">  <span class="attr">bracketSameLine</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// ç®­å¤´å‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æ‹¬å·</span></span><br><span class="line">  <span class="attr">arrowParens</span>: <span class="string">&#x27;always&#x27;</span>,</span><br><span class="line">  <span class="comment">// æ¯ä¸ªæ–‡ä»¶æ ¼å¼åŒ–çš„èŒƒå›´æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹</span></span><br><span class="line">  <span class="attr">rangeStart</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">rangeEnd</span>: <span class="literal">Infinity</span>,</span><br><span class="line">  <span class="comment">// ä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier</span></span><br><span class="line">  <span class="attr">requirePragma</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// ä¸éœ€è¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ @prettier</span></span><br><span class="line">  <span class="attr">insertPragma</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡†</span></span><br><span class="line">  <span class="attr">proseWrap</span>: <span class="string">&#x27;preserve&#x27;</span>,</span><br><span class="line">  <span class="comment">// æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®š html è¦ä¸è¦æŠ˜è¡Œ</span></span><br><span class="line">  <span class="attr">htmlWhitespaceSensitivity</span>: <span class="string">&#x27;css&#x27;</span>,</span><br><span class="line">  <span class="comment">// vue æ–‡ä»¶ä¸­çš„ script å’Œ style å†…ä¸ç”¨ç¼©è¿›</span></span><br><span class="line">  <span class="attr">vueIndentScriptAndStyle</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// æ¢è¡Œç¬¦ä½¿ç”¨ lf</span></span><br><span class="line">  <span class="attr">endOfLine</span>: <span class="string">&#x27;lf&#x27;</span>,</span><br><span class="line">  <span class="comment">// æ ¼å¼åŒ–å†…åµŒä»£ç </span></span><br><span class="line">  <span class="attr">embeddedLanguageFormatting</span>: <span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥ç¨‹åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
            <tag> eslint </tag>
            
            <tag> prettier </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typescript_æ³›å‹</title>
      <link href="post/typescript-%E6%B3%9B%E5%9E%8B/"/>
      <url>post/typescript-%E6%B3%9B%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€æ³›å‹æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ³›å‹æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ³›å‹æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ³›å‹æ˜¯ä»€ä¹ˆ</h3><p>è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºä¸€è‡´çš„å®šä¹‰è‰¯å¥½çš„ APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ã€‚ ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚</p><p><strong>åœ¨åƒ C# å’Œ Java è¿™æ ·çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚</strong></p><p>è®¾è®¡æ³›å‹çš„å…³é”®ç›®çš„æ˜¯åœ¨æˆå‘˜ä¹‹é—´æä¾›æœ‰æ„ä¹‰çš„çº¦æŸï¼Œè¿™äº›æˆå‘˜å¯ä»¥æ˜¯ï¼šç±»çš„å®ä¾‹æˆå‘˜ã€ç±»çš„æ–¹æ³•ã€å‡½æ•°å‚æ•°å’Œå‡½æ•°è¿”å›å€¼ã€‚</p><p>ä¸ºäº†ä¾¿äºå¤§å®¶æ›´å¥½åœ°ç†è§£ä¸Šè¿°çš„å†…å®¹ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€æ­¥æ­¥æ­ç¤ºæ³›å‹çš„ä½œç”¨ã€‚é¦–å…ˆæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªé€šç”¨çš„ <code>identity</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°å¹¶ç›´æ¥è¿”å›å®ƒï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identity(<span class="number">1</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°† <code>identity</code> å‡½æ•°åšé€‚å½“çš„è°ƒæ•´ï¼Œä»¥æ”¯æŒ TypeScript çš„ Number ç±»å‹çš„å‚æ•°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> (<span class="params">value: <span class="built_in">Number</span></span>) : <span class="title">Number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identity(<span class="number">1</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œ <code>identity</code> çš„é—®é¢˜æ˜¯æˆ‘ä»¬å°† <code>Number</code> ç±»å‹åˆ†é…ç»™å‚æ•°å’Œè¿”å›ç±»å‹ï¼Œä½¿è¯¥å‡½æ•°ä»…å¯ç”¨äºè¯¥åŸå§‹ç±»å‹ã€‚ä½†è¯¥å‡½æ•°å¹¶ä¸æ˜¯å¯æ‰©å±•æˆ–é€šç”¨çš„ï¼Œå¾ˆæ˜æ˜¾è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ã€‚</p><p>æˆ‘ä»¬ç¡®å®å¯ä»¥æŠŠ <code>Number</code> æ¢æˆ <code>any</code>ï¼Œæˆ‘ä»¬å¤±å»äº†å®šä¹‰åº”è¯¥è¿”å›å“ªç§ç±»å‹çš„èƒ½åŠ›ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä½¿ç¼–è¯‘å™¨å¤±å»äº†ç±»å‹ä¿æŠ¤çš„ä½œç”¨ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®© <code>identity</code> å‡½æ•°å¯ä»¥é€‚ç”¨äºä»»ä½•ç‰¹å®šçš„ç±»å‹ï¼Œä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³›å‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…·ä½“å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> &lt;<span class="title">T</span>&gt;(<span class="params">value: T</span>) : <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identity&lt;<span class="built_in">Number</span>&gt;(<span class="number">1</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>å¯¹äºåˆšæ¥è§¦ TypeScript æ³›å‹çš„è¯»è€…æ¥è¯´ï¼Œé¦–æ¬¡çœ‹åˆ° <code>&lt;T&gt;</code> è¯­æ³•ä¼šæ„Ÿåˆ°é™Œç”Ÿã€‚ä½†è¿™æ²¡ä»€ä¹ˆå¯æ‹…å¿ƒçš„ï¼Œå°±åƒä¼ é€’å‚æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬ä¼ é€’äº†æˆ‘ä»¬æƒ³è¦ç”¨äºç‰¹å®šå‡½æ•°è°ƒç”¨çš„ç±»å‹ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3d9774a21ac~tplv-t2oaga2asx-watermark.awebp" alt="generic-type-filled"></p><p>å‚è€ƒä¸Šé¢çš„å›¾ç‰‡ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ <code>identity&lt;Number&gt;(1)</code> ï¼Œ<code>Number</code> ç±»å‹å°±åƒå‚æ•° <code>1</code> ä¸€æ ·ï¼Œå®ƒå°†åœ¨å‡ºç° <code>T</code> çš„ä»»ä½•ä½ç½®å¡«å……è¯¥ç±»å‹ã€‚å›¾ä¸­ <code>&lt;T&gt;</code> å†…éƒ¨çš„ <code>T</code> è¢«ç§°ä¸ºç±»å‹å˜é‡ï¼Œå®ƒæ˜¯æˆ‘ä»¬å¸Œæœ›ä¼ é€’ç»™ identity å‡½æ•°çš„ç±»å‹å ä½ç¬¦ï¼ŒåŒæ—¶å®ƒè¢«åˆ†é…ç»™ <code>value</code> å‚æ•°ç”¨æ¥ä»£æ›¿å®ƒçš„ç±»å‹ï¼šæ­¤æ—¶ <code>T</code> å……å½“çš„æ˜¯ç±»å‹ï¼Œè€Œä¸æ˜¯ç‰¹å®šçš„ Number ç±»å‹ã€‚</p><p>å…¶ä¸­ <code>T</code> ä»£è¡¨ <strong>Type</strong>ï¼Œåœ¨å®šä¹‰æ³›å‹æ—¶é€šå¸¸ç”¨ä½œç¬¬ä¸€ä¸ªç±»å‹å˜é‡åç§°ã€‚ä½†å®é™…ä¸Š <code>T</code> å¯ä»¥ç”¨ä»»ä½•æœ‰æ•ˆåç§°ä»£æ›¿ã€‚é™¤äº† <code>T</code> ä¹‹å¤–ï¼Œä»¥ä¸‹æ˜¯å¸¸è§æ³›å‹å˜é‡ä»£è¡¨çš„æ„æ€ï¼š</p><ul><li>Kï¼ˆKeyï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„é”®ç±»å‹ï¼›</li><li>Vï¼ˆValueï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„å€¼ç±»å‹ï¼›</li><li>Eï¼ˆElementï¼‰ï¼šè¡¨ç¤ºå…ƒç´ ç±»å‹ã€‚</li></ul><p>å…¶å®å¹¶ä¸æ˜¯åªèƒ½å®šä¹‰ä¸€ä¸ªç±»å‹å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥å¸Œæœ›å®šä¹‰çš„ä»»ä½•æ•°é‡çš„ç±»å‹å˜é‡ã€‚æ¯”å¦‚æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„ç±»å‹å˜é‡ <code>U</code>ï¼Œç”¨äºæ‰©å±•æˆ‘ä»¬å®šä¹‰çš„ <code>identity</code> å‡½æ•°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> &lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">value: T, message: U</span>) : <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(message);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identity&lt;<span class="built_in">Number</span>, <span class="built_in">string</span>&gt;(<span class="number">68</span>, <span class="string">&quot;Semlinker&quot;</span>));</span><br></pre></td></tr></table></figure><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3dbccc38ea7~tplv-t2oaga2asx-watermark.awebp" alt="generic-multi-type-filled"></p><p>é™¤äº†ä¸ºç±»å‹å˜é‡æ˜¾å¼è®¾å®šå€¼ä¹‹å¤–ï¼Œä¸€ç§æ›´å¸¸è§çš„åšæ³•æ˜¯ä½¿ç¼–è¯‘å™¨è‡ªåŠ¨é€‰æ‹©è¿™äº›ç±»å‹ï¼Œä»è€Œä½¿ä»£ç æ›´ç®€æ´ã€‚æˆ‘ä»¬å¯ä»¥å®Œå…¨çœç•¥å°–æ‹¬å·ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> &lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">value: T, message: U</span>) : <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(message);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identity(<span class="number">68</span>, <span class="string">&quot;Semlinker&quot;</span>));</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>å¯¹äºä¸Šè¿°ä»£ç ï¼Œç¼–è¯‘å™¨è¶³å¤Ÿèªæ˜ï¼Œèƒ½å¤ŸçŸ¥é“æˆ‘ä»¬çš„å‚æ•°ç±»å‹ï¼Œå¹¶å°†å®ƒä»¬èµ‹å€¼ç»™ T å’Œ Uï¼Œè€Œä¸éœ€è¦å¼€å‘äººå‘˜æ˜¾å¼æŒ‡å®šå®ƒä»¬ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹å¼ åŠ¨å›¾ï¼Œç›´è§‚åœ°æ„Ÿå—ä¸€ä¸‹ç±»å‹ä¼ é€’çš„è¿‡ç¨‹ï¼š</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/6/10/1729b3d9773f34ad~tplv-t2oaga2asx-watermark.awebp" alt="generic-type-filled"></p><p>å¦‚ä½ æ‰€è§ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä½ ä¼ é€’ç»™å®ƒçš„ä»»ä½•ç±»å‹ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒç±»å‹åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ <code>identity</code> å‡½æ•°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> &lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">value: T, message: U</span>) : <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(message);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç›¸æ¯”ä¹‹å‰å®šä¹‰çš„ <code>identity</code> å‡½æ•°ï¼Œæ–°çš„ <code>identity</code> å‡½æ•°å¢åŠ äº†ä¸€ä¸ªç±»å‹å˜é‡ <code>U</code>ï¼Œä½†è¯¥å‡½æ•°çš„è¿”å›ç±»å‹æˆ‘ä»¬ä»ç„¶ä½¿ç”¨ <code>T</code>ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦è¿”å›ä¸¤ç§ç±»å‹çš„å¯¹è±¡è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æœ‰å¤šç§æ–¹æ¡ˆï¼Œå…¶ä¸­ä¸€ç§å°±æ˜¯ä½¿ç”¨å…ƒç»„ï¼Œå³ä¸ºå…ƒç»„è®¾ç½®é€šç”¨çš„ç±»å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> &lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">value: T, message: U</span>) : [<span class="title">T</span>, <span class="title">U</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [value, message];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è™½ç„¶ä½¿ç”¨å…ƒç»„è§£å†³äº†ä¸Šè¿°çš„é—®é¢˜ï¼Œä½†æœ‰æ²¡æœ‰å…¶å®ƒæ›´å¥½çš„æ–¹æ¡ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨æ³›å‹æ¥å£ã€‚</p><h3 id="äºŒã€æ³›å‹æ¥å£"><a href="#äºŒã€æ³›å‹æ¥å£" class="headerlink" title="äºŒã€æ³›å‹æ¥å£"></a>äºŒã€æ³›å‹æ¥å£</h3><p>ä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ï¼Œé¦–å…ˆè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”¨äºçš„ <code>identity</code> å‡½æ•°é€šç”¨ <code>Identities</code> æ¥å£ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Identities&lt;V, M&gt; &#123;</span><br><span class="line">  <span class="attr">value</span>: V,</span><br><span class="line">  <span class="attr">message</span>: M</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°çš„ <code>Identities</code> æ¥å£ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ç±»å‹å˜é‡ <code>V</code> å’Œ <code>M</code>ï¼Œæ¥è¿›ä¸€æ­¥è¯´æ˜æœ‰æ•ˆçš„å­—æ¯éƒ½å¯ä»¥ç”¨äºè¡¨ç¤ºç±»å‹å˜é‡ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥å°† <code>Identities</code> æ¥å£ä½œä¸º <code>identity</code> å‡½æ•°çš„è¿”å›ç±»å‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt; (<span class="params">value: T, message: U</span>): <span class="title">Identities</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value + <span class="string">&quot;: &quot;</span> + <span class="keyword">typeof</span> (value));</span><br><span class="line">  <span class="built_in">console</span>.log(message + <span class="string">&quot;: &quot;</span> + <span class="keyword">typeof</span> (message));</span><br><span class="line">  <span class="keyword">let</span> identities: Identities&lt;T, U&gt; = &#123;</span><br><span class="line">    value,</span><br><span class="line">    message</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> identities;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(identity(<span class="number">68</span>, <span class="string">&quot;Semlinker&quot;</span>));</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æˆåŠŸè¿è¡Œåï¼Œåœ¨æ§åˆ¶å°ä¼šè¾“å‡ºä»¥ä¸‹ç»“æœï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">68</span>: <span class="built_in">number</span></span><br><span class="line"><span class="attr">Semlinker</span>: <span class="built_in">string</span></span><br><span class="line">&#123;<span class="attr">value</span>: <span class="number">68</span>, <span class="attr">message</span>: <span class="string">&quot;Semlinker&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>æ³›å‹é™¤äº†å¯ä»¥åº”ç”¨åœ¨å‡½æ•°å’Œæ¥å£ä¹‹å¤–ï¼Œå®ƒä¹Ÿå¯ä»¥åº”ç”¨åœ¨ç±»ä¸­ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹åœ¨ç±»ä¸­å¦‚ä½•ä½¿ç”¨æ³›å‹ã€‚</p><h3 id="ä¸‰ã€æ³›å‹ç±»"><a href="#ä¸‰ã€æ³›å‹ç±»" class="headerlink" title="ä¸‰ã€æ³›å‹ç±»"></a>ä¸‰ã€æ³›å‹ç±»</h3><p>åœ¨ç±»ä¸­ä½¿ç”¨æ³›å‹ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç±»ååé¢ï¼Œä½¿ç”¨ <code>&lt;T, ...&gt;</code> çš„è¯­æ³•å®šä¹‰ä»»æ„å¤šä¸ªç±»å‹å˜é‡ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> GenericInterface&lt;U&gt; &#123;</span><br><span class="line">  <span class="attr">value</span>: U</span><br><span class="line">  <span class="attr">getIdentity</span>: <span class="function">() =&gt;</span> U</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdentityClass</span>&lt;<span class="title">T</span>&gt; <span class="title">implements</span> <span class="title">GenericInterface</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="attr">value</span>: T</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">value: T</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.value = value</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getIdentity(): T &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.value</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myNumberClass = <span class="keyword">new</span> IdentityClass&lt;<span class="built_in">Number</span>&gt;(<span class="number">68</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myNumberClass.getIdentity()); <span class="comment">// 68</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myStringClass = <span class="keyword">new</span> IdentityClass&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;Semlinker!&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(myStringClass.getIdentity()); <span class="comment">// Semlinker!</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä»¥å®ä¾‹åŒ– <code>myNumberClass</code> ä¸ºä¾‹ï¼Œæ¥åˆ†æä¸€ä¸‹å…¶è°ƒç”¨è¿‡ç¨‹ï¼š</p><ul><li>åœ¨å®ä¾‹åŒ– <code>IdentityClass</code> å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ä¼ å…¥ <code>Number</code> ç±»å‹å’Œæ„é€ å‡½æ•°å‚æ•°å€¼ <code>68</code>ï¼›</li><li>ä¹‹ååœ¨ <code>IdentityClass</code> ç±»ä¸­ï¼Œç±»å‹å˜é‡ <code>T</code> çš„å€¼å˜æˆ <code>Number</code> ç±»å‹ï¼›</li><li><code>IdentityClass</code> ç±»å®ç°äº† <code>GenericInterface&lt;T&gt;</code>ï¼Œè€Œæ­¤æ—¶ <code>T</code> è¡¨ç¤º <code>Number</code> ç±»å‹ï¼Œå› æ­¤ç­‰ä»·äºè¯¥ç±»å®ç°äº† <code>GenericInterface&lt;Number&gt;</code> æ¥å£ï¼›</li><li>è€Œå¯¹äº <code>GenericInterface&lt;U&gt;</code> æ¥å£æ¥è¯´ï¼Œç±»å‹å˜é‡ <code>U</code> ä¹Ÿå˜æˆäº† <code>Number</code>ã€‚è¿™é‡Œæˆ‘æœ‰æ„ä½¿ç”¨ä¸åŒçš„å˜é‡åï¼Œä»¥è¡¨æ˜ç±»å‹å€¼æ²¿é“¾å‘ä¸Šä¼ æ’­ï¼Œä¸”ä¸å˜é‡åæ— å…³ã€‚</li></ul><p>æ³›å‹ç±»å¯ç¡®ä¿åœ¨æ•´ä¸ªç±»ä¸­ä¸€è‡´åœ°ä½¿ç”¨æŒ‡å®šçš„æ•°æ®ç±»å‹ã€‚æ¯”å¦‚ï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°åœ¨ä½¿ç”¨ Typescript çš„ React é¡¹ç›®ä¸­ä½¿ç”¨äº†ä»¥ä¸‹çº¦å®šï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Props = &#123;</span><br><span class="line">  className?: <span class="built_in">string</span></span><br><span class="line">   ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> State = &#123;</span><br><span class="line">  submitted?: bool</span><br><span class="line">   ...</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">Props</span>, <span class="title">State</span>&gt; </span>&#123;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†æ³›å‹ä¸ React ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ç¡®ä¿ç»„ä»¶çš„ props å’Œ state æ˜¯ç±»å‹å®‰å…¨çš„ã€‚</p><p>ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œä¸€äº›è¯»è€…ä¼šæœ‰ç–‘é—®ï¼Œæˆ‘ä»¬åœ¨ä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨æ³›å‹å‘¢ï¼Ÿé€šå¸¸åœ¨å†³å®šæ˜¯å¦ä½¿ç”¨æ³›å‹æ—¶ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸¤ä¸ªå‚è€ƒæ ‡å‡†ï¼š</p><ul><li>å½“ä½ çš„å‡½æ•°ã€æ¥å£æˆ–ç±»å°†å¤„ç†å¤šç§æ•°æ®ç±»å‹æ—¶ï¼›</li><li>å½“å‡½æ•°ã€æ¥å£æˆ–ç±»åœ¨å¤šä¸ªåœ°æ–¹ä½¿ç”¨è¯¥æ•°æ®ç±»å‹æ—¶ã€‚</li></ul><p>å¾ˆæœ‰å¯èƒ½ä½ æ²¡æœ‰åŠæ³•ä¿è¯åœ¨é¡¹ç›®æ—©æœŸå°±ä½¿ç”¨æ³›å‹çš„ç»„ä»¶ï¼Œä½†æ˜¯éšç€é¡¹ç›®çš„å‘å±•ï¼Œç»„ä»¶çš„åŠŸèƒ½é€šå¸¸ä¼šè¢«æ‰©å±•ã€‚è¿™ç§å¢åŠ çš„å¯æ‰©å±•æ€§æœ€ç»ˆå¾ˆå¯èƒ½ä¼šæ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¼•å…¥æ³›å‹å°†æ¯”å¤åˆ¶ç»„ä»¶æ¥æ»¡è¶³ä¸€ç³»åˆ—æ•°æ®ç±»å‹æ›´å¹²å‡€ã€‚</p><p>æˆ‘ä»¬å°†åœ¨æœ¬æ–‡çš„åé¢æ¢è®¨æ›´å¤šæ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶çš„ç”¨ä¾‹ã€‚ä¸è¿‡åœ¨è¿™æ ·åšä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹ Typescript æ³›å‹æä¾›çš„å…¶ä»–åŠŸèƒ½ã€‚</p><h3 id="å››ã€æ³›å‹çº¦æŸ"><a href="#å››ã€æ³›å‹çº¦æŸ" class="headerlink" title="å››ã€æ³›å‹çº¦æŸ"></a>å››ã€æ³›å‹çº¦æŸ</h3><p>æœ‰æ—¶æˆ‘ä»¬å¯èƒ½å¸Œæœ›é™åˆ¶æ¯ä¸ªç±»å‹å˜é‡æ¥å—çš„ç±»å‹æ•°é‡ï¼Œè¿™å°±æ˜¯æ³›å‹çº¦æŸçš„ä½œç”¨ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾å‡ ä¸ªä¾‹å­ï¼Œä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨æ³›å‹çº¦æŸã€‚</p><h4 id="4-1-ç¡®ä¿å±æ€§å­˜åœ¨"><a href="#4-1-ç¡®ä¿å±æ€§å­˜åœ¨" class="headerlink" title="4.1 ç¡®ä¿å±æ€§å­˜åœ¨"></a>4.1 ç¡®ä¿å±æ€§å­˜åœ¨</h4><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç±»å‹å˜é‡å¯¹åº”çš„ç±»å‹ä¸Šå­˜åœ¨æŸäº›å±æ€§ã€‚è¿™æ—¶ï¼Œé™¤éæˆ‘ä»¬æ˜¾å¼åœ°å°†ç‰¹å®šå±æ€§å®šä¹‰ä¸ºç±»å‹å˜é‡ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¸ä¼šçŸ¥é“å®ƒä»¬çš„å­˜åœ¨ã€‚</p><p>ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯åœ¨å¤„ç†å­—ç¬¦ä¸²æˆ–æ•°ç»„æ—¶ï¼Œæˆ‘ä»¬ä¼šå‡è®¾ <code>length</code> å±æ€§æ˜¯å¯ç”¨çš„ã€‚è®©æˆ‘ä»¬å†æ¬¡ä½¿ç”¨ <code>identity</code> å‡½æ•°å¹¶å°è¯•è¾“å‡ºå‚æ•°çš„é•¿åº¦ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg.length); <span class="comment">// Error</span></span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†ä¸ä¼šçŸ¥é“ <code>T</code> ç¡®å®å«æœ‰ <code>length</code> å±æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¯ä»¥å°†ä»»ä½•ç±»å‹èµ‹ç»™ç±»å‹å˜é‡ <code>T</code> çš„æƒ…å†µä¸‹ã€‚æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯è®©ç±»å‹å˜é‡ <code>extends</code> ä¸€ä¸ªå«æœ‰æˆ‘ä»¬æ‰€éœ€å±æ€§çš„æ¥å£ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Length &#123;</span><br><span class="line">  <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Length</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg.length); <span class="comment">// å¯ä»¥è·å–lengthå±æ€§</span></span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>T extends Length</code> ç”¨äºå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬æ”¯æŒå·²ç»å®ç° <code>Length</code> æ¥å£çš„ä»»ä½•ç±»å‹ã€‚ä¹‹åï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ä¸å«æœ‰ <code>length</code> å±æ€§çš„å¯¹è±¡ä½œä¸ºå‚æ•°è°ƒç”¨  <code>identity</code> å‡½æ•°æ—¶ï¼ŒTypeScript ä¼šæç¤ºç›¸å…³çš„é”™è¯¯ä¿¡æ¯ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">identity(<span class="number">68</span>); <span class="comment">// Error</span></span><br><span class="line"><span class="comment">// Argument of type &#x27;68&#x27; is not assignable to parameter of type &#x27;Length&#x27;.(2345)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>,</code> å·æ¥åˆ†éš”å¤šç§çº¦æŸç±»å‹ï¼Œæ¯”å¦‚ï¼š<code>&lt;T extends Length, Type2, Type3&gt;</code>ã€‚è€Œå¯¹äºä¸Šè¿°çš„ <code>length</code> å±æ€§é—®é¢˜æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬æ˜¾å¼åœ°å°†å˜é‡è®¾ç½®ä¸ºæ•°ç»„ç±»å‹ï¼Œä¹Ÿå¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼Œå…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T[]</span>): <span class="title">T</span>[] </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(arg.length);  </span><br><span class="line">   <span class="keyword">return</span> arg; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: <span class="built_in">Array</span>&lt;T&gt;</span>): <span class="title">Array</span>&lt;<span class="title">T</span>&gt; </span>&#123;      </span><br><span class="line">  <span class="built_in">console</span>.log(arg.length);</span><br><span class="line">  <span class="keyword">return</span> arg; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="4-2-æ£€æŸ¥å¯¹è±¡ä¸Šçš„é”®æ˜¯å¦å­˜åœ¨"><a href="#4-2-æ£€æŸ¥å¯¹è±¡ä¸Šçš„é”®æ˜¯å¦å­˜åœ¨" class="headerlink" title="4.2 æ£€æŸ¥å¯¹è±¡ä¸Šçš„é”®æ˜¯å¦å­˜åœ¨"></a>4.2 æ£€æŸ¥å¯¹è±¡ä¸Šçš„é”®æ˜¯å¦å­˜åœ¨</h4><p>æ³›å‹çº¦æŸçš„å¦ä¸€ä¸ªå¸¸è§çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯æ£€æŸ¥å¯¹è±¡ä¸Šçš„é”®æ˜¯å¦å­˜åœ¨ã€‚ä¸è¿‡åœ¨çœ‹å…·ä½“ç¤ºä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—æ¥äº†è§£ä¸€ä¸‹ <code>keyof</code> æ“ä½œç¬¦ï¼Œ**<code>keyof</code> æ“ä½œç¬¦æ˜¯åœ¨ TypeScript 2.1 ç‰ˆæœ¬å¼•å…¥çš„ï¼Œè¯¥æ“ä½œç¬¦å¯ä»¥ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ã€‚** â€œè€³å¬ä¸ºè™šï¼Œçœ¼è§ä¸ºå®â€ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸ª <code>keyof</code> çš„ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  location: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> K1 = keyof Person; <span class="comment">// &quot;name&quot; | &quot;age&quot; | &quot;location&quot;</span></span><br><span class="line"><span class="keyword">type</span> K2 = keyof Person[];  <span class="comment">// number | &quot;length&quot; | &quot;push&quot; | &quot;concat&quot; | ...</span></span><br><span class="line"><span class="keyword">type</span> K3 = keyof &#123; [x: <span class="built_in">string</span>]: Person &#125;;  <span class="comment">// string | number</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é€šè¿‡ <code>keyof</code> æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æŒ‡å®šç±»å‹çš„æ‰€æœ‰é”®ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç»“åˆå‰é¢ä»‹ç»çš„ <code>extends</code> çº¦æŸï¼Œå³é™åˆ¶è¾“å…¥çš„å±æ€§ååŒ…å«åœ¨ <code>keyof</code> è¿”å›çš„è”åˆç±»å‹ä¸­ã€‚å…·ä½“çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProperty</span>&lt;<span class="title">T</span>, <span class="title">K</span> <span class="title">extends</span> <span class="title">keyof</span> <span class="title">T</span>&gt;(<span class="params">obj: T, key: K</span>): <span class="title">T</span>[<span class="title">K</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj[key];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šçš„ <code>getProperty</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>K extends keyof T</code> ç¡®ä¿å‚æ•° key ä¸€å®šæ˜¯å¯¹è±¡ä¸­å«æœ‰çš„é”®ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿè¿è¡Œæ—¶é”™è¯¯ã€‚è¿™æ˜¯ä¸€ä¸ªç±»å‹å®‰å…¨çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ç®€å•è°ƒç”¨ <code>let value = obj[key];</code> ä¸åŒã€‚</p><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ <code>getProperty</code> å‡½æ•°ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Difficulty &#123;</span><br><span class="line">  Easy,</span><br><span class="line">  Intermediate,</span><br><span class="line">  Hard</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProperty</span>&lt;<span class="title">T</span>, <span class="title">K</span> <span class="title">extends</span> <span class="title">keyof</span> <span class="title">T</span>&gt;(<span class="params">obj: T, key: K</span>): <span class="title">T</span>[<span class="title">K</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj[key];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> tsInfo = &#123;</span><br><span class="line">   <span class="attr">name</span>: <span class="string">&quot;Typescript&quot;</span>,</span><br><span class="line">   <span class="attr">supersetOf</span>: <span class="string">&quot;Javascript&quot;</span>,</span><br><span class="line">   <span class="attr">difficulty</span>: Difficulty.Intermediate</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> difficulty: Difficulty = </span><br><span class="line">  getProperty(tsInfo, <span class="string">&#x27;difficulty&#x27;</span>); <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> supersetOf: <span class="built_in">string</span> = </span><br><span class="line">  getProperty(tsInfo, <span class="string">&#x27;superset_of&#x27;</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šç¤ºä¾‹ä¸­ï¼Œå¯¹äº <code>getProperty(tsInfo, &#39;superset_of&#39;)</code> è¿™ä¸ªè¡¨è¾¾å¼ï¼ŒTypeScript ç¼–è¯‘å™¨ä¼šæç¤ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Argument <span class="keyword">of</span> <span class="keyword">type</span> <span class="string">&#x27;&quot;superset_of&quot;&#x27;</span> is not assignable to parameter <span class="keyword">of</span> <span class="keyword">type</span> </span><br><span class="line"><span class="string">&#x27;&quot;difficulty&quot; | &quot;name&quot; | &quot;supersetOf&quot;&#x27;</span>.(<span class="number">2345</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¾ˆæ˜æ˜¾é€šè¿‡ä½¿ç”¨æ³›å‹çº¦æŸï¼Œåœ¨ç¼–è¯‘é˜¶æ®µæˆ‘ä»¬å°±å¯ä»¥æå‰å‘ç°é”™è¯¯ï¼Œå¤§å¤§æé«˜äº†ç¨‹åºçš„å¥å£®æ€§å’Œç¨³å®šæ€§ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹æ³›å‹å‚æ•°é»˜è®¤ç±»å‹ã€‚</p><h3 id="äº”ã€æ³›å‹å‚æ•°é»˜è®¤ç±»å‹"><a href="#äº”ã€æ³›å‹å‚æ•°é»˜è®¤ç±»å‹" class="headerlink" title="äº”ã€æ³›å‹å‚æ•°é»˜è®¤ç±»å‹"></a>äº”ã€æ³›å‹å‚æ•°é»˜è®¤ç±»å‹</h3><p>åœ¨ TypeScript 2.3 ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ³›å‹ä¸­çš„ç±»å‹å‚æ•°æŒ‡å®šé»˜è®¤ç±»å‹ã€‚å½“ä½¿ç”¨æ³›å‹æ—¶æ²¡æœ‰åœ¨ä»£ç ä¸­ç›´æ¥æŒ‡å®šç±»å‹å‚æ•°ï¼Œä»å®é™…å€¼å‚æ•°ä¸­ä¹Ÿæ— æ³•æ¨æ–­å‡ºç±»å‹æ—¶ï¼Œè¿™ä¸ªé»˜è®¤ç±»å‹å°±ä¼šèµ·ä½œç”¨ã€‚</p><p>æ³›å‹å‚æ•°é»˜è®¤ç±»å‹ä¸æ™®é€šå‡½æ•°é»˜è®¤å€¼ç±»ä¼¼ï¼Œå¯¹åº”çš„è¯­æ³•å¾ˆç®€å•ï¼Œå³ <code>&lt;T=Default Type&gt;</code>ï¼Œå¯¹åº”çš„ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A&lt;T=string&gt; &#123;</span><br><span class="line">  <span class="attr">name</span>: T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> strA: A = &#123; <span class="attr">name</span>: <span class="string">&quot;Semlinker&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> numB: A&lt;<span class="built_in">number</span>&gt; = &#123; <span class="attr">name</span>: <span class="number">101</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³›å‹å‚æ•°çš„é»˜è®¤ç±»å‹éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p><ul><li>æœ‰é»˜è®¤ç±»å‹çš„ç±»å‹å‚æ•°è¢«è®¤ä¸ºæ˜¯å¯é€‰çš„ã€‚</li><li>å¿…é€‰çš„ç±»å‹å‚æ•°ä¸èƒ½åœ¨å¯é€‰çš„ç±»å‹å‚æ•°åã€‚</li><li>å¦‚æœç±»å‹å‚æ•°æœ‰çº¦æŸï¼Œç±»å‹å‚æ•°çš„é»˜è®¤ç±»å‹å¿…é¡»æ»¡è¶³è¿™ä¸ªçº¦æŸã€‚</li><li>å½“æŒ‡å®šç±»å‹å®å‚æ—¶ï¼Œä½ åªéœ€è¦æŒ‡å®šå¿…é€‰ç±»å‹å‚æ•°çš„ç±»å‹å®å‚ã€‚ æœªæŒ‡å®šçš„ç±»å‹å‚æ•°ä¼šè¢«è§£æä¸ºå®ƒä»¬çš„é»˜è®¤ç±»å‹ã€‚</li><li>å¦‚æœæŒ‡å®šäº†é»˜è®¤ç±»å‹ï¼Œä¸”ç±»å‹æ¨æ–­æ— æ³•é€‰æ‹©ä¸€ä¸ªå€™é€‰ç±»å‹ï¼Œé‚£ä¹ˆå°†ä½¿ç”¨é»˜è®¤ç±»å‹ä½œä¸ºæ¨æ–­ç»“æœã€‚</li><li>ä¸€ä¸ªè¢«ç°æœ‰ç±»æˆ–æ¥å£åˆå¹¶çš„ç±»æˆ–è€…æ¥å£çš„å£°æ˜å¯ä»¥ä¸ºç°æœ‰ç±»å‹å‚æ•°å¼•å…¥é»˜è®¤ç±»å‹ã€‚</li><li>ä¸€ä¸ªè¢«ç°æœ‰ç±»æˆ–æ¥å£åˆå¹¶çš„ç±»æˆ–è€…æ¥å£çš„å£°æ˜å¯ä»¥å¼•å…¥æ–°çš„ç±»å‹å‚æ•°ï¼Œåªè¦å®ƒæŒ‡å®šäº†é»˜è®¤ç±»å‹ã€‚</li></ul><p>è½¬è½½è‡ªï¼š<a href="https://juejin.cn/post/6844904184894980104">https://juejin.cn/post/6844904184894980104</a></p>]]></content>
      
      
      <categories>
          
          <category> typescript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
            <tag> æ³›å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆå‰ç«¯å·¥ç¨‹åŒ–</title>
      <link href="post/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
      <url>post/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<p><strong>ç‹­ä¹‰ä¸Šçš„ç†è§£ï¼š</strong>å°†å¼€å‘é˜¶æ®µçš„ä»£ç å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼ŒåŒ…å«ï¼šæ„å»ºï¼Œåˆ†æ”¯ç®¡ç†ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œéƒ¨ç½²</p><p><strong>å¹¿ä¹‰ä¸Šç†è§£ï¼š</strong>å‰ç«¯å·¥ç¨‹åŒ–åº”è¯¥åŒ…å«ä»ç¼–ç å¼€å§‹åˆ°å‘å¸ƒï¼Œè¿è¡Œå’Œç»´æŠ¤é˜¶æ®µ</p><p>ä¹Ÿæœ‰äººæŠŠ <strong>å‰ç«¯å·¥ç¨‹åŒ–</strong> ç­‰åŒäº <strong>æ•ˆç‡å·¥ç¨‹</strong></p><p>è®¤ä¸ºä¸€åˆ‡èƒ½æå‡å‰ç«¯å¼€å‘æ•ˆç‡ã€æé«˜å‰ç«¯åº”ç”¨è´¨é‡çš„æ–¹æ³•å’Œå·¥å…·éƒ½æ˜¯å‰ç«¯å·¥ç¨‹åŒ–ï¼Œæˆ‘è§‰å¾—è¿™ä¹ˆç†è§£ä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œæå‡å¼€å‘æ•ˆç‡ã€æå‡äº§å“è´¨é‡ã€é™ä½å¼€å‘éš¾åº¦ã€é™ä½ä¼ä¸šæˆæœ¬åº”è¯¥æ˜¯å·¥ç¨‹åŒ–çš„æ„ä¹‰æ‰€åœ¨ã€‚</p><p><img src="https://pic1.zhimg.com/80/v2-6d8a4d2618cd852c780d35847b0b27ab_1440w.jpg?source=1940ef5c"></p><p>å¦å¤–ä¸€ä¸ªå°±æ˜¯å‰ç«¯å·¥ç¨‹åŒ–ä¸æ˜¯å…·ä½“çš„æŸé¡¹æŠ€æœ¯å’Œæ–¹æ³•ï¼Œå…¬å¸çš„ç»„ç»‡æ¶æ„ã€äº§å“å½¢æ€ã€æ‰€å¤„çš„é˜¶æ®µä¸åŒå¯èƒ½å·¥ç¨‹åŒ–å…·ä½“çš„æ–¹æ³•å’Œå®è·µå®Œå…¨ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆä»æˆ‘çš„è§’åº¦ï¼Œç®€å•æŠŠå·¥ç¨‹åŒ–åˆ’åˆ†äº†5éƒ¨åˆ†ï¼šå¼€å‘ã€æ„å»ºã€éƒ¨ç½²ã€æ€§èƒ½ã€è§„èŒƒåŒ–ï¼Œ å¯¹äºåˆ†ç±»å’Œå…·ä½“åŒ…å«çš„é¡¹æˆ–è®¸ä½ ä¸ä¸€å®šè®¤åŒï¼Œä½†æ˜¯å¦‚æœæ‰€æœ‰çš„çŸ¥è¯†ç‚¹ä½ éƒ½å¾ˆç†Ÿæ‚‰å’ŒæŒæ¡ï¼Œé‚£ä¹ˆä½ çš„å‰ç«¯å·¥ç¨‹åŒ–æ°´å¹³ç»å¯¹æ˜¯ä¸­é«˜çº§çš„ã€‚</p><p><img src="https://pic2.zhimg.com/80/v2-e1ac6afa6b0b11ae344728fa451472b0_1440w.jpg?source=1940ef5c" alt="img"></p><p><img src="https://pica.zhimg.com/80/v2-c4050cd0668ae0e487557ade3e338ca5_1440w.jpg?source=1940ef5c" alt="img"></p><p><img src="https://pic1.zhimg.com/80/v2-58400269d9247f458b55edfc17eb5b01_1440w.jpg?source=1940ef5c" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ç¨‹åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ç¨‹åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nuxté›†æˆaxios</title>
      <link href="post/nuxt%E8%87%B3axios%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/"/>
      <url>post/nuxt%E8%87%B3axios%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="nuxté›†æˆaxios"><a href="#nuxté›†æˆaxios" class="headerlink" title="nuxté›†æˆaxios"></a>nuxté›†æˆaxios</h2><ol><li><p>æ·»åŠ @nuxt/axiosæ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nuxt.config.js</span></span><br><span class="line"><span class="attr">modules</span>: [</span><br><span class="line">    <span class="comment">// https://go.nuxtjs.dev/axios</span></span><br><span class="line">    <span class="string">&#x27;@nuxtjs/axios&#x27;</span>,</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»º plugins/axios.js æ–‡ä»¶,å¹¶ä¸”æ·»åŠ åˆ°nuxt.config.js   plugins éƒ¨åˆ†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugins/axios.js</span></span><br><span class="line"><span class="comment">// åœ¨è¿™ä¸ªæ–‡ä»¶æ‰©å±•axios</span></span><br><span class="line"><span class="comment">// æ¯”å¦‚æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">&#123; $axios, redirect &#125;</span>) </span>&#123;</span><br><span class="line">  $axios.onRequest(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Making request to &#x27;</span> + config.baseURL)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  $axios.onError(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;error&#x27;</span>, error.config)</span><br><span class="line">    <span class="keyword">const</span> code = <span class="built_in">parseInt</span>(error.response &amp;&amp; error.response.status)</span><br><span class="line">    <span class="keyword">if</span> (code === <span class="number">400</span>) &#123;</span><br><span class="line">      redirect(<span class="string">&#x27;/400&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>å¼€å‘ç¯å¢ƒè®¾ç½®</p><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">   <span class="attr">&quot;dev&quot;</span>: <span class="string">&quot;cross-env NODE_ENV=development nuxt&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;cross-env BASE_URL=https://www.fastmock.site/mock/f439fbc065d4f2589540eb4c13c98c0d/api NODE_ENV=production nuxt start&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;cross-env BASE_URL=https://www.fastmock.site/mock/f439fbc065d4f2589540eb4c13c98c0d/api NODE_ENV=production nuxt build&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;generate&quot;</span>: <span class="string">&quot;cross-env BASE_URL=https://www.fastmock.site/mock/f439fbc065d4f2589540eb4c13c98c0d/api NODE_ENV=production nuxt generate&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;lint:js&quot;</span>: <span class="string">&quot;eslint --ext \&quot;.js,.vue\&quot; --ignore-path .gitignore .&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;yarn lint:js&quot;</span></span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><p>nuxt.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">env: &#123;</span><br><span class="line">    <span class="attr">baseURL</span>: process.env.BASE_URL, <span class="comment">// é€šè¿‡cross-env ä¼ å…¥</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">axios</span>: &#123;</span><br><span class="line">    <span class="attr">baseURL</span>: process.env.BASE_URL, <span class="comment">// apiè¯·æ±‚baseURL </span></span><br><span class="line">    <span class="attr">proxy</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">prefix</span>: <span class="string">&#x27;/api&#x27;</span>,</span><br><span class="line">    <span class="attr">credentials</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">proxy</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">target</span>:</span><br><span class="line">        <span class="string">&#x27;https://www.fastmock.site/mock/aad51ea8550cdcd9b4dfa07f8f812ae3/api&#x27;</span>,</span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;/api&#x27;</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure></li><li><p>apiç»Ÿä¸€æ”¾åœ¨plugin/api.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">&#123; app, $axios, redirect &#125;, inject</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> API = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  API.getUserInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $axios(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/getUserInfo&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  app.api = API</span><br><span class="line">  inject(<span class="string">&#x27;api&#x27;</span>, API)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>axios ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;nuxt-link to=&quot;/about&quot;&gt;å…³äº&lt;/nuxt-link&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; userInfo.name &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; userInfo.age &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; userInfo.sex &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123; userInfo.tel &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  async asyncData(&#123; $axios, app, store, $api, $nuxt &#125;) &#123;</span><br><span class="line">    // console.log($api)</span><br><span class="line">    console.log(process.env.BASE_URL)</span><br><span class="line">    const &#123; data &#125; = await $api.getUserInfo()</span><br><span class="line">    console.log(data)</span><br><span class="line">    return &#123;</span><br><span class="line">      userInfo: data.data,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 1,</span><br><span class="line">      userInfo: &#123;&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  async fetch(&#123; $axios, app, store, $api, $nuxt &#125;) &#123;</span><br><span class="line">    // console.log($api)</span><br><span class="line">    // if (process.server) &#123;</span><br><span class="line">    // const &#123; data &#125; = await $api.getPublicKey()</span><br><span class="line">    // console.log(data)</span><br><span class="line">    // &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
          <category> nuxt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nuxt </tag>
            
            <tag> axios </tag>
            
            <tag> cross-dev </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ å¯†ä¸å“ˆå¸Œ</title>
      <link href="post/%E5%93%88%E5%B8%8C%E5%92%8C%E5%8A%A0%E5%AF%86/"/>
      <url>post/%E5%93%88%E5%B8%8C%E5%92%8C%E5%8A%A0%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a><strong>åŒºåˆ«</strong></h3><p>é¦–å…ˆå°±æ¦‚å¿µä¸Šæ¥è¯´ï¼šhashæ˜¯å°†ç›®æ ‡æ–‡æœ¬è½¬æ¢æˆå…·æœ‰ç›¸åŒé•¿åº¦çš„ã€ä¸å¯é€†çš„æ‚å‡‘å­—ç¬¦ä¸²ï¼ŒEncryptæ˜¯å°†ç›®æ ‡æ–‡æœ¬è½¬æ¢æˆä¸åŒé•¿åº¦çš„ã€å¯é€†çš„å¯†æ–‡ã€‚ä»æ¦‚å¿µä¸Šå¯ä»¥çœ‹å‡ºä¸¤è€…çš„åŒºåˆ«ï¼Œä¸‹é¢å°±ä¸åšå…·ä½“çš„é˜è¿°äº†ã€‚ä¸¾ä¸ªä¾‹å­æ ‡æ˜ä¸¤è€…çš„åŒºåˆ«ï¼š</p><p>hashç›¸å½“äºåšä¸€ä»½é¦™å–·å–·çš„ç±³é¥­ã€‚ä»å°†ç±³é¥­å’Œæ°´æ”¾å…¥ç”µé¥­é”…å¼€å§‹ï¼Œåœ¨åº”ç”¨æ•£åˆ—å‡½æ•°ï¼ˆæ··åˆã€ç…®ï¼‰ä¹‹åï¼Œåœ¨ä¸€å®šæ—¶é—´åä¼šå¾—åˆ°ä¸€é”…ç±³é¥­ã€‚é€†è½¬çš„è¯æ˜¯ä½ ä¸èƒ½å°†ç±³é¥­åˆ†è§£æˆå¤§ç±³å’Œæ°´ï¼Œä½ ä¸èƒ½çŸ¥é“æ”¾å…¥äº†å¤šå°‘å¤§ç±³å’Œæ°´ï¼Œå› ä¸ºè¿™äº›è¢«ä¸‰åˆ—åŠŸèƒ½ç ´åäº†ã€‚ç†è®ºä¸Šï¼Œè®¸å¤šä¸åŒçš„è¾“å…¥å˜é‡äº§ç”Ÿç›¸åŒçš„ç±³é¥­ï¼Œä½†å¦‚æœç»™å‡ºå…¶ä¸­ä¸€ä¸ªï¼Œä½ å°±æ— æ³•ç¡®å®šçŸ¥é“æ˜¯ä»€ä¹ˆè¾“å…¥äº§ç”Ÿäº†å®ƒã€‚</p><p>è€Œå¯¹äºåŠ å¯†æ¥è¯´ï¼Œç›¸å¯¹ç®€å•äº›ï¼ŒæŠŠåŠ å¯†çœ‹ä½œæ˜¯ä¸€ä¸ªä¿é™©ç®±ï¼Œä¸ç®¡ä½ ç”¨ä»€ä¹ˆæ–¹æ³•æ”¾è¿›å»ï¼Œåªæœ‰ä½ æ‹¥æœ‰è¿™æŠŠé’¥åŒ™ï¼Œä½ å°±ä¼šèƒ½æ‹¿å‡ºæ¥ï¼Œè¿™ä¸ªæ˜¯å¯¹ç§°çš„æ“ä½œï¼Œç»™å®šä¸€ä¸ªé”®å’Œè¾“å…¥ï¼Œå°±ä¼šå¾—åˆ°ç‰¹ç‚¹çš„è¾“å‡ºã€‚ç»™å®šè¾“å‡ºå’Œç›¸åŒçš„é”®ï¼Œå°±ä¼šå¾—åˆ°è¾“å…¥ï¼Œè¿™é‡Œçš„é”®å¯ä»¥çœ‹ä½œæ˜¯saltã€‚</p><h3 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h3><h3 id=""><a href="#" class="headerlink" title=""></a><img src="https://img-blog.csdnimg.cn/img_convert/9d62976173785c964df64535043a8b71.png" alt="9d62976173785c964df64535043a8b71"></h3><p>ä»æ•°å­¦è§’åº¦è®²ï¼Œå“ˆå¸Œå’ŒåŠ å¯†éƒ½æ˜¯ä¸€ä¸ªæ˜ å°„ã€‚ä¸‹é¢æ­£å¼å®šä¹‰ä¸¤è€…ï¼š</p><p>  <strong>ä¸€ä¸ªå“ˆå¸Œç®—æ³•</strong><br>$$<br>R=H(S)<br>$$<br>æ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€æ˜ å°„ï¼Œç»™å®šç›®æ ‡æ–‡æœ¬Sï¼ŒHå¯ä»¥å°†å…¶å”¯ä¸€æ˜ å°„ä¸ºRï¼Œå¹¶ä¸”å¯¹äºæ‰€æœ‰Sï¼ŒRå…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚ç”±äºæ˜¯å¤šå¯¹ä¸€æ˜ å°„ï¼Œæ‰€ä»¥Hä¸å­˜åœ¨é€†æ˜ å°„ä½¿å¾—Rè½¬æ¢ä¸ºå”¯ä¸€çš„Sã€‚<br>$$<br>S=H^{-1}(R)<br>$$</p><p><strong>ä¸€ä¸ªåŠ å¯†ç®—æ³•</strong><br>$$<br>R=E(S,K_E)<br>$$<br>æ˜¯ä¸€ä¸ªä¸€ä¸€æ˜ å°„ï¼Œå…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°å«åšåŠ å¯†å¯†é’¥ï¼ŒEå¯ä»¥å°†ç»™å®šçš„æ˜æ–‡Sç»“åˆåŠ å¯†å¯†é’¥Keå”¯ä¸€æ˜ å°„ä¸ºå¯†æ–‡Rï¼Œå¹¶ä¸”å­˜åœ¨å¦ä¸€ä¸ªä¸€ä¸€æ˜ å°„ï¼Œå¯ä»¥ç»“åˆKdå°†å¯†æ–‡Rå”¯ä¸€æ˜ å°„ä¸ºå¯¹åº”æ˜æ–‡Sï¼Œå…¶Kdå«åšè§£å¯†å¯†é’¥ã€‚<br>$$<br>S=D(R,K_D)<br>$$</p><h3 id="é€‰æ‹©åº”ç”¨"><a href="#é€‰æ‹©åº”ç”¨" class="headerlink" title="é€‰æ‹©åº”ç”¨"></a><strong>é€‰æ‹©åº”ç”¨</strong></h3><p>åœ¨é€‰æ‹©ä½¿ç”¨hashè¿˜æ˜¯EncryptåŸºæœ¬åŸåˆ™æ˜¯ï¼šå¦‚æœè¢«ä¿æŠ¤æ•°æ®ä»…ä»…ç”¨ä½œæ¯”è¾ƒéªŒè¯ï¼Œåœ¨ä»¥åä¸éœ€è¦è¿˜åŸæˆæ˜æ–‡å½¢å¼ï¼Œåˆ™ä½¿ç”¨å“ˆå¸Œï¼›å¦‚æœè¢«ä¿æŠ¤æ•°æ®åœ¨ä»¥åéœ€è¦è¢«è¿˜åŸæˆæ˜æ–‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨åŠ å¯†ã€‚ç›®å‰å¸¸ç”¨çš„hashåŒ…æ‹¬ä½†ä¸é™äºMD5ï¼ŒSHA1ï¼ŒSHA256ï¼›åŠ å¯†åŒ…æ‹¬ä½†ä¸é™äºDESï¼ŒTDESï¼ŒAESï¼ŒRSAç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“ˆå¸Œ </tag>
            
            <tag> åŠ å¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜²æŠ–å’ŒèŠ‚æµ</title>
      <link href="post/%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/"/>
      <url>post/%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><p><strong>åœ¨ä¸æ–­çš„æ“ä½œä¸­ï¼ˆé”®ç›˜è¾“å…¥ï¼Œç‚¹å‡»ï¼Œçª—å£resizeç­‰ï¼‰æœ€ç»ˆåªæ‰§è¡Œä¸€æ¬¡çš„ä¸€ç§æé«˜æ€§èƒ½çš„æ–¹æ³•</strong> ï¼ˆsetTimeoutï¼ŒclearTimeoutï¼‰</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fun,time</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      clearTimeouot(timer)</span><br><span class="line">      <span class="keyword">let</span> args = <span class="built_in">arguments</span></span><br><span class="line">      timer = <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        fun.apply(<span class="built_in">this</span>,args)</span><br><span class="line">      &#125;,time)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><p>åœ¨ä¸æ–­çš„é«˜é¢‘æ“ä½œä¸­ï¼ˆé¼ æ ‡æ»šåŠ¨åŠ è½½ç­‰ï¼‰ï¼Œåªèƒ½åœ¨è§„å®šçš„æ—¶é—´å†…æ‰§è¡Œä¸€æ¬¡çš„ä¸€ç§æé«˜æ€§èƒ½çš„æ–¹æ³•</p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fun,time</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> start = (<span class="keyword">new</span> <span class="built_in">Date</span>().getTime())/<span class="number">1000</span> <span class="comment">// åˆå§‹æ—¶é—´</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> end = (<span class="keyword">new</span> <span class="built_in">Date</span>().getTime())/<span class="number">1000</span>  <span class="comment">// ç»“æŸæ—¶é—´</span></span><br><span class="line">     <span class="keyword">if</span>(end- start&gt;time)&#123;</span><br><span class="line">       fun.apply(<span class="built_in">this</span>,<span class="built_in">arguments</span>)</span><br><span class="line">       start = end</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜²æŠ– </tag>
            
            <tag> èŠ‚æµ </tag>
            
            <tag> debounce </tag>
            
            <tag> throttle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•â€”åŠ¨æ€è§„åˆ’æ±‚æœ€å¤§å­åºåˆ—å’Œ</title>
      <link href="post/%E7%AE%97%E6%B3%95_%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
      <url>post/%E7%AE%97%E6%B3%95_%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
      
        <content type="html"><![CDATA[<p><strong>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</strong></p><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>å‡è®¾ <code>nums</code> æ•°ç»„çš„é•¿åº¦æ˜¯ <code>n</code>ï¼Œä¸‹æ ‡ä» <code>0</code>åˆ° <code>n-1</code>ã€‚</p><p>æˆ‘ä»¬ç”¨ <code>f(i)</code>ä»£è¡¨ä»¥ç¬¬ i ä¸ªæ•°ç»“å°¾çš„ã€Œè¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶æˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆå°±æ˜¯ï¼š</p><p>$$<br>\max_{0 \leq i \leq n-1} { f(i) }<br>$$<br>å› æ­¤æˆ‘ä»¬åªéœ€è¦æ±‚å‡ºæ¯ä¸ªä½ç½®çš„ <code>f(i)</code>ï¼Œç„¶åè¿”å› <code>f</code>æ•°ç»„ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ±‚ <code>f(i)</code> å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è€ƒè™‘ <code>nums[i]</code> å•ç‹¬æˆä¸ºä¸€æ®µè¿˜æ˜¯åŠ å…¥ <code>f(i-1)</code>å¯¹åº”çš„é‚£ä¸€æ®µï¼Œè¿™å–å†³äº <code>nums[i]</code> å’Œ <code>f(i-1)+nums[i]</code> çš„å¤§å°ï¼Œæˆ‘ä»¬å¸Œæœ›è·å¾—ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ï¼Œäºæ˜¯å¯ä»¥å†™å‡ºè¿™æ ·çš„åŠ¨æ€è§„åˆ’è½¬ç§»æ–¹ç¨‹ï¼š</p><p>$$<br>f(i) = \max { f(i-1) + \textit{nums}[i], \textit{nums}[i] }<br>$$<br>ä¸éš¾ç»™å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ <code>O(n)</code>ã€ç©ºé—´å¤æ‚åº¦ <code>O(n)</code>çš„å®ç°ï¼Œå³ç”¨ä¸€ä¸ª <code>f</code>æ•°ç»„æ¥ä¿å­˜ <code>f(i)</code> çš„å€¼ï¼Œç”¨ä¸€ä¸ªå¾ªç¯æ±‚å‡ºæ‰€æœ‰ <code>f(i)</code>ã€‚è€ƒè™‘åˆ° <code>f(i)</code> åªå’Œ <code>f(i-1)</code> ç›¸å…³ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åªç”¨ä¸€ä¸ªå˜é‡ <code>pre</code> æ¥ç»´æŠ¤å¯¹äºå½“å‰ <code>f(i)</code> çš„ <code>f(iâˆ’1)</code> çš„å€¼æ˜¯å¤šå°‘ï¼Œä»è€Œè®©ç©ºé—´å¤æ‚åº¦é™ä½åˆ° O(1)ï¼Œè¿™æœ‰ç‚¹ç±»ä¼¼ã€Œæ»šåŠ¨æ•°ç»„ã€çš„æ€æƒ³ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span> (<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> maxSum = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> pre = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">        pre = <span class="built_in">Math</span>.max(pre + num, num)</span><br><span class="line">        maxSum = <span class="built_in">Math</span>.max(pre, maxSum)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSum</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•â€”è´ªå¿ƒç®—æ³•æ±‚æœ€å¤§å­åºåˆ—å’Œ</title>
      <link href="post/%E7%AE%97%E6%B3%95_%E8%B4%AA%E5%BF%83%E6%B3%95/"/>
      <url>post/%E7%AE%97%E6%B3%95_%E8%B4%AA%E5%BF%83%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p><strong>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</strong></p><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>ä»å·¦å‘å³è¿­ä»£ï¼Œä¸€ä¸ªæ•°ä¸€ä¸ªæ•°åŠ è¿‡å»ï¼Œå¦‚æœ <code>sum &lt; 0</code>ï¼Œåˆ™é‡æ–°å¼€å§‹æ‰¾å­åºåˆ—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;number[]&#125; nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = function (nums) &#123;</span><br><span class="line">    let sum = <span class="number">0</span></span><br><span class="line">    let ans = nums[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (num of nums) &#123;</span><br><span class="line">        sum += num</span><br><span class="line">        ans = Math.max(sum, ans)</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            sum = <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> è´ªå¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•â€”æ‘©å°”æŠ•ç¥¨æ³•</title>
      <link href="post/%E7%AE%97%E6%B3%95_%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E6%B3%95/"/>
      <url>post/%E7%AE%97%E6%B3%95_%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p><strong>é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªå¤§å°ä¸º n çš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºå…¶ä¸­æ‰€æœ‰å‡ºç°è¶…è¿‡ âŒŠ n/3 âŒ‹ æ¬¡çš„å…ƒç´ ã€‚</strong></p><h2 id="æ‘©å°”æŠ•ç¥¨æ³•"><a href="#æ‘©å°”æŠ•ç¥¨æ³•" class="headerlink" title="æ‘©å°”æŠ•ç¥¨æ³•"></a>æ‘©å°”æŠ•ç¥¨æ³•</h2><p><strong>æ‘©å°”æŠ•ç¥¨æ³•ï¼šæ‘©å°”æŠ•ç¥¨æ³•çš„æ ¸å¿ƒæ€æƒ³ä¸ºå¯¹æ‹¼æ¶ˆè€—</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number[]&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> majorityElement = <span class="function"><span class="keyword">function</span> (<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ‘©å°”æŠ•ç¥¨æ³•</span></span><br><span class="line">    <span class="comment">// æ‰¾å‡ºæ•°ç»„ä¸­å…ƒç´ å‡ºç°è¿‡çš„æ¬¡æ•° &gt; æ•°ç»„é•¿åº¦/3 çš„å…ƒç´ </span></span><br><span class="line">    <span class="comment">// 1/2 è‡³å¤šå‡ºç°1ä¸ª</span></span><br><span class="line">    <span class="comment">// 1/3 è‡³å¤šå‡ºç°2ä¸ª</span></span><br><span class="line">    <span class="comment">// 1/m è‡³å¤šå‡ºç° m-1 ä¸ª</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ele1 = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> ele2 = nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> vote1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> vote2 = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num === ele1) &#123;</span><br><span class="line">            vote1++</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (num === ele2) &#123;</span><br><span class="line">            vote2++</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (vote1 === <span class="number">0</span>) &#123;</span><br><span class="line">            ele1 = num</span><br><span class="line">            vote1++</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (vote2 === <span class="number">0</span>) &#123;</span><br><span class="line">            ele2 = num</span><br><span class="line">            vote2++</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vote1--</span><br><span class="line">        vote2--</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> count1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> count2 = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num === ele1) &#123;</span><br><span class="line">            count1++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (num === ele2) &#123;</span><br><span class="line">            count2++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ans = []</span><br><span class="line">    <span class="keyword">if</span> (vote1 &gt; <span class="number">0</span> &amp;&amp; count1 &gt; nums.length / <span class="number">3</span>) &#123;</span><br><span class="line">        ans.push(ele1)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (vote2 &gt; <span class="number">0</span> &amp;&amp; count2 &gt; nums.length / <span class="number">3</span>) &#123;</span><br><span class="line">        ans.push(ele2)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å“ˆå¸Œç»Ÿè®¡"><a href="#å“ˆå¸Œç»Ÿè®¡" class="headerlink" title="å“ˆå¸Œç»Ÿè®¡"></a>å“ˆå¸Œç»Ÿè®¡</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number[]&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> majorityElement = <span class="function"><span class="keyword">function</span> (<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> countMap = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (countMap.has(num)) &#123;</span><br><span class="line">            countMap.set(num,countMap.get(num) + <span class="number">1</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            countMap.set(num, <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> ans = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> countMap.keys()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (countMap.get(num) &gt; (nums.length / <span class="number">3</span>)) &#123;</span><br><span class="line">            ans.push(num)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nuxté¡¹ç›®æŒç»­é›†æˆéƒ¨ç½²è‡³é˜¿é‡Œäº‘</title>
      <link href="post/nuxt%E9%A1%B9%E7%9B%AE%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E9%83%A8%E7%BD%B2%E8%87%B3%E9%98%BF%E9%87%8C%E4%BA%91/"/>
      <url>post/nuxt%E9%A1%B9%E7%9B%AE%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E9%83%A8%E7%BD%B2%E8%87%B3%E9%98%BF%E9%87%8C%E4%BA%91/</url>
      
        <content type="html"><![CDATA[<h2 id="æœåŠ¡å™¨å®‰è£…ç¯å¢ƒï¼ˆUbuntuï¼‰"><a href="#æœåŠ¡å™¨å®‰è£…ç¯å¢ƒï¼ˆUbuntuï¼‰" class="headerlink" title="æœåŠ¡å™¨å®‰è£…ç¯å¢ƒï¼ˆUbuntuï¼‰"></a>æœåŠ¡å™¨å®‰è£…ç¯å¢ƒï¼ˆUbuntuï¼‰</h2><h3 id="å®‰è£…node"><a href="#å®‰è£…node" class="headerlink" title="å®‰è£…node"></a>å®‰è£…node</h3><p><strong>æ¨èä½¿ç”¨nvmå®‰è£…</strong>,ï¼ˆä¸æ¨èaptï¼‰</p><ol><li><p>å®‰è£…nvm</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash</span><br></pre></td></tr></table></figure></li><li><p>æ˜¯nvmå‘½ä»¤ç”Ÿæ•ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…nodeç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install --lts // å®‰è£…ç¨³å®šç‰ˆæœ¬ä¸­æœ€æ–°çš„</span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•nodeå’Œnpmæ˜¯æ˜¯å¦å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure></li><li><p>nvmçš„ä½¿ç”¨</p><ol><li><p>nvmæŸ¥çœ‹nodeç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">nvm ls</span><br><span class="line"><span class="meta">-&gt;</span><span class="bash">     v14.18.1</span></span><br><span class="line">       v16.11.1</span><br><span class="line">        v17.0.0</span><br><span class="line">default -&gt; v14.18.1</span><br><span class="line">iojs -&gt; N/A (default)</span><br><span class="line">unstable -&gt; N/A (default)</span><br><span class="line">node -&gt; stable (-&gt; v17.0.0) (default)</span><br><span class="line">stable -&gt; 17.0 (-&gt; v17.0.0) (default)</span><br><span class="line">lts/* -&gt; lts/fermium (-&gt; v14.18.1)</span><br><span class="line">lts/argon -&gt; v4.9.1 (-&gt; N/A)</span><br><span class="line">lts/boron -&gt; v6.17.1 (-&gt; N/A)</span><br><span class="line">lts/carbon -&gt; v8.17.0 (-&gt; N/A)</span><br><span class="line">lts/dubnium -&gt; v10.24.1 (-&gt; N/A)</span><br><span class="line">lts/erbium -&gt; v12.22.7 (-&gt; N/A)</span><br><span class="line">lts/fermium -&gt; v14.18.1</span><br></pre></td></tr></table></figure></li><li><p>nvmå®‰è£…nodeç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v16.11.1</span><br></pre></td></tr></table></figure></li><li><p>nvm åˆ‡æ¢nodeç‰ˆæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use v16.11.1</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®é»˜è®¤ç‰ˆæœ¬ï¼ˆåˆ‡è®°ï¼Œä¸ç„¶ä¸‹æ¬¡æ‰“å¼€shellï¼Œ ç‰ˆæœ¬è¿˜æ˜¯åŸæ¥çš„ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm alias default v16.11.1</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="æŸ¥çœ‹å…¨å±€æŒ‡ä»¤"><a href="#æŸ¥çœ‹å…¨å±€æŒ‡ä»¤" class="headerlink" title="æŸ¥çœ‹å…¨å±€æŒ‡ä»¤"></a>æŸ¥çœ‹å…¨å±€æŒ‡ä»¤</h3><p>æŸ¥çœ‹node ,npm,pm2ç­‰å…¨å±€æŒ‡ä»¤ç”¨çš„æ˜¯ä¸æ˜¯è‡ªå·±è®¾å®šçš„ç‰ˆæœ¬ï¼Œé€šå¸¸ç”¨nvmå®‰è£…çš„nodeï¼Œä½¿ç”¨npmå®‰è£…ä¾èµ–åŒ…æ—¶ï¼ŒäºŒè¿›åˆ¶æŒ‡ä»¤éƒ½åœ¨ <strong>/root/.nvm/versions/node/v14.18.1/bin</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis node</span><br><span class="line">node: /root/.nvm/versions/node/v14.18.1/bin/node</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">whereis npm </span><br><span class="line">npm: /root/.nvm/versions/node/v14.18.1/bin/npm</span><br></pre></td></tr></table></figure><h3 id="å»ºç«‹è½¯é“¾æ¥ï¼Œå†™è¿›ç³»ç»Ÿå…¨å±€å˜é‡"><a href="#å»ºç«‹è½¯é“¾æ¥ï¼Œå†™è¿›ç³»ç»Ÿå…¨å±€å˜é‡" class="headerlink" title="å»ºç«‹è½¯é“¾æ¥ï¼Œå†™è¿›ç³»ç»Ÿå…¨å±€å˜é‡"></a>å»ºç«‹è½¯é“¾æ¥ï¼Œå†™è¿›ç³»ç»Ÿå…¨å±€å˜é‡</h3><p>npm å®‰è£…çš„ä¾èµ–åŒ…äºŒè¿›åˆ¶æ–‡ä»¶åœ¨ <code>~/.nvm/versions/node/v14.18.1/bin</code>ï¼Œè¿™ä¸ªç›®å½•åªæ˜¯ç”¨æˆ·çº§åˆ«çš„ï¼Œå½“ä½¿ç”¨ä»»åŠ¡è°ƒåº¦çš„æ—¶å€™ï¼Œæ˜¯ä¸ä¼šè¯»å–ç”¨æˆ·çš„å…¨å±€å˜é‡ï¼Œæ‰€ä»¥éœ€è¦å†™è¿›ç³»ç»Ÿå…¨å±€å˜é‡</p><p>ç³»ç»Ÿå…¨å±€å˜é‡ç›®å½•åœ¨  <code>/usr/local/bin</code></p><p>å»ºç«‹è½¯é“¾æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s  ~/.nvm/versions/node/v14.18.1/bin/node /usr/local/bin # å•ä¸ª</span><br><span class="line">ln -s ~/.nvm/versions/node/v14.18.1/bin/* /usr/local/bin # æ‰€æœ‰</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> node å‘½ä»¤å·²ç»å’Œ/root/.nvm/versions/node/v14.18.1/bin/node* å»ºç«‹é“¾æ¥ npm ç­‰å‘½ä»¤ä¹Ÿæ˜¯</span></span><br><span class="line"></span><br><span class="line">-rwxr-xr-x  1 root root  399 Sep 22 10:14 cloud-id*</span><br><span class="line">-rwxr-xr-x  1 root root  403 Sep 22 10:14 cloud-init*</span><br><span class="line">-rwxr-xr-x  1 root root 2108 Sep 22 10:14 cloud-init-per*</span><br><span class="line">-rwxr-xr-x  1 root root  404 Sep 22 10:14 easy_install*</span><br><span class="line">-rwxr-xr-x  1 root root 1003 Sep 22 10:14 jsondiff*</span><br><span class="line">-rwxr-xr-x  1 root root 3858 Sep 22 10:14 jsonpatch*</span><br><span class="line">-rwxr-xr-x  1 root root 1837 Sep 22 10:14 jsonpointer*</span><br><span class="line">-rwxr-xr-x  1 root root  397 Sep 22 10:14 jsonschema*</span><br><span class="line">lrwxrwxrwx  1 root root   42 Oct 21 19:59 node -&gt; /root/.nvm/versions/node/v14.18.1/bin/node*</span><br><span class="line">-rwxr-xr-x  1 root root  421 Sep 22 10:14 normalizer*</span><br><span class="line">lrwxrwxrwx  1 root root   41 Oct 21 19:59 npm -&gt; /root/.nvm/versions/node/v14.18.1/bin/npm*</span><br><span class="line">lrwxrwxrwx  1 root root   41 Oct 21 19:59 npx -&gt; /root/.nvm/versions/node/v14.18.1/bin/npx*</span><br><span class="line">lrwxrwxrwx  1 root root   41 Oct 21 19:59 nrm -&gt; /root/.nvm/versions/node/v14.18.1/bin/nrm*</span><br><span class="line">lrwxrwxrwx  1 root root   41 Oct 21 19:59 pm2 -&gt; /root/.nvm/versions/node/v14.18.1/bin/pm2*</span><br><span class="line">lrwxrwxrwx  1 root root   45 Oct 21 19:59 pm2-dev -&gt; /root/.nvm/versions/node/v14.18.1/bin/pm2-dev*</span><br><span class="line">lrwxrwxrwx  1 root root   48 Oct 21 19:59 pm2-docker -&gt; /root/.nvm/versions/node/v14.18.1/bin/pm2-docker*</span><br><span class="line">lrwxrwxrwx  1 root root   49 Oct 21 19:59 pm2-runtime -&gt; /root/.nvm/versions/node/v14.18.1/bin/pm2-runtime*</span><br><span class="line">lrwxrwxrwx  1 root root   41 Oct 21 19:59 yrm -&gt; /root/.nvm/versions/node/v14.18.1/bin/yrm*</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨Github-Actions-å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²"><a href="#ä½¿ç”¨Github-Actions-å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²" class="headerlink" title="ä½¿ç”¨Github Actions å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²"></a>ä½¿ç”¨Github Actions å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²</h2><ol><li><p><strong>æäº¤ä»£ç è‡³githubä»“åº“</strong></p></li><li><p><strong>åœ¨github settingé¢æ¿åˆ›å»ºtoken</strong></p><p>ç‚¹å‡»GitHubå³ä¸Šè§’å¤´åƒ - Settings - Developer settings - Personal access tokens</p><p>â€‹    <img src="https://img-blog.csdnimg.cn/20201030162424302.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI5NjE0MTk=,size_16,color_FFFFFF,t_70#pic_center" alt="img">                        </p><p>è¾“å…¥å¯†ç ï¼Œåˆ›å»ºtokenï¼Œæ·»åŠ å¯¹ä»“åº“å®Œå…¨è®¿é—®å’Œæ“ä½œçš„æƒé™ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20201030162424302.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI5NjE0MTk=,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20201030162437633.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI5NjE0MTk=,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>ç”Ÿæˆçš„tokenåªä¼šå‡ºç°è¿™ä¸€æ¬¡ï¼Œå¦‚æœæ²¡æœ‰è®°å½•ï¼Œå¿˜è®°äº†ï¼Œåªèƒ½é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚</strong></p></li><li><p><strong>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º GitHub Actions å·¥ä½œæµé…ç½®æ–‡ä»¶</strong></p><p>åˆ›å»ºç›®å½•<code>./github/workflows</code>ï¼Œåœ¨é‡Œé¢åˆ›å»º<code>.yml</code>åç¼€çš„æ–‡ä»¶ï¼Œæ–‡ä»¶åéšæ„ï¼Œå°†ä½œä¸ºå·¥ä½œæµçš„é»˜è®¤åç§°ï¼ŒGitHubä¼šè‡ªåŠ¨è¯†åˆ«åˆ°è¿™ä¸ªæ–‡ä»¶å¹¶æ‰§è¡Œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">on:</span><br><span class="line">  push:</span><br><span class="line">    # æäº¤tagåä»¥vå¼€å¤´çš„tagæ—¶æ‰§è¡Œéƒ¨ç½²ä»»åŠ¡</span><br><span class="line">    tags:</span><br><span class="line">      - &#x27;v*&#x27;</span><br><span class="line"></span><br><span class="line">jobs:</span><br><span class="line">  build-and-deploy:</span><br><span class="line">    # è¿è¡Œç¯å¢ƒ</span><br><span class="line">    runs-on: ubuntu-latest</span><br><span class="line">    # æ‰§è¡Œçš„æ­¥éª¤</span><br><span class="line">    steps:</span><br><span class="line">      # ä¸‹è½½æºç </span><br><span class="line">      - name: Checkout</span><br><span class="line">        uses: actions/checkout@master</span><br><span class="line"></span><br><span class="line">      # æ‰“åŒ…æ„å»º</span><br><span class="line">      - name: Build</span><br><span class="line">        uses: actions/setup-node@master</span><br><span class="line">        # with: </span><br><span class="line">        #   node-version: &#x27;14.16.1&#x27; # æŒ‡å®šnodeç‰ˆæœ¬</span><br><span class="line">      - run: npm install</span><br><span class="line">      - run: npm run build</span><br><span class="line">        # ç”Ÿæˆå‹ç¼©åŒ…ï¼ˆæ‰“åŒ… .nuxt static nuxt.config.js package.json package-lock.json ecosystem.config.jsï¼‰</span><br><span class="line">      - run: tar -zcvf release.tgz .nuxt static nuxt.config.js package.json package-lock.json ecosystem.config.js</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      # å‘å¸ƒ Releaseï¼ˆåˆ›å»ºReleaseåˆ†æ”¯ï¼‰</span><br><span class="line">      - name: Create Release</span><br><span class="line">        id: create_release</span><br><span class="line">        uses: actions/create-release@master</span><br><span class="line">        env:</span><br><span class="line">          GITHUB_TOKEN: $&#123;&#123; secrets.TOKEN &#125;&#125;</span><br><span class="line">        with:</span><br><span class="line">          # æœ¬æ¬¡æäº¤çš„tagçš„åç§°</span><br><span class="line">          tag_name: $&#123;&#123; github.ref &#125;&#125;</span><br><span class="line">          # Releaseç‰ˆæœ¬çš„åç§°</span><br><span class="line">          release_name: Release $&#123;&#123; github.ref &#125;&#125;</span><br><span class="line">          # æ˜¯å¦æ˜¯è‰ç¨¿</span><br><span class="line">          draft: false</span><br><span class="line">          # æ˜¯å¦æ˜¯é¢„å‘å¸ƒ</span><br><span class="line">          prerelease: false</span><br><span class="line"></span><br><span class="line">      # ä¸Šä¼ æ„å»ºç»“æœï¼ˆrelease.tgzï¼‰åˆ° Release</span><br><span class="line">      - name: Upload Release Asset</span><br><span class="line">        id: upload-release-asset</span><br><span class="line">        uses: actions/upload-release-asset@master</span><br><span class="line">        env:</span><br><span class="line">          GITHUB_TOKEN: $&#123;&#123; secrets.TOKEN &#125;&#125;</span><br><span class="line">        with:</span><br><span class="line">          # ä¸Šä¼ åœ°å€ï¼ˆåˆ›å»ºçš„Releaseåˆ†æ”¯åœ°å€ï¼‰</span><br><span class="line">          upload_url: $&#123;&#123; steps.create_release.outputs.upload_url &#125;&#125;</span><br><span class="line">          # ä¸Šä¼ çš„æ–‡ä»¶</span><br><span class="line">          asset_path: ./release.tgz</span><br><span class="line">          # ä¸Šä¼ åçš„æ–‡ä»¶å</span><br><span class="line">          asset_name: release.tgz</span><br><span class="line">          # ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹</span><br><span class="line">          asset_content_type: application/x-tgz</span><br><span class="line"></span><br><span class="line">      # éƒ¨ç½²åˆ°æœåŠ¡å™¨</span><br><span class="line">      - name: Deploy</span><br><span class="line">        uses: appleboy/ssh-action@master</span><br><span class="line">        with:</span><br><span class="line">          # è¿œç¨‹æœåŠ¡å™¨åœ°å€</span><br><span class="line">          host: $&#123;&#123; secrets.HOST &#125;&#125;</span><br><span class="line">          # è¿œç¨‹æœåŠ¡å™¨ç”¨æˆ·å</span><br><span class="line">          username: $&#123;&#123; secrets.USERNAME &#125;&#125;</span><br><span class="line">          # è¿œç¨‹æœåŠ¡å™¨å¯†ç </span><br><span class="line">          password: $&#123;&#123; secrets.PASSWORD &#125;&#125;</span><br><span class="line">          # è¿œç¨‹æœåŠ¡å™¨ç«¯å£å·</span><br><span class="line">          port: $&#123;&#123; secrets.PORT &#125;&#125;</span><br><span class="line">          # å‘½ä»¤è¶…æ—¶é…ç½® é»˜è®¤10m</span><br><span class="line">          command_timeout: 20m</span><br><span class="line">          # è¿è¡Œåœ¨è¿œç¨‹æœåŠ¡å™¨çš„å‘½ä»¤</span><br><span class="line">          # 1. è¿›å…¥é¡¹ç›®ç›®å½•</span><br><span class="line">          # 2. ä¸‹è½½å‘å¸ƒåŒ…</span><br><span class="line">          # 3. è§£å‹ç¼©å‘å¸ƒåŒ…</span><br><span class="line">          # 4. å®‰è£…ç”Ÿäº§ç¯å¢ƒä¾èµ–</span><br><span class="line">          # 5. pm2è¿è¡Œé…ç½®æ–‡ä»¶</span><br><span class="line">          script: |</span><br><span class="line">            cd /root/project/nuxt-test</span><br><span class="line">            wget https://github.com/Galaxy-Rigel/nuxt-test/releases/latest/download/release.tgz -O release.tgz</span><br><span class="line">            tar zxvf release.tgz</span><br><span class="line">            npm install --production</span><br><span class="line">            pm2 reload ecosystem.config.js</span><br></pre></td></tr></table></figure><p>å·¥ä½œæµä¸­ä½¿ç”¨åˆ°äº† <code>secrets</code> ä¿¡æ¯ï¼Œå³GitHubé¡¹ç›®ä»“åº“ Settings ä¸­é…ç½®çš„ Secretsã€‚</p><p><img src="https://img-blog.csdnimg.cn/20201030162454968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI5NjE0MTk=,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><p>éœ€è¦é…ç½®çš„æœ‰ï¼ˆæ³¨æ„åç§°éœ€è¦ä¸æ–‡ä»¶ä¸­çš„ä¿æŒä¸€è‡´ï¼‰</p><ul><li>TOKEN - ä¹‹å‰åˆ›å»ºå¹¶è®°å½•çš„token</li><li>HOST - æœåŠ¡å™¨IPåœ°å€</li><li>USERNAME - æœåŠ¡å™¨ç”¨æˆ·åï¼ŒLinuxé»˜è®¤root</li><li>PASSWORD - æœåŠ¡å™¨ ssh è¿æ¥å¯†ç </li><li>PORT - sshè¿æ¥æœåŠ¡å™¨çš„ç«¯å£å·ï¼Œé»˜è®¤22</li></ul><p><img src="https://img-blog.csdnimg.cn/20201030162506408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI5NjE0MTk=,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p><p><img src="https://img-blog.csdnimg.cn/20201030162506364.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI5NjE0MTk=,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p><strong>Push ä»£ç å‡ºå‘è‡ªåŠ¨éƒ¨ç½²ä»»åŠ¡</strong></p><p>è§¦å‘æ¡ä»¶ï¼špushåç§°ä»¥<code>v</code>å¼€å¤´çš„ tagã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master v1.2.4</span><br></pre></td></tr></table></figure></li></ol><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>è¯·ç¡®è®¤æœåŠ¡å™¨å·²å®‰è£… gitã€nodejsã€pm2 ç­‰å·¥å…·ã€‚</p><p>æœ¬äººæœåŠ¡å™¨æ„å»ºè¿‡ç¨‹ä¸­ Deploy å¤±è´¥ï¼ŒçŠ¶æ€ç  127ã€‚</p><p>æŠ¥é”™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-bash: npm: command not found</span><br><span class="line">-bash: pm2: command not found</span><br></pre></td></tr></table></figure><p>å¯æ˜¯æ‰‹åŠ¨è¿æ¥æœåŠ¡å™¨æ‰§è¡Œéƒ½OKï¼ˆæœ¬äººæ˜¯nvmå®‰è£…çš„nodejsï¼‰ã€‚</p><p>æ‰“å°ç¯å¢ƒå˜é‡ echo $PATH ä¹Ÿæ·»åŠ äº†è·¯å¾„çš„ã€‚</p><p>äºæ˜¯åœ¨actionsä»»åŠ¡ä¸­æ‰§è¡Œå‘½ä»¤æ‰“å° echo $PATHï¼Œæœç„¶æ²¡æœ‰ node è·¯å¾„ã€‚</p><p>å°è¯•åœ¨/root/.bashrc å’Œ /etc/profileä¸­éƒ½æ·»åŠ äº† ç¯å¢ƒå˜é‡é…ç½®ï¼Œéƒ½æ²¡æœ‰ç”Ÿæ•ˆã€‚</p><p>åˆåœ¨actionsä»»åŠ¡ä¸­æŸ¥çœ‹æ–‡ä»¶ç›®å½•ï¼Œnodeã€npmã€pm2éƒ½æœ‰ã€‚</p><p><strong>è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ï¼š</strong></p><p>æ‰‹åŠ¨æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œæ˜¯åœ¨å½“å‰ shell ç¯å¢ƒä¸‹è¿›è¡Œçš„ï¼Œç¨‹åºå¯ä»¥æ‰¾åˆ°ç¯å¢ƒå˜é‡ã€‚</p><p>è€Œç³»ç»Ÿè‡ªåŠ¨æ‰§è¡Œä»»åŠ¡è°ƒåº¦æ—¶ï¼Œæ˜¯ä¸ä¼šåŠ è½½ä»»ä½•ç¯å¢ƒå˜é‡çš„ï¼Œå› ä¸ºå®ƒä¸æ˜¯é€šè¿‡ shell ç¯å¢ƒæ‰§è¡Œçš„ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><ol><li><p>ä¸´æ—¶åŠæ³•ï¼šåœ¨actionsä»»åŠ¡ä¸­æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼š<br>è¿™ä¸ªæ–¹å¼å°±æ˜¯åœ¨æ¯æ¬¡ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œnpmå‘½ä»¤æ‰§è¡Œå‰æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#...</span><br><span class="line">script: |</span><br><span class="line">  export PATH=/root/.nvm/versions/node/v14.18.1/bin:$PATH</span><br><span class="line">  cd /root/project/nuxt-test</span><br><span class="line">#...</span><br></pre></td></tr></table></figure></li><li><p>é•¿ä¹…åŠæ³•ï¼šåˆ›å»ºè½¯é“¾æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s ~/.nvm/versions/node/v14.18.1/bin/* /usr/local/bin</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
          <category> nuxt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nuxt </tag>
            
            <tag> CI </tag>
            
            <tag> CD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„â€”é˜Ÿåˆ—</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%98%9F%E5%88%97/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%98%9F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><p>é˜Ÿåˆ—å’Œæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¯¹æ•°æ®çš„â€å­˜â€å’Œâ€å–â€æœ‰ä¸¥æ ¼è¦æ±‚çš„çº¿æ€§å­˜å‚¨ç»“æ„ã€‚ä¸æ ˆç»“æ„ä¸åŒçš„æ˜¯ï¼Œé˜Ÿåˆ—çš„ä¸¤ç«¯éƒ½â€å¼€å£â€ï¼Œè¦æ±‚æ•°æ®åªèƒ½ä»ä¸€ç«¯è¿›ï¼Œä»å¦ä¸€ç«¯å‡ºï¼Œå¦‚å›¾1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181203/2-1Q203200556309.gif" alt="é˜Ÿåˆ—å­˜å‚¨ç»“æ„"><br>å›¾ 1 é˜Ÿåˆ—å­˜å‚¨ç»“æ„</p><p>é€šå¸¸ï¼Œç§°è¿›æ•°æ®çš„ä¸€ç«¯ä¸º â€œé˜Ÿå°¾â€ï¼Œå‡ºæ•°æ®çš„ä¸€ç«¯ä¸º â€œé˜Ÿå¤´â€ï¼Œæ•°æ®å…ƒç´ è¿›é˜Ÿåˆ—çš„è¿‡ç¨‹ç§°ä¸º â€œå…¥é˜Ÿâ€ï¼Œå‡ºé˜Ÿåˆ—çš„è¿‡ç¨‹ç§°ä¸º â€œå‡ºé˜Ÿâ€ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œé˜Ÿåˆ—ä¸­æ•°æ®çš„è¿›å‡ºè¦éµå¾ª â€œå…ˆè¿›å…ˆå‡ºâ€ çš„åŸåˆ™ï¼Œå³æœ€å…ˆè¿›é˜Ÿåˆ—çš„æ•°æ®å…ƒç´ ï¼ŒåŒæ ·è¦æœ€å…ˆå‡ºé˜Ÿåˆ—ã€‚æ‹¿å›¾ 1 ä¸­çš„é˜Ÿåˆ—æ¥è¯´ï¼Œä»æ•°æ®åœ¨é˜Ÿåˆ—ä¸­çš„å­˜å‚¨çŠ¶æ€å¯ä»¥åˆ†æå‡ºï¼Œå…ƒç´  1 æœ€å…ˆè¿›é˜Ÿï¼Œå…¶æ¬¡æ˜¯å…ƒç´  2ï¼Œæœ€åæ˜¯å…ƒç´  3ã€‚æ­¤æ—¶å¦‚æœå°†å…ƒç´  3 å‡ºé˜Ÿï¼Œæ ¹æ®é˜Ÿåˆ— â€œå…ˆè¿›å…ˆå‡ºâ€ çš„ç‰¹ç‚¹ï¼Œå…ƒç´  1 è¦å…ˆå‡ºé˜Ÿåˆ—ï¼Œå…ƒç´  2 å†å‡ºé˜Ÿåˆ—ï¼Œæœ€åæ‰è½®åˆ°å…ƒç´  3 å‡ºé˜Ÿåˆ—ã€‚</p><p>æ ˆå’Œé˜Ÿåˆ—ä¸è¦æ··æ·†ï¼Œæ ˆç»“æ„æ˜¯ä¸€ç«¯å°å£ï¼Œç‰¹ç‚¹æ˜¯â€å…ˆè¿›åå‡ºâ€ï¼›è€Œé˜Ÿåˆ—çš„ä¸¤ç«¯å…¨æ˜¯å¼€å£ï¼Œç‰¹ç‚¹æ˜¯â€å…ˆè¿›å…ˆå‡ºâ€ã€‚</p><p>å› æ­¤ï¼Œæ•°æ®ä»è¡¨çš„ä¸€ç«¯è¿›ï¼Œä»å¦ä¸€ç«¯å‡ºï¼Œä¸”éµå¾ª â€œå…ˆè¿›å…ˆå‡ºâ€ åŸåˆ™çš„çº¿æ€§å­˜å‚¨ç»“æ„å°±æ˜¯é˜Ÿåˆ—ã€‚</p><h2 id="é˜Ÿåˆ—çš„å®ç°"><a href="#é˜Ÿåˆ—çš„å®ç°" class="headerlink" title="é˜Ÿåˆ—çš„å®ç°"></a>é˜Ÿåˆ—çš„å®ç°</h2><p>é˜Ÿåˆ—å­˜å‚¨ç»“æ„çš„å®ç°æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><a href="http://data.biancheng.net/view/173.html">é¡ºåºé˜Ÿåˆ—</a>ï¼šåœ¨<a href="http://data.biancheng.net/view/158.html">é¡ºåºè¡¨</a>çš„åŸºç¡€ä¸Šå®ç°çš„é˜Ÿåˆ—ç»“æ„ï¼›</li><li><a href="http://data.biancheng.net/view/174.html">é“¾é˜Ÿåˆ—</a>ï¼šåœ¨<a href="http://data.biancheng.net/view/160.html">é“¾è¡¨</a>çš„åŸºç¡€ä¸Šå®ç°çš„é˜Ÿåˆ—ç»“æ„ï¼›</li></ol><p>ä¸¤è€…çš„åŒºåˆ«ä»…æ˜¯é¡ºåºè¡¨å’Œé“¾è¡¨çš„åŒºåˆ«ï¼Œå³åœ¨å®é™…çš„ç‰©ç†ç©ºé—´ä¸­ï¼Œæ•°æ®é›†ä¸­å­˜å‚¨çš„é˜Ÿåˆ—æ˜¯é¡ºåºé˜Ÿåˆ—ï¼Œåˆ†æ•£å­˜å‚¨çš„é˜Ÿåˆ—æ˜¯é“¾é˜Ÿåˆ—ã€‚</p><h2 id="é˜Ÿåˆ—çš„å®é™…åº”ç”¨"><a href="#é˜Ÿåˆ—çš„å®é™…åº”ç”¨" class="headerlink" title="é˜Ÿåˆ—çš„å®é™…åº”ç”¨"></a>é˜Ÿåˆ—çš„å®é™…åº”ç”¨</h2><p>å®é™…ç”Ÿæ´»ä¸­ï¼Œé˜Ÿåˆ—çš„åº”ç”¨éšå¤„å¯è§ï¼Œæ¯”å¦‚æ’é˜Ÿä¹° XXXã€åŒ»é™¢çš„æŒ‚å·ç³»ç»Ÿç­‰ï¼Œé‡‡ç”¨çš„éƒ½æ˜¯é˜Ÿåˆ—çš„ç»“æ„ã€‚</p><p>æ‹¿æ’é˜Ÿä¹°ç¥¨æ¥è¯´ï¼Œæ‰€æœ‰çš„äººæ’æˆä¸€é˜Ÿï¼Œå…ˆåˆ°è€…æ’çš„å°±é å‰ï¼Œååˆ°è€…åªèƒ½ä»é˜Ÿå°¾æ’é˜Ÿç­‰å¾…ï¼Œé˜Ÿä¸­çš„æ¯ä¸ªäººéƒ½å¿…é¡»ç­‰åˆ°è‡ªå·±å‰é¢çš„æ‰€æœ‰äººå…¨éƒ¨ä¹°ç¥¨æˆåŠŸå¹¶ä»é˜Ÿå¤´å‡ºé˜Ÿåï¼Œæ‰è½®åˆ°è‡ªå·±ä¹°ç¥¨ã€‚è¿™å°±ä¸æ˜¯å…¸å‹çš„é˜Ÿåˆ—ç»“æ„å—ï¼Ÿ</p><p>æ˜ç™½äº†ä»€ä¹ˆæ˜¯é˜Ÿåˆ—ï¼Œæ¥ä¸‹æ¥å¼€å§‹ç³»ç»Ÿåœ°å­¦ä¹ é¡ºåºé˜Ÿåˆ—å’Œé“¾é˜Ÿåˆ—ã€‚</p><h2 id="é˜Ÿåˆ—çš„åˆ†ç±»"><a href="#é˜Ÿåˆ—çš„åˆ†ç±»" class="headerlink" title="é˜Ÿåˆ—çš„åˆ†ç±»"></a>é˜Ÿåˆ—çš„åˆ†ç±»</h2><h3 id="é¡ºåºé˜Ÿåˆ—"><a href="#é¡ºåºé˜Ÿåˆ—" class="headerlink" title="é¡ºåºé˜Ÿåˆ—"></a>é¡ºåºé˜Ÿåˆ—</h3><p>é¡ºåºé˜Ÿåˆ—ï¼Œå³é‡‡ç”¨é¡ºåºè¡¨æ¨¡æ‹Ÿå®ç°çš„é˜Ÿåˆ—ç»“æ„ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œé˜Ÿåˆ—å…·æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š</p><ol><li>æ•°æ®ä»é˜Ÿåˆ—çš„ä¸€ç«¯è¿›ï¼Œå¦ä¸€ç«¯å‡ºï¼›</li><li>æ•°æ®çš„å…¥é˜Ÿå’Œå‡ºé˜Ÿéµå¾ªâ€å…ˆè¿›å…ˆå‡ºâ€çš„åŸåˆ™ï¼›</li></ol><p>å› æ­¤ï¼Œåªè¦ä½¿ç”¨é¡ºåºè¡¨æŒ‰ä»¥ä¸Šä¸¤ä¸ªè¦æ±‚æ“ä½œæ•°æ®ï¼Œå³å¯å®ç°é¡ºåºé˜Ÿåˆ—ã€‚é¦–å…ˆæ¥å­¦ä¹ ä¸€ç§æœ€ç®€å•çš„å®ç°æ–¹æ³•ã€‚</p><h4 id="é¡ºåºé˜Ÿåˆ—ç®€å•å®ç°"><a href="#é¡ºåºé˜Ÿåˆ—ç®€å•å®ç°" class="headerlink" title="é¡ºåºé˜Ÿåˆ—ç®€å•å®ç°"></a>é¡ºåºé˜Ÿåˆ—ç®€å•å®ç°</h4><p>ç”±äºé¡ºåºé˜Ÿåˆ—çš„åº•å±‚ä½¿ç”¨çš„æ˜¯æ•°ç»„ï¼Œå› æ­¤éœ€é¢„å…ˆç”³è¯·ä¸€å—è¶³å¤Ÿå¤§çš„å†…å­˜ç©ºé—´åˆå§‹åŒ–é¡ºåºé˜Ÿåˆ—ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸ºäº†æ»¡è¶³é¡ºåºé˜Ÿåˆ—ä¸­æ•°æ®ä»é˜Ÿå°¾è¿›ï¼Œé˜Ÿå¤´å‡ºä¸”å…ˆè¿›å…ˆå‡ºçš„è¦æ±‚ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼ˆtop å’Œ rearï¼‰åˆ†åˆ«ç”¨äºæŒ‡å‘é¡ºåºé˜Ÿåˆ—ä¸­çš„é˜Ÿå¤´å…ƒç´ å’Œé˜Ÿå°¾å…ƒç´ ï¼Œå¦‚å›¾1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181204/2-1Q204202R4539.gif" alt="é¡ºåºé˜Ÿåˆ—å®ç°ç¤ºæ„å›¾"><br>å›¾ 1 é¡ºåºé˜Ÿåˆ—å®ç°ç¤ºæ„å›¾</p><p>ç”±äºé¡ºåºé˜Ÿåˆ—åˆå§‹çŠ¶æ€æ²¡æœ‰å­˜å‚¨ä»»ä½•å…ƒç´ ï¼Œå› æ­¤ top æŒ‡é’ˆå’Œ rear æŒ‡é’ˆé‡åˆï¼Œä¸”ç”±äºé¡ºåºé˜Ÿåˆ—åº•å±‚å®ç°é çš„æ˜¯æ•°ç»„ï¼Œå› æ­¤ top å’Œ rear å®é™…ä¸Šæ˜¯ä¸¤ä¸ªå˜é‡ï¼Œå®ƒçš„å€¼åˆ†åˆ«æ˜¯é˜Ÿå¤´å…ƒç´ å’Œé˜Ÿå°¾å…ƒç´ æ‰€åœ¨æ•°ç»„ä½ç½®çš„ä¸‹æ ‡ã€‚</p><p>åœ¨å›¾ 1 çš„åŸºç¡€ä¸Šï¼Œå½“æœ‰æ•°æ®å…ƒç´ è¿›é˜Ÿåˆ—æ—¶ï¼Œå¯¹åº”çš„å®ç°æ“ä½œæ˜¯å°†å…¶å­˜å‚¨åœ¨æŒ‡é’ˆ rear æŒ‡å‘çš„æ•°ç»„ä½ç½®ï¼Œç„¶å rear+1ï¼›å½“éœ€è¦é˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿæ—¶ï¼Œä»…éœ€åš top+1 æ“ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å›¾ 1 åŸºç¡€ä¸Šå°† <code>&#123;1,2,3,4&#125;</code> ç”¨é¡ºåºé˜Ÿåˆ—å­˜å‚¨çš„å®ç°æ“ä½œå¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181204/2-1Q20420293O01.gif" alt="æ•°æ®è¿›é¡ºåºé˜Ÿåˆ—çš„è¿‡ç¨‹å®ç°ç¤ºæ„å›¾"><br>å›¾ 2 æ•°æ®è¿›é¡ºåºé˜Ÿåˆ—çš„è¿‡ç¨‹å®ç°ç¤ºæ„å›¾</p><p>åœ¨å›¾ 2 åŸºç¡€ä¸Šï¼Œé¡ºåºé˜Ÿåˆ—ä¸­æ•°æ®å‡ºé˜Ÿåˆ—çš„å®ç°è¿‡ç¨‹å¦‚å›¾ 3 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181204/2-1Q204202950120.gif" alt="æ•°æ®å‡ºé¡ºåºé˜Ÿåˆ—çš„è¿‡ç¨‹ç¤ºæ„å›¾"><br>å›¾ 3 æ•°æ®å‡ºé¡ºåºé˜Ÿåˆ—çš„è¿‡ç¨‹ç¤ºæ„å›¾</p><p>å› æ­¤ï¼Œä½¿ç”¨é¡ºåºè¡¨å®ç°é¡ºåºé˜Ÿåˆ—æœ€ç®€å•æ–¹æ³•çš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">enQueue</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> rear,<span class="keyword">int</span> data)</span></span>&#123;</span><br><span class="line">    a[rear]=data;</span><br><span class="line">    rear++;</span><br><span class="line">    <span class="keyword">return</span> rear;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deQueue</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> front,<span class="keyword">int</span> rear)</span></span>&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœ front==rearï¼Œè¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">while</span> (front!=rear) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;å‡ºé˜Ÿå…ƒç´ ï¼š%d\n&quot;</span>,a[front]);</span><br><span class="line">        front++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">int</span> front,rear;</span><br><span class="line">    <span class="comment">//è®¾ç½®é˜Ÿå¤´æŒ‡é’ˆå’Œé˜Ÿå°¾æŒ‡é’ˆï¼Œå½“é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œé˜Ÿå¤´å’Œé˜Ÿå°¾æŒ‡å‘åŒä¸€å—åœ°å€</span></span><br><span class="line">    front=rear=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//å…¥é˜Ÿ</span></span><br><span class="line">    rear=enQueue(a, rear, <span class="number">1</span>);</span><br><span class="line">    rear=enQueue(a, rear, <span class="number">2</span>);</span><br><span class="line">    rear=enQueue(a, rear, <span class="number">3</span>);</span><br><span class="line">    rear=enQueue(a, rear, <span class="number">4</span>);</span><br><span class="line">    <span class="comment">//å‡ºé˜Ÿ</span></span><br><span class="line">    deQueue(a, front, rear);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ­¤æ–¹æ³•å­˜åœ¨çš„é—®é¢˜</strong></p><p>å…ˆæ¥åˆ†æä»¥ä¸‹å›¾ 2b) å’Œå›¾ 3b)ã€‚å›¾ 2b) æ˜¯æ‰€æœ‰æ•°æ®è¿›é˜ŸæˆåŠŸçš„ç¤ºæ„å›¾ï¼Œè€Œå›¾ 3b) æ˜¯æ‰€æœ‰æ•°æ®å…¨éƒ¨å‡ºé˜Ÿåçš„ç¤ºæ„å›¾ã€‚é€šè¿‡å¯¹æ¯”ä¸¤å¼ å›¾ï¼Œä½ ä¼šå‘ç°ï¼ŒæŒ‡é’ˆ top å’Œ rear é‡åˆä½ç½®æŒ‡å‘äº† a[4] è€Œä¸å†æ˜¯ a[0]ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ªé¡ºåºé˜Ÿåˆ—åœ¨æ•°æ®ä¸æ–­åœ°è¿›é˜Ÿå‡ºé˜Ÿè¿‡ç¨‹ä¸­ï¼Œåœ¨é¡ºåºè¡¨ä¸­çš„ä½ç½®ä¸æ–­åç§»ã€‚</p><p>é¡ºåºé˜Ÿåˆ—æ•´ä½“åç§»é€ æˆçš„å½±å“æ˜¯ï¼š</p><ul><li>é¡ºåºé˜Ÿåˆ—ä¹‹å‰çš„æ•°ç»„å­˜å‚¨ç©ºé—´å°†æ— æ³•å†è¢«ä½¿ç”¨ï¼Œé€ æˆäº†ç©ºé—´æµªè´¹ï¼›</li><li>å¦‚æœé¡ºåºè¡¨ç”³è¯·çš„ç©ºé—´ä¸è¶³å¤Ÿå¤§ï¼Œåˆ™ç›´æ¥é€ æˆç¨‹åºä¸­æ•°ç»„ a æº¢å‡ºï¼Œäº§ç”Ÿæº¢å‡ºé”™è¯¯ï¼›</li></ul><p>ä¸ºäº†é¿å…ä»¥ä¸Šä¸¤ç‚¹ï¼Œæˆ‘å»ºè®®åˆå­¦è€…ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•å®ç°é¡ºåºé˜Ÿåˆ—ã€‚</p><h4 id="é¡ºåºé˜Ÿåˆ—å¦ä¸€ç§å®ç°æ–¹æ³•"><a href="#é¡ºåºé˜Ÿåˆ—å¦ä¸€ç§å®ç°æ–¹æ³•" class="headerlink" title="é¡ºåºé˜Ÿåˆ—å¦ä¸€ç§å®ç°æ–¹æ³•"></a>é¡ºåºé˜Ÿåˆ—å¦ä¸€ç§å®ç°æ–¹æ³•</h4><p>æ—¢ç„¶æ˜ç™½äº†ä¸Šé¢è¿™ç§æ–¹æ³•çš„å¼Šç«¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯•ç€åœ¨å®ƒçš„åŸºç¡€ä¸Šå¯¹å…¶æ”¹è‰¯ã€‚</p><p>ä¸ºäº†è§£å†³ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å·§å¦™çš„æ–¹æ³•å°†é¡ºåºè¡¨æ‰“é€ æˆä¸€ä¸ªç¯çŠ¶è¡¨ï¼Œå¦‚å›¾ 4 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181204/2-1Q204203432215.gif" alt="ç¯çŠ¶é¡ºåºé˜Ÿåˆ—"><br>å›¾ 4 ç¯çŠ¶é¡ºåºé˜Ÿåˆ—</p><p>å›¾ 4 åªæ˜¯ä¸€ä¸ªæƒ³è±¡å›¾ï¼Œåœ¨çœŸæ­£çš„å®ç°æ—¶ï¼Œæ²¡å¿…è¦çœŸåˆ›å»ºè¿™æ ·ä¸€ç§ç»“æ„ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨ä¹‹å‰çš„é¡ºåºè¡¨ï¼Œä¹Ÿè¿˜æ˜¯ä½¿ç”¨ä¹‹å‰çš„ç¨‹åºï¼Œåªéœ€è¦å¯¹å…¶è¿›è¡Œä¸€ç‚¹å°å°çš„æ”¹å˜ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max 5<span class="comment">//è¡¨ç¤ºé¡ºåºè¡¨ç”³è¯·çš„ç©ºé—´å¤§å°</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">enQueue</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> front,<span class="keyword">int</span> rear,<span class="keyword">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="comment">//æ·»åŠ åˆ¤æ–­è¯­å¥ï¼Œå¦‚æœrearè¶…è¿‡maxï¼Œåˆ™ç›´æ¥å°†å…¶ä»a[0]é‡æ–°å¼€å§‹å­˜å‚¨ï¼Œå¦‚æœrear+1å’Œfronté‡åˆï¼Œåˆ™è¡¨ç¤ºæ•°ç»„å·²æ»¡</span></span><br><span class="line">    <span class="keyword">if</span> ((rear+<span class="number">1</span>)%max==front) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ç©ºé—´å·²æ»¡&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> rear;</span><br><span class="line">    &#125;</span><br><span class="line">    a[rear%max]=data;</span><br><span class="line">    rear++;</span><br><span class="line">    <span class="keyword">return</span> rear;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">deQueue</span><span class="params">(<span class="keyword">int</span> *a,<span class="keyword">int</span> front,<span class="keyword">int</span> rear)</span></span>&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœfront==rearï¼Œè¡¨ç¤ºé˜Ÿåˆ—ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span>(front==rear%max) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> front;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[front]);</span><br><span class="line">    <span class="comment">//frontä¸å†ç›´æ¥ +1ï¼Œè€Œæ˜¯+1ååŒmaxè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ=maxï¼Œåˆ™ç›´æ¥è·³è½¬åˆ° a[0]</span></span><br><span class="line">    front=(front+<span class="number">1</span>)%max;</span><br><span class="line">    <span class="keyword">return</span> front;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[max];</span><br><span class="line">    <span class="keyword">int</span> front,rear;</span><br><span class="line">    <span class="comment">//è®¾ç½®é˜Ÿå¤´æŒ‡é’ˆå’Œé˜Ÿå°¾æŒ‡é’ˆï¼Œå½“é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œé˜Ÿå¤´å’Œé˜Ÿå°¾æŒ‡å‘åŒä¸€å—åœ°å€</span></span><br><span class="line">    front=rear=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//å…¥é˜Ÿ</span></span><br><span class="line">    rear=enQueue(a,front,rear, <span class="number">1</span>);</span><br><span class="line">    rear=enQueue(a,front,rear, <span class="number">2</span>);</span><br><span class="line">    rear=enQueue(a,front,rear, <span class="number">3</span>);</span><br><span class="line">    rear=enQueue(a,front,rear, <span class="number">4</span>);</span><br><span class="line">    <span class="comment">//å‡ºé˜Ÿ</span></span><br><span class="line">    front=deQueue(a, front, rear);</span><br><span class="line">    <span class="comment">//å†å…¥é˜Ÿ</span></span><br><span class="line">    rear=enQueue(a,front,rear, <span class="number">5</span>);</span><br><span class="line">    <span class="comment">//å†å‡ºé˜Ÿ</span></span><br><span class="line">    front=deQueue(a, front, rear);</span><br><span class="line">    <span class="comment">//å†å…¥é˜Ÿ</span></span><br><span class="line">    rear=enQueue(a,front,rear, <span class="number">6</span>);</span><br><span class="line">    <span class="comment">//å†å‡ºé˜Ÿ</span></span><br><span class="line">    front=deQueue(a, front, rear);</span><br><span class="line">    front=deQueue(a, front, rear);</span><br><span class="line">    front=deQueue(a, front, rear);</span><br><span class="line">    front=deQueue(a, front, rear);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ­¤æ–¹æ³•éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¡ºåºé˜Ÿåˆ—åœ¨åˆ¤æ–­æ•°ç»„æ˜¯å¦å·²æ»¡æ—¶ï¼Œå‡ºç°ä¸‹é¢æƒ…å†µï¼š</p><ul><li>å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œé˜Ÿåˆ—çš„å¤´æŒ‡é’ˆç­‰äºé˜Ÿåˆ—çš„å°¾æŒ‡é’ˆï¼›</li><li>å½“æ•°ç»„æ»¡å‘˜æ—¶ï¼Œé˜Ÿåˆ—çš„å¤´æŒ‡é’ˆç­‰äºé˜Ÿåˆ—çš„å°¾æŒ‡é’ˆï¼›</li></ul><p>é¡ºåºé˜Ÿåˆ—çš„å­˜å‚¨çŠ¶æ€ä¸åŒï¼Œä½†æ˜¯åˆ¤æ–­æ¡ä»¶ç›¸åŒã€‚ä¸ºäº†å¯¹å…¶è¿›è¡ŒåŒºåˆ†ï¼Œæœ€ç®€å•çš„è§£å†³åŠæ³•æ˜¯ï¼šç‰ºç‰²æ‰æ•°ç»„ä¸­çš„ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œåˆ¤æ–­æ•°ç»„æ»¡å‘˜çš„æ¡ä»¶æ˜¯ï¼šå°¾æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªä½ç½®å’Œå¤´æŒ‡é’ˆç›¸é‡ï¼Œå°±è¯´æ˜æ•°ç»„æ»¡äº†ï¼Œå³ç¨‹åºä¸­ç¬¬ 5 è¡Œæ‰€ç¤ºã€‚</p><h3 id="é“¾å¼é˜Ÿåˆ—"><a href="#é“¾å¼é˜Ÿåˆ—" class="headerlink" title="é“¾å¼é˜Ÿåˆ—"></a>é“¾å¼é˜Ÿåˆ—</h3><p>é“¾å¼é˜Ÿåˆ—ï¼Œç®€ç§°â€é“¾é˜Ÿåˆ—â€ï¼Œå³ä½¿ç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å­˜å‚¨ç»“æ„ã€‚é“¾å¼é˜Ÿåˆ—çš„å®ç°æ€æƒ³åŒé¡ºåºé˜Ÿåˆ—</p><p>ç±»ä¼¼ï¼Œåªéœ€åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆï¼ˆå‘½åä¸º top å’Œ rearï¼‰åˆ†åˆ«æŒ‡å‘é“¾è¡¨ä¸­é˜Ÿåˆ—çš„é˜Ÿå¤´å…ƒç´ å’Œé˜Ÿå°¾å…ƒç´ ï¼Œå¦‚å›¾1 æ‰€ç¤º:</p><p><img src="http://data.biancheng.net/uploads/allimg/181205/2-1Q205211052O7.gif" alt="é“¾å¼é˜Ÿåˆ—çš„åˆå§‹çŠ¶æ€"><br>å›¾ 1 é“¾å¼é˜Ÿåˆ—çš„åˆå§‹çŠ¶æ€</p><p>å›¾ 1 æ‰€ç¤ºä¸ºé“¾å¼é˜Ÿåˆ—çš„åˆå§‹çŠ¶æ€ï¼Œæ­¤æ—¶é˜Ÿåˆ—ä¸­æ²¡æœ‰å­˜å‚¨ä»»ä½•æ•°æ®å…ƒç´ ï¼Œå› æ­¤ top å’Œ rear æŒ‡é’ˆéƒ½åŒæ—¶æŒ‡å‘å¤´èŠ‚ç‚¹ã€‚</p><p>åœ¨åˆ›å»ºé“¾å¼é˜Ÿåˆ—æ—¶ï¼Œå¼ºçƒˆå»ºè®®åˆå­¦è€…åˆ›å»ºä¸€ä¸ªå¸¦æœ‰å¤´èŠ‚ç‚¹çš„é“¾è¡¨ï¼Œè¿™æ ·å®ç°é“¾å¼é˜Ÿåˆ—ä¼šæ›´ç®€å•ã€‚</p><p>ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å‡ºåˆ›å»ºé“¾å¼é˜Ÿåˆ—çš„ C è¯­è¨€å®ç°ä»£ç ä¸º:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ç»“æ„</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">QNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">QNode</span> * <span class="title">next</span>;</span></span><br><span class="line">&#125;QNode;</span><br><span class="line"><span class="comment">//åˆ›å»ºé“¾å¼é˜Ÿåˆ—çš„å‡½æ•°</span></span><br><span class="line"><span class="function">QNode * <span class="title">initQueue</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºä¸€ä¸ªå¤´èŠ‚ç‚¹</span></span><br><span class="line">    QNode * <span class="built_in">queue</span>=(QNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(QNode));</span><br><span class="line">    <span class="comment">//å¯¹å¤´èŠ‚ç‚¹è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    <span class="built_in">queue</span>-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">queue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é“¾å¼é˜Ÿåˆ—æ•°æ®å…¥é˜Ÿ"><a href="#é“¾å¼é˜Ÿåˆ—æ•°æ®å…¥é˜Ÿ" class="headerlink" title="é“¾å¼é˜Ÿåˆ—æ•°æ®å…¥é˜Ÿ"></a>é“¾å¼é˜Ÿåˆ—æ•°æ®å…¥é˜Ÿ</h4><p>é“¾é˜Ÿé˜Ÿåˆ—ä¸­ï¼Œå½“æœ‰æ–°çš„æ•°æ®å…ƒç´ å…¥é˜Ÿï¼Œåªéœ€è¿›è¡Œä»¥ä¸‹ 3 æ­¥æ“ä½œï¼š</p><ol><li>å°†è¯¥æ•°æ®å…ƒç´ ç”¨èŠ‚ç‚¹åŒ…è£¹ï¼Œä¾‹å¦‚æ–°èŠ‚ç‚¹åç§°ä¸º elemï¼›</li><li>ä¸ rear æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹å»ºç«‹é€»è¾‘å…³ç³»ï¼Œå³æ‰§è¡Œ rear-&gt;next=elemï¼›</li><li>æœ€åç§»åŠ¨ rear æŒ‡é’ˆæŒ‡å‘è¯¥æ–°èŠ‚ç‚¹ï¼Œå³ rear=elemï¼›</li></ol><p>ç”±æ­¤ï¼Œæ–°èŠ‚ç‚¹å°±å…¥é˜ŸæˆåŠŸäº†ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å›¾ 1 çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¾æ¬¡å°† <code>&#123;1,2,3&#125;</code> ä¾æ¬¡å…¥é˜Ÿï¼Œå„ä¸ªæ•°æ®å…ƒç´ å…¥é˜Ÿçš„è¿‡ç¨‹å¦‚å›¾ 2 æ‰€ç¤º:</p><p><img src="http://data.biancheng.net/uploads/allimg/181205/2-1Q2052111543C.gif" alt="{1,2,3} å…¥é“¾å¼é˜Ÿåˆ—"><br>å›¾ 2 {1,2,3} å…¥é“¾å¼é˜Ÿåˆ—</p><p>æ•°æ®å…ƒç´ å…¥é“¾å¼é˜Ÿåˆ—çš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QNode* <span class="title">enQueue</span><span class="params">(QNode * rear,<span class="keyword">int</span> data)</span></span>&#123;</span><br><span class="line">    <span class="comment">//1ã€ç”¨èŠ‚ç‚¹åŒ…è£¹å…¥é˜Ÿå…ƒç´ </span></span><br><span class="line">    QNode * enElem=(QNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(QNode));</span><br><span class="line">    enElem-&gt;data=data;</span><br><span class="line">    enElem-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="comment">//2ã€æ–°èŠ‚ç‚¹ä¸rearèŠ‚ç‚¹å»ºç«‹é€»è¾‘å…³ç³»</span></span><br><span class="line">    rear-&gt;next=enElem;</span><br><span class="line">    <span class="comment">//3ã€rearæŒ‡å‘æ–°èŠ‚ç‚¹</span></span><br><span class="line">    rear=enElem;</span><br><span class="line">    <span class="comment">//è¿”å›æ–°çš„rearï¼Œä¸ºåç»­æ–°å…ƒç´ å…¥é˜Ÿåšå‡†å¤‡</span></span><br><span class="line">    <span class="keyword">return</span> rear;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é“¾å¼é˜Ÿåˆ—æ•°æ®å‡ºé˜Ÿ"><a href="#é“¾å¼é˜Ÿåˆ—æ•°æ®å‡ºé˜Ÿ" class="headerlink" title="é“¾å¼é˜Ÿåˆ—æ•°æ®å‡ºé˜Ÿ"></a>é“¾å¼é˜Ÿåˆ—æ•°æ®å‡ºé˜Ÿ</h4><p>å½“é“¾å¼é˜Ÿåˆ—ä¸­ï¼Œæœ‰æ•°æ®å…ƒç´ éœ€è¦å‡ºé˜Ÿæ—¶ï¼ŒæŒ‰ç…§ â€œå…ˆè¿›å…ˆå‡ºâ€ çš„åŸåˆ™ï¼Œåªéœ€å°†å­˜å‚¨è¯¥æ•°æ®çš„èŠ‚ç‚¹ä»¥åŠå®ƒä¹‹å‰å…¥é˜Ÿçš„å…ƒç´ èŠ‚ç‚¹æŒ‰ç…§åŸåˆ™ä¾æ¬¡å‡ºé˜Ÿå³å¯ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å…ˆå­¦ä¹ å¦‚ä½•å°†é˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿã€‚</p><p>é“¾å¼é˜Ÿåˆ—ä¸­é˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿï¼Œéœ€è¦åšä»¥ä¸‹ 3 æ­¥æ“ä½œï¼š</p><ol><li>é€šè¿‡ top æŒ‡é’ˆç›´æ¥æ‰¾åˆ°é˜Ÿå¤´èŠ‚ç‚¹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æŒ‡é’ˆ p æŒ‡å‘æ­¤å³å°†å‡ºé˜Ÿçš„èŠ‚ç‚¹ï¼›</li><li>å°† p èŠ‚ç‚¹ï¼ˆå³è¦å‡ºé˜Ÿçš„é˜Ÿå¤´èŠ‚ç‚¹ï¼‰ä»é“¾è¡¨ä¸­æ‘˜é™¤ï¼›</li><li>é‡Šæ”¾èŠ‚ç‚¹ pï¼Œå›æ”¶å…¶æ‰€å çš„å†…å­˜ç©ºé—´ï¼›</li></ol><p>ä¾‹å¦‚ï¼Œåœ¨å›¾ 2b) çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°†å…ƒç´  1 å’Œ 2 å‡ºé˜Ÿï¼Œåˆ™æ“ä½œè¿‡ç¨‹å¦‚å›¾ 3 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181205/2-1Q205211240637.gif" alt="é“¾å¼é˜Ÿåˆ—ä¸­æ•°æ®å…ƒç´ å‡ºé˜Ÿ"><br>å›¾ 3 é“¾å¼é˜Ÿåˆ—ä¸­æ•°æ®å…ƒç´ å‡ºé˜Ÿ</p><p>é“¾å¼é˜Ÿåˆ—ä¸­é˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿçš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DeQueue</span><span class="params">(QNode * top,QNode * rear)</span></span>&#123;</span><br><span class="line">    QNode * p=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (top-&gt;next==<span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;é˜Ÿåˆ—ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    p=top-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,p-&gt;data);</span><br><span class="line">    top-&gt;next=p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (rear==p) &#123;</span><br><span class="line">        rear=top;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„â€”æ ˆ</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E6%A0%88/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E6%A0%88/</url>
      
        <content type="html"><![CDATA[<p><img src="http://data.biancheng.net/uploads/allimg/181201/2-1Q201203Q5110.gif" alt="æ ˆå­˜å‚¨ç»“æ„ç¤ºæ„å›¾"><br>å›¾ 1 æ ˆå­˜å‚¨ç»“æ„ç¤ºæ„å›¾</p><p>ä»å›¾ 1 æˆ‘ä»¬çœ‹åˆ°ï¼Œæ ˆå­˜å‚¨ç»“æ„ä¸ä¹‹å‰æ‰€å­¦çš„çº¿æ€§å­˜å‚¨ç»“æ„æœ‰æ‰€å·®å¼‚ï¼Œè¿™ç¼˜äºæ ˆå¯¹æ•°æ® â€œå­˜â€ å’Œ â€œå–â€ çš„è¿‡ç¨‹æœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼š</p><ol><li>æ ˆåªèƒ½ä»è¡¨çš„ä¸€ç«¯å­˜å–æ•°æ®ï¼Œå¦ä¸€ç«¯æ˜¯å°é—­çš„ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºï¼›</li><li>åœ¨æ ˆä¸­ï¼Œæ— è®ºæ˜¯å­˜æ•°æ®è¿˜æ˜¯å–æ•°æ®ï¼Œéƒ½å¿…é¡»éµå¾ªâ€å…ˆè¿›åå‡ºâ€çš„åŸåˆ™ï¼Œå³æœ€å…ˆè¿›æ ˆçš„å…ƒç´ æœ€åå‡ºæ ˆã€‚æ‹¿å›¾ 1 çš„æ ˆæ¥è¯´ï¼Œä»å›¾ä¸­æ•°æ®çš„å­˜å‚¨çŠ¶æ€å¯åˆ¤æ–­å‡ºï¼Œå…ƒç´  1 æ˜¯æœ€å…ˆè¿›çš„æ ˆã€‚å› æ­¤ï¼Œå½“éœ€è¦ä»æ ˆä¸­å–å‡ºå…ƒç´  1 æ—¶ï¼Œæ ¹æ®â€å…ˆè¿›åå‡ºâ€çš„åŸåˆ™ï¼Œéœ€æå‰å°†å…ƒç´  3 å’Œå…ƒç´  2 ä»æ ˆä¸­å–å‡ºï¼Œç„¶åæ‰èƒ½æˆåŠŸå–å‡ºå…ƒç´  1ã€‚</li></ol><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ ˆä¸‹ä¸€ä¸ªå®šä¹‰ï¼Œå³æ ˆæ˜¯ä¸€ç§åªèƒ½ä»è¡¨çš„ä¸€ç«¯å­˜å–æ•°æ®ä¸”éµå¾ª â€œå…ˆè¿›åå‡ºâ€ åŸåˆ™çš„çº¿æ€§å­˜å‚¨ç»“æ„ã€‚</p><p>é€šå¸¸ï¼Œæ ˆçš„å¼€å£ç«¯è¢«ç§°ä¸ºæ ˆé¡¶ï¼›ç›¸åº”åœ°ï¼Œå°å£ç«¯è¢«ç§°ä¸ºæ ˆåº•ã€‚å› æ­¤ï¼Œæ ˆé¡¶å…ƒç´ æŒ‡çš„å°±æ˜¯è·ç¦»æ ˆé¡¶æœ€è¿‘çš„å…ƒç´ ï¼Œæ‹¿å›¾ 2 æ¥è¯´ï¼Œæ ˆé¡¶å…ƒç´ ä¸ºå…ƒç´  4ï¼›åŒç†ï¼Œæ ˆåº•å…ƒç´ æŒ‡çš„æ˜¯ä½äºæ ˆæœ€åº•éƒ¨çš„å…ƒç´ ï¼Œå›¾ 2 ä¸­çš„æ ˆåº•å…ƒç´ ä¸ºå…ƒç´  1ã€‚</p><p><img src="http://data.biancheng.net/uploads/allimg/181201/2-1Q201204153P8.gif" alt="æ ˆé¡¶å’Œæ ˆåº•"><br>å›¾ 2 æ ˆé¡¶å’Œæ ˆåº•</p><h2 id="è¿›æ ˆå’Œå‡ºæ ˆ"><a href="#è¿›æ ˆå’Œå‡ºæ ˆ" class="headerlink" title="è¿›æ ˆå’Œå‡ºæ ˆ"></a>è¿›æ ˆå’Œå‡ºæ ˆ</h2><p>åŸºäºæ ˆç»“æ„çš„ç‰¹ç‚¹ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸åªä¼šå¯¹æ ˆæ‰§è¡Œä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š</p><ul><li>å‘æ ˆä¸­æ·»åŠ å…ƒç´ ï¼Œæ­¤è¿‡ç¨‹è¢«ç§°ä¸ºâ€è¿›æ ˆâ€ï¼ˆå…¥æ ˆæˆ–å‹æ ˆï¼‰ï¼›</li><li>ä»æ ˆä¸­æå–å‡ºæŒ‡å®šå…ƒç´ ï¼Œæ­¤è¿‡ç¨‹è¢«ç§°ä¸ºâ€å‡ºæ ˆâ€ï¼ˆæˆ–å¼¹æ ˆï¼‰ï¼›</li></ul><h2 id="æ ˆçš„å…·ä½“å®ç°"><a href="#æ ˆçš„å…·ä½“å®ç°" class="headerlink" title="æ ˆçš„å…·ä½“å®ç°"></a>æ ˆçš„å…·ä½“å®ç°</h2><p>æ ˆæ˜¯ä¸€ç§ â€œç‰¹æ®Šâ€ çš„çº¿æ€§å­˜å‚¨ç»“æ„ï¼Œå› æ­¤æ ˆçš„å…·ä½“å®ç°æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><a href="http://data.biancheng.net/view/170.html">é¡ºåºæ ˆ</a>ï¼šé‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„å¯ä»¥æ¨¡æ‹Ÿæ ˆå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ï¼Œä»è€Œå®ç°æ ˆå­˜å‚¨ç»“æ„ï¼›</li><li><a href="http://data.biancheng.net/view/171.html">é“¾æ ˆ</a>ï¼šé‡‡ç”¨é“¾å¼å­˜å‚¨ç»“æ„å®ç°æ ˆç»“æ„ï¼›</li></ol><p>ä¸¤ç§å®ç°æ–¹å¼çš„åŒºåˆ«ï¼Œä»…é™äºæ•°æ®å…ƒç´ åœ¨å®é™…ç‰©ç†ç©ºé—´ä¸Šå­˜æ”¾çš„ç›¸å¯¹ä½ç½®ï¼Œé¡ºåºæ ˆåº•å±‚é‡‡ç”¨çš„æ˜¯<a href="http://data.biancheng.net/view/181.html">æ•°ç»„</a>ï¼Œé“¾æ ˆåº•å±‚é‡‡ç”¨çš„æ˜¯é“¾è¡¨ã€‚æœ‰å…³é¡ºåºæ ˆå’Œé“¾æ ˆçš„å…·ä½“å®ç°ä¼šåœ¨åç»­ç« èŠ‚ä¸­ä½œè¯¦ç»†è®²è§£ã€‚</p><h2 id="æ ˆçš„åº”ç”¨"><a href="#æ ˆçš„åº”ç”¨" class="headerlink" title="æ ˆçš„åº”ç”¨"></a>æ ˆçš„åº”ç”¨</h2><p>åŸºäºæ ˆç»“æ„å¯¹æ•°æ®å­˜å–é‡‡ç”¨ â€œå…ˆè¿›åå‡ºâ€ åŸåˆ™çš„ç‰¹ç‚¹ï¼Œå®ƒå¯ä»¥ç”¨äºå®ç°å¾ˆå¤šåŠŸèƒ½ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨æµè§ˆå™¨åœ¨å„ç§ç½‘ç«™ä¸ŠæŸ¥æ‰¾ä¿¡æ¯ã€‚å‡è®¾å…ˆæµè§ˆçš„é¡µé¢ Aï¼Œç„¶åå…³é—­äº†é¡µé¢ A è·³è½¬åˆ°é¡µé¢ Bï¼Œéšååˆå…³é—­é¡µé¢ B è·³è½¬åˆ°äº†é¡µé¢ Cã€‚è€Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å¦‚æœæƒ³é‡æ–°å›åˆ°é¡µé¢ Aï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p><ul><li>é‡æ–°æœç´¢æ‰¾åˆ°é¡µé¢ Aï¼›</li><li>ä½¿ç”¨æµè§ˆå™¨çš„â€å›é€€â€åŠŸèƒ½ã€‚æµè§ˆå™¨ä¼šå…ˆå›é€€åˆ°é¡µé¢ Bï¼Œè€Œåå†å›é€€åˆ°é¡µé¢ Aã€‚</li></ul><p>æµè§ˆå™¨ â€œå›é€€â€ åŠŸèƒ½çš„å®ç°ï¼Œåº•å±‚ä½¿ç”¨çš„å°±æ˜¯æ ˆå­˜å‚¨ç»“æ„ã€‚å½“ä½ å…³é—­é¡µé¢ A æ—¶ï¼Œæµè§ˆå™¨ä¼šå°†é¡µé¢ A å…¥æ ˆï¼›åŒæ ·ï¼Œå½“ä½ å…³é—­é¡µé¢ B æ—¶ï¼Œæµè§ˆå™¨ä¹Ÿä¼šå°† Bå…¥æ ˆã€‚å› æ­¤ï¼Œå½“ä½ æ‰§è¡Œå›é€€æ“ä½œæ—¶ï¼Œæ‰ä¼šé¦–å…ˆçœ‹åˆ°çš„æ˜¯é¡µé¢ Bï¼Œç„¶åæ˜¯é¡µé¢ Aï¼Œè¿™æ˜¯æ ˆä¸­æ•°æ®ä¾æ¬¡å‡ºæ ˆçš„æ•ˆæœã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œæ ˆå­˜å‚¨ç»“æ„è¿˜å¯ä»¥å¸®æˆ‘ä»¬æ£€æµ‹ä»£ç ä¸­çš„<a href="http://data.biancheng.net/view/87.html">æ‹¬å·åŒ¹é…</a>é—®é¢˜ã€‚å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½ä¼šç”¨åˆ°æ‹¬å·ï¼ˆå°æ‹¬å·ã€ä¸­æ‹¬å·å’Œå¤§æ‹¬å·ï¼‰ï¼Œæ‹¬å·çš„é”™è¯¯ä½¿ç”¨ï¼ˆé€šå¸¸æ˜¯ä¸¢å³æ‹¬å·ï¼‰ä¼šå¯¼è‡´ç¨‹åºç¼–è¯‘é”™è¯¯ï¼Œè€Œå¾ˆå¤šå¼€å‘å·¥å…·ä¸­éƒ½æœ‰æ£€æµ‹ä»£ç æ˜¯å¦æœ‰ç¼–è¾‘é”™è¯¯çš„åŠŸèƒ½ï¼Œå…¶ä¸­å°±åŒ…å«æ£€æµ‹ä»£ç ä¸­çš„æ‹¬å·åŒ¹é…é—®é¢˜ï¼Œæ­¤åŠŸèƒ½çš„åº•å±‚å®ç°ä½¿ç”¨çš„å°±æ˜¯æ ˆç»“æ„ã€‚</p><p>åŒæ—¶ï¼Œæ ˆç»“æ„è¿˜å¯ä»¥å®ç°æ•°å€¼çš„<a href="http://data.biancheng.net/view/86.html">è¿›åˆ¶è½¬æ¢</a>åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œç¼–å†™ç¨‹åºå®ç°ä»åè¿›åˆ¶æ•°è‡ªåŠ¨è½¬æ¢æˆäºŒè¿›åˆ¶æ•°ï¼Œå°±å¯ä»¥ä½¿ç”¨æ ˆå­˜å‚¨ç»“æ„æ¥å®ç°ã€‚</p><p>ä»¥ä¸Šä¹Ÿä»…æ˜¯æ ˆåº”ç”¨é¢†åŸŸçš„å†°å±±ä¸€è§’ï¼Œè¿™é‡Œä¸å†è¿‡å¤šä¸¾ä¾‹ã€‚åœ¨åç»­ç« èŠ‚çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ä¼šå¤§é‡ä½¿ç”¨åˆ°æ ˆç»“æ„ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•å®ç°é¡ºåºæ ˆå’Œé“¾æ ˆï¼Œä»¥åŠå¯¹æ ˆä¸­å…ƒç´ è¿›è¡Œå…¥æ ˆå’Œå‡ºæ ˆçš„æ“ä½œã€‚</p><h2 id="æ ˆçš„åˆ†ç±»"><a href="#æ ˆçš„åˆ†ç±»" class="headerlink" title="æ ˆçš„åˆ†ç±»"></a>æ ˆçš„åˆ†ç±»</h2><h3 id="é¡ºåºæ ˆ"><a href="#é¡ºåºæ ˆ" class="headerlink" title="é¡ºåºæ ˆ"></a>é¡ºåºæ ˆ</h3><p>å³ç”¨é¡ºåºè¡¨å®ç°æ ˆå­˜å‚¨ç»“æ„ã€‚é€šè¿‡å‰é¢çš„å­¦ä¹ æˆ‘ä»¬çŸ¥é“ï¼Œä½¿ç”¨æ ˆå­˜å‚¨ç»“æ„æ“ä½œæ•°æ®å…ƒç´ å¿…é¡»éµå®ˆ â€œå…ˆè¿›åå‡ºâ€ çš„åŸåˆ™ï¼Œæœ¬èŠ‚å°± â€œå¦‚ä½•ä½¿ç”¨é¡ºåºè¡¨æ¨¡æ‹Ÿæ ˆä»¥åŠå®ç°å¯¹æ ˆä¸­æ•°æ®çš„åŸºæœ¬æ“ä½œï¼ˆå‡ºæ ˆå’Œå…¥æ ˆï¼‰â€ ç»™å¤§å®¶åšè¯¦ç»†ä»‹ç»ã€‚</p><p>å¦‚æœä½ ä»”ç»†è§‚å¯Ÿé¡ºåºè¡¨ï¼ˆåº•å±‚å®ç°æ˜¯æ•°ç»„ï¼‰å’Œæ ˆç»“æ„å°±ä¼šå‘ç°ï¼Œå®ƒä»¬å­˜å‚¨æ•°æ®çš„æ–¹å¼é«˜åº¦ç›¸ä¼¼ï¼Œåªä¸è¿‡æ ˆå¯¹æ•°æ®çš„å­˜å–è¿‡ç¨‹æœ‰ç‰¹æ®Šçš„é™åˆ¶ï¼Œè€Œé¡ºåºè¡¨æ²¡æœ‰ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨é¡ºåºè¡¨ï¼ˆa æ•°ç»„ï¼‰å­˜å‚¨ <code>&#123;1,2,3,4&#125;</code>ï¼Œå­˜å‚¨çŠ¶æ€å¦‚å›¾1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q202131155H8.gif" alt="é¡ºåºè¡¨å­˜å‚¨ {1,2,3,4}"><br>å›¾ 1 é¡ºåºè¡¨å­˜å‚¨ {1,2,3,4}</p><p>åŒæ ·ï¼Œä½¿ç”¨æ ˆå­˜å‚¨ç»“æ„å­˜å‚¨ <code>&#123;1,2,3,4&#125;</code>ï¼Œå…¶å­˜å‚¨çŠ¶æ€å¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q202131233249.gif" alt="æ ˆç»“æ„å­˜å‚¨ {1,2,3,4}"><br>å›¾ 2 æ ˆç»“æ„å­˜å‚¨ {1,2,3,4}</p><p>é€šè¿‡å›¾ 1 å’Œå›¾ 2 çš„å¯¹æ¯”ä¸éš¾çœ‹å‡ºï¼Œä½¿ç”¨é¡ºåºè¡¨æ¨¡æ‹Ÿæ ˆç»“æ„å¾ˆç®€å•ï¼Œåªéœ€è¦å°†æ•°æ®ä» a æ•°ç»„ä¸‹æ ‡ä¸º 0 çš„ä½ç½®ä¾æ¬¡å­˜å‚¨å³å¯ã€‚</p><p>ä»æ•°ç»„ä¸‹æ ‡ä¸º 0 çš„æ¨¡æ‹Ÿæ ˆå­˜å‚¨æ•°æ®æ˜¯å¸¸ç”¨çš„æ–¹æ³•ï¼Œä»å…¶ä»–æ•°ç»„ä¸‹æ ‡å¤„å­˜å‚¨æ•°æ®ä¹Ÿå®Œå…¨å¯ä»¥ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿åˆå­¦è€…ç†è§£ã€‚</p><p>äº†è§£äº†é¡ºåºè¡¨æ¨¡æ‹Ÿæ ˆå­˜å‚¨æ•°æ®åï¼Œæ¥ä¸‹æ¥çœ‹å¦‚ä½•æ¨¡æ‹Ÿæ ˆä¸­å…ƒç´ å‡ºæ ˆçš„æ“ä½œã€‚ç”±äºæ ˆå¯¹å­˜å‚¨å…ƒç´ å‡ºæ ˆçš„æ¬¡åºæœ‰â€å…ˆè¿›åå‡ºâ€çš„è¦æ±‚ï¼Œå¦‚æœæƒ³å°†å›¾ 1 ä¸­å­˜å‚¨çš„å…ƒç´  1 ä»æ ˆä¸­å–å‡ºï¼Œéœ€å…ˆå°†å…ƒç´  4ã€å…ƒç´  3 å’Œå…ƒç´  2 ä¾æ¬¡ä»æ ˆä¸­å–å‡ºã€‚</p><p>è¿™é‡Œç»™å‡ºä½¿ç”¨é¡ºåºè¡¨æ¨¡æ‹Ÿæ ˆå­˜å‚¨ç»“æ„å¸¸ç”¨çš„å®ç°æ€è·¯ï¼Œå³åœ¨é¡ºåºè¡¨ä¸­è®¾å®šä¸€ä¸ªå®æ—¶æŒ‡å‘æ ˆé¡¶å…ƒç´ çš„å˜é‡ï¼ˆä¸€èˆ¬å‘½åä¸º topï¼‰ï¼Œtop åˆå§‹å€¼ä¸º -1ï¼Œè¡¨ç¤ºæ ˆä¸­æ²¡æœ‰å­˜å‚¨ä»»ä½•æ•°æ®å…ƒç´ ï¼ŒåŠæ ˆæ˜¯â€ç©ºæ ˆâ€ã€‚ä¸€æ—¦æœ‰æ•°æ®å…ƒç´ è¿›æ ˆï¼Œåˆ™ top å°±åš +1 æ“ä½œï¼›åä¹‹ï¼Œå¦‚æœæ•°æ®å…ƒç´ å‡ºæ ˆï¼Œtop å°±åš -1 æ“ä½œã€‚</p><h4 id="é¡ºåºæ ˆå…ƒç´ â€å…¥æ ˆâ€"><a href="#é¡ºåºæ ˆå…ƒç´ â€å…¥æ ˆâ€" class="headerlink" title="é¡ºåºæ ˆå…ƒç´ â€å…¥æ ˆâ€"></a>é¡ºåºæ ˆå…ƒç´ â€å…¥æ ˆâ€</h4><p>æ¯”å¦‚ï¼Œè¿˜æ˜¯æ¨¡æ‹Ÿæ ˆå­˜å‚¨ <code>&#123;1,2,3,4&#125;</code> çš„è¿‡ç¨‹ã€‚æœ€åˆï¼Œæ ˆæ˜¯â€ç©ºæ ˆâ€ï¼Œå³æ•°ç»„æ˜¯ç©ºçš„ï¼Œtop å€¼ä¸ºåˆå§‹å€¼ -1ï¼Œå¦‚å›¾ 3 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q202131603419.gif" alt="ç©ºæ ˆç¤ºæ„å›¾"><br>å›¾ 3 ç©ºæ ˆç¤ºæ„å›¾</p><p>é¦–å…ˆå‘æ ˆä¸­æ·»åŠ å…ƒç´  1ï¼Œæˆ‘ä»¬é»˜è®¤æ•°ç»„ä¸‹æ ‡ä¸º 0 ä¸€ç«¯è¡¨ç¤ºæ ˆåº•ï¼Œå› æ­¤ï¼Œå…ƒç´  1 è¢«å­˜å‚¨åœ¨æ•°ç»„ a[1] å¤„ï¼ŒåŒæ—¶ top å€¼ +1ï¼Œå¦‚å›¾ 4 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q2021316322O.gif" alt="æ¨¡æ‹Ÿæ ˆå­˜å‚¨å…ƒç´  1"><br>å›¾ 4 æ¨¡æ‹Ÿæ ˆå­˜å‚¨å…ƒç´  1</p><p>é‡‡ç”¨ä»¥ä¸Šçš„æ–¹å¼ï¼Œä¾æ¬¡å­˜å‚¨å…ƒç´  2ã€3 å’Œ 4ï¼Œæœ€ç»ˆï¼Œtop å€¼å˜ä¸º 3ï¼Œå¦‚å›¾ 5 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q202131649636.gif" alt="æ¨¡æ‹Ÿæ ˆå­˜å‚¨{1,2,3,4}"><br>å›¾ 5 æ¨¡æ‹Ÿæ ˆå­˜å‚¨{1,2,3,4}</p><p>å› æ­¤ï¼ŒC è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…ƒç´ elemè¿›æ ˆï¼Œaä¸ºæ•°ç»„ï¼Œtopå€¼ä¸ºå½“å‰æ ˆçš„æ ˆé¡¶ä½ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span>* a,<span class="keyword">int</span> top,<span class="keyword">int</span> elem)</span></span>&#123;</span><br><span class="line">    a[++top]=elem;</span><br><span class="line">    <span class="keyword">return</span> top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­çš„ a[++top]=elemï¼Œç­‰ä»·äºå…ˆæ‰§è¡Œ ++topï¼Œå†æ‰§è¡Œ a[top]=elemã€‚</p><h4 id="é¡ºåºæ ˆå…ƒç´ â€å‡ºæ ˆâ€"><a href="#é¡ºåºæ ˆå…ƒç´ â€å‡ºæ ˆâ€" class="headerlink" title="é¡ºåºæ ˆå…ƒç´ â€å‡ºæ ˆâ€"></a>é¡ºåºæ ˆå…ƒç´ â€å‡ºæ ˆâ€</h4><p>å…¶å®ï¼Œtop å˜é‡çš„è®¾ç½®å¯¹æ¨¡æ‹Ÿæ•°æ®çš„ â€œå…¥æ ˆâ€ æ“ä½œæ²¡æœ‰å®é™…çš„å¸®åŠ©ï¼Œå®ƒæ˜¯ä¸ºå®ç°æ•°æ®çš„ â€œå‡ºæ ˆâ€ æ“ä½œåšå‡†å¤‡çš„ã€‚</p><p>æ¯”å¦‚ï¼Œå°†å›¾ 5 ä¸­çš„å…ƒç´  2 å‡ºæ ˆï¼Œåˆ™éœ€è¦å…ˆå°†å…ƒç´  4 å’Œå…ƒç´  3 ä¾æ¬¡å‡ºæ ˆã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æœ‰æ•°æ®å‡ºæ ˆæ—¶ï¼Œè¦å°† top åš -1 æ“ä½œã€‚å› æ­¤ï¼Œå…ƒç´  4 å’Œå…ƒç´  3 å‡ºæ ˆçš„è¿‡ç¨‹åˆ†åˆ«å¦‚å›¾ 6a) å’Œ 6b) æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181225/2-1Q225200HMC.gif" alt="æ•°æ®å…ƒç´ å‡ºæ ˆ"><br>å›¾ 6 æ•°æ®å…ƒç´ å‡ºæ ˆ</p><p>æ³¨æ„ï¼Œå›¾ 6 æ•°ç»„ä¸­å…ƒç´ çš„æ¶ˆå¤±ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿åˆå­¦è€…å­¦ä¹ ï¼Œå…¶å®ï¼Œè¿™é‡Œåªéœ€è¦å¯¹ top å€¼åš -1 æ“ä½œå³å¯ï¼Œå› ä¸º top å€¼æœ¬èº«å°±è¡¨ç¤ºæ ˆçš„æ ˆé¡¶ä½ç½®ï¼Œå› æ­¤ top-1 å°±ç­‰åŒäºæ ˆé¡¶å…ƒç´ å‡ºæ ˆã€‚å¹¶ä¸”åæœŸå‘æ ˆä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œæ–°å…ƒç´ ä¼šå­˜å‚¨åœ¨ç±»ä¼¼å…ƒç´  4 è¿™æ ·çš„æ—§å…ƒç´ ä½ç½®ä¸Šï¼Œå°†æ—§å…ƒç´ è¦†ç›–ã€‚</p><p>å…ƒç´  4 å’Œå…ƒç´  3 å…¨éƒ¨å‡ºæ ˆåï¼Œå…ƒç´  2 æ‰èƒ½å‡ºæ ˆã€‚å› æ­¤ï¼Œä½¿ç”¨é¡ºåºè¡¨æ¨¡æ‹Ÿæ•°æ®å‡ºæ ˆæ“ä½œçš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°æ®å…ƒç´ å‡ºæ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(<span class="keyword">int</span> * a,<span class="keyword">int</span> top)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (top==<span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ç©ºæ ˆ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;å¼¹æ ˆå…ƒç´ ï¼š%d\n&quot;</span>,a[top]);</span><br><span class="line">    top--;</span><br><span class="line">    <span class="keyword">return</span> top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é“¾æ ˆ"><a href="#é“¾æ ˆ" class="headerlink" title="é“¾æ ˆ"></a>é“¾æ ˆ</h3><p>å³ç”¨é“¾è¡¨å®ç°æ ˆå­˜å‚¨ç»“æ„ã€‚é“¾æ ˆçš„å®ç°æ€è·¯åŒé¡ºåºæ ˆç±»ä¼¼ï¼Œé¡ºåºæ ˆæ˜¯å°†æ•°é¡ºåºè¡¨ï¼ˆæ•°ç»„ï¼‰çš„ä¸€ç«¯ä½œä¸ºæ ˆåº•ï¼Œå¦ä¸€ç«¯ä¸ºæ ˆé¡¶ï¼›é“¾æ ˆä¹Ÿå¦‚æ­¤ï¼Œé€šå¸¸æˆ‘ä»¬å°†é“¾è¡¨çš„å¤´éƒ¨ä½œä¸ºæ ˆé¡¶ï¼Œå°¾éƒ¨ä½œä¸ºæ ˆåº•ï¼Œå¦‚å›¾1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q2021G31YC.gif" alt="é“¾æ ˆç¤ºæ„å›¾"><br>å›¾ 1 é“¾æ ˆç¤ºæ„å›¾</p><p>å°†é“¾è¡¨å¤´éƒ¨ä½œä¸ºæ ˆé¡¶çš„ä¸€ç«¯ï¼Œå¯ä»¥é¿å…åœ¨å®ç°æ•°æ® â€œå…¥æ ˆâ€ å’Œ â€œå‡ºæ ˆâ€ æ“ä½œæ—¶åšå¤§é‡éå†é“¾è¡¨çš„è€—æ—¶æ“ä½œã€‚</p><p>é“¾è¡¨çš„å¤´éƒ¨ä½œä¸ºæ ˆé¡¶ï¼Œæ„å‘³ç€ï¼š</p><ul><li>åœ¨å®ç°æ•°æ®â€å…¥æ ˆâ€æ“ä½œæ—¶ï¼Œéœ€è¦å°†æ•°æ®ä»é“¾è¡¨çš„å¤´éƒ¨æ’å…¥ï¼›</li><li>åœ¨å®ç°æ•°æ®â€å‡ºæ ˆâ€æ“ä½œæ—¶ï¼Œéœ€è¦åˆ é™¤é“¾è¡¨å¤´éƒ¨çš„é¦–å…ƒèŠ‚ç‚¹ï¼›</li></ul><p>å› æ­¤ï¼Œé“¾æ ˆå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªåªèƒ½é‡‡ç”¨å¤´æ’æ³•æ’å…¥æˆ–åˆ é™¤æ•°æ®çš„é“¾è¡¨ã€‚</p><h4 id="é“¾æ ˆå…ƒç´ å…¥æ ˆ"><a href="#é“¾æ ˆå…ƒç´ å…¥æ ˆ" class="headerlink" title="é“¾æ ˆå…ƒç´ å…¥æ ˆ"></a>é“¾æ ˆå…ƒç´ å…¥æ ˆ</h4><p>ä¾‹å¦‚ï¼Œå°†å…ƒç´  1ã€2ã€3ã€4 ä¾æ¬¡å…¥æ ˆï¼Œç­‰ä»·äºå°†å„å…ƒç´ é‡‡ç”¨å¤´æ’æ³•ä¾æ¬¡æ·»åŠ åˆ°é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹å¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q2021G402604.gif" alt="é“¾æ ˆå…ƒç´ ä¾æ¬¡å…¥æ ˆè¿‡ç¨‹ç¤ºæ„å›¾"><br>å›¾ 2 é“¾æ ˆå…ƒç´ ä¾æ¬¡å…¥æ ˆè¿‡ç¨‹ç¤ºæ„å›¾</p><p>Cè¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ç»“æ„</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">lineStack</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">lineStack</span> * <span class="title">next</span>;</span></span><br><span class="line">&#125;lineStack;</span><br><span class="line"><span class="comment">//stackä¸ºå½“å‰çš„é“¾æ ˆï¼Œaè¡¨ç¤ºå…¥æ ˆå…ƒç´ </span></span><br><span class="line"><span class="function">lineStack* <span class="title">push</span><span class="params">(lineStack * <span class="built_in">stack</span>,<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºå­˜å‚¨æ–°å…ƒç´ çš„èŠ‚ç‚¹</span></span><br><span class="line">    lineStack * line=(lineStack*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(lineStack));</span><br><span class="line">    line-&gt;data=a;</span><br><span class="line">    <span class="comment">//æ–°èŠ‚ç‚¹ä¸å¤´èŠ‚ç‚¹å»ºç«‹é€»è¾‘å…³ç³»</span></span><br><span class="line">    line-&gt;next=<span class="built_in">stack</span>;</span><br><span class="line">    <span class="comment">//æ›´æ–°å¤´æŒ‡é’ˆçš„æŒ‡å‘</span></span><br><span class="line">    <span class="built_in">stack</span>=line;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">stack</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é“¾æ ˆå…ƒç´ å‡ºæ ˆ"><a href="#é“¾æ ˆå…ƒç´ å‡ºæ ˆ" class="headerlink" title="é“¾æ ˆå…ƒç´ å‡ºæ ˆ"></a>é“¾æ ˆå…ƒç´ å‡ºæ ˆ</h4><p>ä¾‹å¦‚ï¼Œå›¾ 2e) æ‰€ç¤ºçš„é“¾æ ˆä¸­ï¼Œè‹¥è¦å°†å…ƒç´  3 å‡ºæ ˆï¼Œæ ¹æ®â€å…ˆè¿›åå‡ºâ€çš„åŸåˆ™ï¼Œè¦å…ˆå°†å…ƒç´  4 å‡ºæ ˆï¼Œä¹Ÿå°±æ˜¯ä»é“¾è¡¨ä¸­æ‘˜é™¤ï¼Œç„¶åå…ƒç´  3 æ‰èƒ½å‡ºæ ˆï¼Œæ•´ä¸ªæ“ä½œè¿‡ç¨‹å¦‚å›¾ 3 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181202/2-1Q2021G432217.gif" alt="é“¾æ ˆå…ƒç´ å‡ºæ ˆç¤ºæ„å›¾"><br>å›¾ 3 é“¾æ ˆå…ƒç´ å‡ºæ ˆç¤ºæ„å›¾</p><p>å› æ­¤ï¼Œå®ç°æ ˆé¡¶å…ƒç´ å‡ºé“¾æ ˆçš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ˆé¡¶å…ƒç´ å‡ºé“¾æ ˆçš„å®ç°å‡½æ•°</span></span><br><span class="line"><span class="function">lineStack * <span class="title">pop</span><span class="params">(lineStack * <span class="built_in">stack</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">stack</span>) &#123;</span><br><span class="line">        <span class="comment">//å£°æ˜ä¸€ä¸ªæ–°æŒ‡é’ˆæŒ‡å‘æ ˆé¡¶èŠ‚ç‚¹</span></span><br><span class="line">        lineStack * p=<span class="built_in">stack</span>;</span><br><span class="line">        <span class="comment">//æ›´æ–°å¤´æŒ‡é’ˆ</span></span><br><span class="line">        <span class="built_in">stack</span>=<span class="built_in">stack</span>-&gt;next;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;å‡ºæ ˆå…ƒç´ ï¼š%d &quot;</span>,p-&gt;data);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">stack</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;æ–°æ ˆé¡¶å…ƒç´ ï¼š%d\n&quot;</span>,<span class="built_in">stack</span>-&gt;data);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;æ ˆå·²ç©º\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ ˆå†…æ²¡æœ‰å…ƒç´ &quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">stack</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">stack</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> æ ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„â€”é™æ€é“¾è¡¨</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%9D%99%E6%80%81%E9%93%BE%E8%A1%A8/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%9D%99%E6%80%81%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>é™æ€é“¾è¡¨ï¼Œä¹Ÿæ˜¯çº¿æ€§å­˜å‚¨ç»“æ„çš„ä¸€ç§ï¼Œå®ƒå…¼é¡¾äº†é¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜ç‚¹äºä¸€èº«ï¼Œå¯ä»¥çœ‹åšæ˜¯é¡ºåºè¡¨å’Œé“¾è¡¨çš„å‡çº§ç‰ˆã€‚</p><p>ä½¿ç”¨é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®ï¼Œæ•°æ®å…¨éƒ¨å­˜å‚¨åœ¨<a href="http://data.biancheng.net/view/181.html">æ•°ç»„</a>ä¸­ï¼ˆå’Œé¡ºåºè¡¨ä¸€æ ·ï¼‰ï¼Œä½†å­˜å‚¨ä½ç½®æ˜¯éšæœºçš„ï¼Œæ•°æ®ä¹‹é—´â€ä¸€å¯¹ä¸€â€çš„é€»è¾‘å…³ç³»é€šè¿‡ä¸€ä¸ªæ•´å½¢å˜é‡ï¼ˆç§°ä¸ºâ€æ¸¸æ ‡â€ï¼Œå’ŒæŒ‡é’ˆåŠŸèƒ½ç±»ä¼¼ï¼‰ç»´æŒï¼ˆå’Œé“¾è¡¨ç±»ä¼¼ï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨é™æ€é“¾è¡¨å­˜å‚¨ <code>&#123;1,2,3&#125;</code> çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>åˆ›å»ºä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•°ç»„ï¼Œå‡è®¾å¤§å°ä¸º 6ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260R610450.gif" alt="ç©ºæ•°ç»„"><br>å›¾ 1 ç©ºæ•°ç»„</p><p>æ¥ç€ï¼Œåœ¨å°†æ•°æ®å­˜æ”¾åˆ°æ•°ç»„ä¸­æ—¶ï¼Œç»™å„ä¸ªæ•°æ®å…ƒç´ é…å¤‡ä¸€ä¸ªæ•´å½¢å˜é‡ï¼Œæ­¤å˜é‡ç”¨äºæŒ‡æ˜å„ä¸ªå…ƒç´ çš„ç›´æ¥åç»§å…ƒç´ æ‰€åœ¨æ•°ç»„ä¸­çš„ä½ç½®ä¸‹æ ‡ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260RHSQ.gif" alt="é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®"><br>å›¾ 2 é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®</p><p>é€šå¸¸ï¼Œé™æ€é“¾è¡¨ä¼šå°†ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ æ”¾åˆ°æ•°ç»„ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼ˆa[1]ï¼‰ä¸­ã€‚</p><p>å›¾ 2 ä¸­ï¼Œä» a[1] å­˜å‚¨çš„æ•°æ®å…ƒç´  1 å¼€å§‹ï¼Œé€šè¿‡å­˜å‚¨çš„æ¸¸æ ‡å˜é‡ 3ï¼Œå°±å¯ä»¥åœ¨ a[3] ä¸­æ‰¾åˆ°å…ƒç´  1 çš„ç›´æ¥åç»§å…ƒç´  2ï¼›åŒæ ·ï¼Œé€šè¿‡å…ƒç´  a[3] å­˜å‚¨çš„æ¸¸æ ‡å˜é‡ 5ï¼Œå¯ä»¥åœ¨ a[5] ä¸­æ‰¾åˆ°å…ƒç´  2 çš„ç›´æ¥åç»§å…ƒç´  3ï¼Œè¿™æ ·çš„å¾ªç¯è¿‡ç¨‹ç›´åˆ°æŸå…ƒç´ çš„æ¸¸æ ‡å˜é‡ä¸º 0 æˆªæ­¢ï¼ˆå› ä¸º a[0] é»˜è®¤ä¸å­˜å‚¨æ•°æ®å…ƒç´ ï¼‰ã€‚</p><p>ç±»ä¼¼å›¾ 2 è¿™æ ·ï¼Œé€šè¿‡ â€œæ•°ç»„+æ¸¸æ ‡â€ çš„æ–¹å¼å­˜å‚¨å…·æœ‰çº¿æ€§å…³ç³»æ•°æ®çš„å­˜å‚¨ç»“æ„å°±æ˜¯é™æ€é“¾è¡¨ã€‚</p><h2 id="é™æ€é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><a href="#é™æ€é“¾è¡¨ä¸­çš„èŠ‚ç‚¹" class="headerlink" title="é™æ€é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"></a>é™æ€é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</h2><p>é€šè¿‡ä¸Šé¢çš„å­¦ä¹ æˆ‘ä»¬çŸ¥é“ï¼Œé™æ€é“¾è¡¨å­˜å‚¨æ•°æ®å…ƒç´ ä¹Ÿéœ€è¦è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œè‡³å°‘éœ€è¦åŒ…å«ä»¥ä¸‹ 2 éƒ¨åˆ†ä¿¡æ¯ï¼š</p><ul><li>  æ•°æ®åŸŸï¼šç”¨äºå­˜å‚¨æ•°æ®å…ƒç´ çš„å€¼ï¼›</li><li>  æ¸¸æ ‡ï¼šå…¶å®å°±æ˜¯æ•°ç»„ä¸‹æ ‡ï¼Œè¡¨ç¤ºç›´æ¥åç»§å…ƒç´ æ‰€åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼›</li></ul><p>å› æ­¤ï¼Œé™æ€é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ„æˆç”¨ C è¯­è¨€å®ç°ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;<span class="comment">//æ•°æ®åŸŸ</span></span><br><span class="line">    <span class="keyword">int</span> cur;<span class="comment">//æ¸¸æ ‡</span></span><br><span class="line">&#125;component;</span><br></pre></td></tr></table></figure><h2 id="å¤‡ç”¨é“¾è¡¨"><a href="#å¤‡ç”¨é“¾è¡¨" class="headerlink" title="å¤‡ç”¨é“¾è¡¨"></a>å¤‡ç”¨é“¾è¡¨</h2><p>å›¾ 2 æ˜¾ç¤ºçš„é™æ€é“¾è¡¨è¿˜ä¸å¤Ÿå®Œæ•´ï¼Œé™æ€é“¾è¡¨ä¸­ï¼Œé™¤äº†æ•°æ®æœ¬èº«é€šè¿‡æ¸¸æ ‡ç»„æˆçš„é“¾è¡¨å¤–ï¼Œè¿˜éœ€è¦æœ‰ä¸€æ¡è¿æ¥å„ä¸ªç©ºé—²ä½ç½®çš„é“¾è¡¨ï¼Œç§°ä¸ºå¤‡ç”¨é“¾è¡¨ã€‚</p><p>å¤‡ç”¨é“¾è¡¨çš„ä½œç”¨æ˜¯å›æ”¶æ•°ç»„ä¸­æœªä½¿ç”¨æˆ–ä¹‹å‰ä½¿ç”¨è¿‡ï¼ˆç›®å‰æœªä½¿ç”¨ï¼‰çš„å­˜å‚¨ç©ºé—´ï¼Œç•™å¾…åæœŸä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™æ€é“¾è¡¨ä½¿ç”¨æ•°ç»„ç”³è¯·çš„ç‰©ç†ç©ºé—´ä¸­ï¼Œå­˜æœ‰ä¸¤ä¸ªé“¾è¡¨ï¼Œä¸€æ¡è¿æ¥æ•°æ®ï¼Œå¦ä¸€æ¡è¿æ¥æ•°ç»„ä¸­æœªä½¿ç”¨çš„ç©ºé—´ã€‚</p><p>é€šå¸¸ï¼Œå¤‡ç”¨é“¾è¡¨çš„è¡¨å¤´ä½äºæ•°ç»„ä¸‹æ ‡ä¸º 0ï¼ˆa[0]ï¼‰ çš„ä½ç½®ï¼Œè€Œæ•°æ®é“¾è¡¨çš„è¡¨å¤´ä½äºæ•°ç»„ä¸‹æ ‡ä¸º 1ï¼ˆa[1]ï¼‰çš„ä½ç½®ã€‚</p><p>é™æ€é“¾è¡¨ä¸­è®¾ç½®å¤‡ç”¨é“¾è¡¨çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥æ¸…æ¥šåœ°çŸ¥é“æ•°ç»„ä¸­æ˜¯å¦æœ‰ç©ºé—²ä½ç½®ï¼Œä»¥ä¾¿æ•°æ®é“¾è¡¨æ·»åŠ æ–°æ•°æ®æ—¶ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œè‹¥é™æ€é“¾è¡¨ä¸­æ•°ç»„ä¸‹æ ‡ä¸º 0 çš„ä½ç½®ä¸Šå­˜æœ‰æ•°æ®ï¼Œåˆ™è¯æ˜æ•°ç»„å·²æ»¡ã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨é™æ€é“¾è¡¨å­˜å‚¨ <code>&#123;1,2,3&#125;</code>ï¼Œå‡è®¾ä½¿ç”¨é•¿åº¦ä¸º 6 çš„æ•°ç»„ aï¼Œåˆ™å­˜å‚¨çŠ¶æ€å¯èƒ½å¦‚å›¾ 3 æ‰€ç¤ºï¼š<img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S02X93.gif" alt="å¤‡ç”¨é“¾è¡¨å’Œæ•°æ®é“¾è¡¨"><br>å›¾ 3 å¤‡ç”¨é“¾è¡¨å’Œæ•°æ®é“¾è¡¨</p><p>å›¾ 3 ä¸­ï¼Œå¤‡ç”¨é“¾è¡¨ä¸Šè¿æ¥çš„ä¾æ¬¡æ˜¯ a[0]ã€a[2] å’Œ a[4]ï¼Œè€Œæ•°æ®é“¾è¡¨ä¸Šè¿æ¥çš„ä¾æ¬¡æ˜¯ a[1]ã€a[3] å’Œ a[5]ã€‚</p><h2 id="é™æ€é“¾è¡¨çš„å®ç°"><a href="#é™æ€é“¾è¡¨çš„å®ç°" class="headerlink" title="é™æ€é“¾è¡¨çš„å®ç°"></a>é™æ€é“¾è¡¨çš„å®ç°</h2><p>å‡è®¾ä½¿ç”¨é™æ€é“¾è¡¨ï¼ˆæ•°ç»„é•¿åº¦ä¸º 6ï¼‰å­˜å‚¨ <code>&#123;1,2,3&#125;</code>ï¼Œåˆ™éœ€ç»å†ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µã€‚</p><p>åœ¨æ•°æ®é“¾è¡¨æœªåˆå§‹åŒ–ä¹‹å‰ï¼Œæ•°ç»„ä¸­æ‰€æœ‰ä½ç½®éƒ½å¤„äºç©ºé—²çŠ¶æ€ï¼Œå› æ­¤éƒ½åº”è¢«é“¾æ¥åœ¨å¤‡ç”¨é“¾è¡¨ä¸Šï¼Œå¦‚å›¾ 4 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S13YN.gif" alt="æœªå­˜å‚¨æ•°æ®ä¹‹å‰é™æ€é“¾è¡¨çš„çŠ¶æ€"><br>å›¾ 4 æœªå­˜å‚¨æ•°æ®ä¹‹å‰é™æ€é“¾è¡¨çš„çŠ¶æ€</p><p>å½“å‘é™æ€é“¾è¡¨ä¸­æ·»åŠ æ•°æ®æ—¶ï¼Œéœ€æå‰ä»å¤‡ç”¨é“¾è¡¨ä¸­æ‘˜é™¤èŠ‚ç‚¹ï¼Œä»¥ä¾›æ–°æ•°æ®ä½¿ç”¨ã€‚</p><p>å¤‡ç”¨é“¾è¡¨æ‘˜é™¤èŠ‚ç‚¹æœ€ç®€å•çš„æ–¹æ³•æ˜¯æ‘˜é™¤ a[0] çš„ç›´æ¥åç»§èŠ‚ç‚¹ï¼›åŒæ ·ï¼Œå‘å¤‡ç”¨é“¾è¡¨ä¸­æ·»åŠ ç©ºé—²èŠ‚ç‚¹ä¹Ÿæ˜¯æ·»åŠ ä½œä¸º a[0] æ–°çš„ç›´æ¥åç»§èŠ‚ç‚¹ã€‚å› ä¸º a[0] æ˜¯å¤‡ç”¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒçš„ä½ç½®ï¼Œæ“ä½œå®ƒçš„ç›´æ¥åç»§èŠ‚ç‚¹ç›¸å¯¹å®¹æ˜“ï¼Œæ— éœ€éå†å¤‡ç”¨é“¾è¡¨ï¼Œè€—è´¹çš„<a href="http://data.biancheng.net/view/2.html">æ—¶é—´å¤æ‚åº¦</a>ä¸º <code>O(1)</code>ã€‚</p><p>å› æ­¤ï¼Œåœ¨å›¾ 4 çš„åŸºç¡€ä¸Šï¼Œå‘é™æ€é“¾è¡¨ä¸­æ·»åŠ å…ƒç´  1 çš„è¿‡ç¨‹å¦‚å›¾ 5 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S229302.gif" alt="é™æ€é“¾è¡¨ä¸­æ·»åŠ å…ƒç´  1"><br>å›¾ 5 é™æ€é“¾è¡¨ä¸­æ·»åŠ å…ƒç´  1</p><p>åœ¨å›¾ 5 çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ å…ƒç´  2 çš„è¿‡ç¨‹å¦‚å›¾ 6 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S305P9.gif" alt="é™æ€é“¾è¡¨ä¸­ç»§ç»­æ·»åŠ å…ƒç´  2"><br>å›¾ 6 é™æ€é“¾è¡¨ä¸­ç»§ç»­æ·»åŠ å…ƒç´  2</p><p>åœ¨å›¾ 6 çš„åŸºç¡€ä¸Šï¼Œç»§ç»­æ·»åŠ å…ƒç´  3 ï¼Œè¿‡ç¨‹å¦‚å›¾ 7 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S34aS.gif" alt="é™æ€é“¾è¡¨ä¸­ç»§ç»­æ·»åŠ å…ƒç´  3"><br>å›¾ 7 é™æ€é“¾è¡¨ä¸­ç»§ç»­æ·»åŠ å…ƒç´  3</p><p>ç”±æ­¤ï¼Œé™æ€é“¾è¡¨å°±åˆ›å»ºå®Œæˆäº†ã€‚</p><p>ä¸‹é¢ç»™å‡ºäº†åˆ›å»ºé™æ€é“¾è¡¨çš„ C è¯­è¨€å®ç°ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxSize 6</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> cur;</span><br><span class="line">&#125;component;</span><br><span class="line"><span class="comment">//å°†ç»“æ„ä½“æ•°ç»„ä¸­æ‰€æœ‰åˆ†é‡é“¾æ¥åˆ°å¤‡ç”¨é“¾è¡¨ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reserveArr</span><span class="params">(component *<span class="built_in">array</span>)</span></span>;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–é™æ€é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">initArr</span><span class="params">(component *<span class="built_in">array</span>)</span></span>;</span><br><span class="line"><span class="comment">//è¾“å‡ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayArr</span><span class="params">(component * <span class="built_in">array</span>, <span class="keyword">int</span> body)</span></span>;</span><br><span class="line"><span class="comment">//ä»å¤‡ç”¨é“¾è¡¨ä¸Šæ‘˜ä¸‹ç©ºé—²èŠ‚ç‚¹çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mallocArr</span><span class="params">(component * <span class="built_in">array</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    component <span class="built_in">array</span>[maxSize];</span><br><span class="line">    <span class="keyword">int</span> body = initArr(<span class="built_in">array</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;é™æ€é“¾è¡¨ä¸ºï¼š\n&quot;</span>);</span><br><span class="line">    displayArr(<span class="built_in">array</span>, body);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¤‡ç”¨é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reserveArr</span><span class="params">(component *<span class="built_in">array</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; maxSize; i++) &#123;</span><br><span class="line">        <span class="built_in">array</span>[i].cur = i + <span class="number">1</span>;<span class="comment">//å°†æ¯ä¸ªæ•°ç»„åˆ†é‡é“¾æ¥åˆ°ä¸€èµ·</span></span><br><span class="line">        <span class="built_in">array</span>[i].data = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array</span>[maxSize - <span class="number">1</span>].cur = <span class="number">0</span>;<span class="comment">//é“¾è¡¨æœ€åä¸€ä¸ªç»“ç‚¹çš„æ¸¸æ ‡å€¼ä¸º0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æå–åˆ†é…ç©ºé—´</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mallocArr</span><span class="params">(component * <span class="built_in">array</span>)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è‹¥å¤‡ç”¨é“¾è¡¨éç©ºï¼Œåˆ™è¿”å›åˆ†é…çš„ç»“ç‚¹ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› 0ï¼ˆå½“åˆ†é…æœ€åä¸€ä¸ªç»“ç‚¹æ—¶ï¼Œè¯¥ç»“ç‚¹çš„æ¸¸æ ‡å€¼ä¸º 0ï¼‰</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="built_in">array</span>[<span class="number">0</span>].cur;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[<span class="number">0</span>].cur) &#123;</span><br><span class="line">        <span class="built_in">array</span>[<span class="number">0</span>].cur = <span class="built_in">array</span>[i].cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–é™æ€é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">initArr</span><span class="params">(component *<span class="built_in">array</span>)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tempBody = <span class="number">0</span>, body = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    reserveArr(<span class="built_in">array</span>);</span><br><span class="line">    body = mallocArr(<span class="built_in">array</span>);</span><br><span class="line">    <span class="comment">//å»ºç«‹é¦–å…ƒç»“ç‚¹</span></span><br><span class="line">    <span class="built_in">array</span>[body].data = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">array</span>[body].cur = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//å£°æ˜ä¸€ä¸ªå˜é‡ï¼ŒæŠŠå®ƒå½“æŒ‡é’ˆä½¿ï¼ŒæŒ‡å‘é“¾è¡¨çš„æœ€åçš„ä¸€ä¸ªç»“ç‚¹ï¼Œå½“å‰å’Œé¦–å…ƒç»“ç‚¹é‡åˆ</span></span><br><span class="line">    tempBody = body;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> j = mallocArr(<span class="built_in">array</span>); <span class="comment">//ä»å¤‡ç”¨é“¾è¡¨ä¸­æ‹¿å‡ºç©ºé—²çš„åˆ†é‡</span></span><br><span class="line">        <span class="built_in">array</span>[j].data = i;      <span class="comment">//åˆå§‹åŒ–æ–°å¾—åˆ°çš„ç©ºé—´ç»“ç‚¹</span></span><br><span class="line">        <span class="built_in">array</span>[tempBody].cur = j; <span class="comment">//å°†æ–°å¾—åˆ°çš„ç»“ç‚¹é“¾æ¥åˆ°æ•°æ®é“¾è¡¨çš„å°¾éƒ¨</span></span><br><span class="line">        tempBody = j;             <span class="comment">//å°†æŒ‡å‘é“¾è¡¨æœ€åä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåç§»</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array</span>[tempBody].cur = <span class="number">0</span>;<span class="comment">//æ–°çš„é“¾è¡¨æœ€åä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆè®¾ç½®ä¸º0</span></span><br><span class="line">    <span class="keyword">return</span> body;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayArr</span><span class="params">(component * <span class="built_in">array</span>, <span class="keyword">int</span> body)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tempBody = body;<span class="comment">//tempBodyå‡†å¤‡åšéå†ä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">array</span>[tempBody].cur) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, <span class="built_in">array</span>[tempBody].data, <span class="built_in">array</span>[tempBody].cur);</span><br><span class="line">        tempBody = <span class="built_in">array</span>[tempBody].cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, <span class="built_in">array</span>[tempBody].data, <span class="built_in">array</span>[tempBody].cur);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€é“¾è¡¨æ·»åŠ å…ƒç´ "><a href="#é™æ€é“¾è¡¨æ·»åŠ å…ƒç´ " class="headerlink" title="é™æ€é“¾è¡¨æ·»åŠ å…ƒç´ "></a>é™æ€é“¾è¡¨æ·»åŠ å…ƒç´ </h2><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S34aS.gif" alt="å›¾ 1 å»ºç«‹å¥½çš„é™æ€é“¾è¡¨"></p><p>å›¾ 1 å»ºç«‹å¥½çš„é™æ€é“¾è¡¨</p><p>ä¾‹å¦‚ï¼Œåœ¨å›¾ 1 çš„åŸºç¡€ï¼Œå°†å…ƒç´  4 æ·»åŠ åˆ°é™æ€é“¾è¡¨ä¸­çš„ç¬¬ 3 ä¸ªä½ç½®ä¸Šï¼Œå®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>ä»å¤‡ç”¨é“¾è¡¨ä¸­æ‘˜é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨äºå­˜å‚¨å…ƒç´  4ï¼›</li><li>æ‰¾åˆ°è¡¨ä¸­ç¬¬ 2 ä¸ªèŠ‚ç‚¹ï¼ˆæ·»åŠ ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™é‡Œæ˜¯æ•°æ®å…ƒç´  2ï¼‰ï¼Œå°†å…ƒç´  2 çš„æ¸¸æ ‡èµ‹å€¼ç»™æ–°å…ƒç´  4ï¼›</li><li>å°†å…ƒç´  4 æ‰€åœ¨<a href="http://data.biancheng.net/view/181.html">æ•°ç»„</a>ä¸­çš„ä¸‹æ ‡èµ‹å€¼ç»™å…ƒç´  2 çš„æ¸¸æ ‡ï¼›</li></ol><p>ç»è¿‡ä»¥ä¸Šå‡ æ­¥æ“ä½œï¼Œæ•°æ®å…ƒç´  4 å°±æˆåŠŸåœ°æ·»åŠ åˆ°äº†é™æ€é“¾è¡¨ä¸­ï¼Œæ­¤æ—¶æ–°çš„é™æ€é“¾è¡¨å¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q126205601512.gif" alt="img"><br>å›¾ 2 æ·»åŠ å…ƒç´  4 çš„é™æ€é“¾è¡¨</p><p>ç”±æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡å°è¯•ç¼–å†™ C è¯­è¨€ç¨‹åºå®ç°ä»¥ä¸Šæ“ä½œã€‚è¯»è€…å¯å‚è€ƒå¦‚ä¸‹ç¨‹åºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‘é“¾è¡¨ä¸­æ’å…¥æ•°æ®ï¼Œbodyè¡¨ç¤ºé“¾è¡¨çš„å¤´ç»“ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œaddè¡¨ç¤ºæ’å…¥å…ƒç´ çš„ä½ç½®ï¼Œnumè¡¨ç¤ºè¦æ’å…¥çš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertArr</span><span class="params">(component * <span class="built_in">array</span>, <span class="keyword">int</span> body, <span class="keyword">int</span> add, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tempBody = body;<span class="comment">//tempBodyåšéå†ç»“æ„ä½“æ•°ç»„ä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, insert = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°è¦æ’å…¥ä½ç½®çš„ä¸Šä¸€ä¸ªç»“ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; add; i++) &#123;</span><br><span class="line">        tempBody = <span class="built_in">array</span>[tempBody].cur;</span><br><span class="line">    &#125;</span><br><span class="line">    insert = mallocArr(<span class="built_in">array</span>);<span class="comment">//ç”³è¯·ç©ºé—´ï¼Œå‡†å¤‡æ’å…¥</span></span><br><span class="line">    <span class="built_in">array</span>[insert].data = num;</span><br><span class="line">    <span class="built_in">array</span>[insert].cur = <span class="built_in">array</span>[tempBody].cur;<span class="comment">//æ–°æ’å…¥ç»“ç‚¹çš„æ¸¸æ ‡ç­‰äºå…¶ç›´æ¥å‰é©±ç»“ç‚¹çš„æ¸¸æ ‡</span></span><br><span class="line">    <span class="built_in">array</span>[tempBody].cur = insert;<span class="comment">//ç›´æ¥å‰é©±ç»“ç‚¹çš„æ¸¸æ ‡ç­‰äºæ–°æ’å…¥ç»“ç‚¹æ‰€åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€é“¾è¡¨åˆ é™¤å…ƒç´ "><a href="#é™æ€é“¾è¡¨åˆ é™¤å…ƒç´ " class="headerlink" title="é™æ€é“¾è¡¨åˆ é™¤å…ƒç´ "></a>é™æ€é“¾è¡¨åˆ é™¤å…ƒç´ </h2><p>é™æ€é“¾è¡¨ä¸­åˆ é™¤æŒ‡å®šå…ƒç´ ï¼Œåªéœ€å®ç°ä»¥ä¸‹ 2 æ­¥æ“ä½œï¼š</p><ol><li>å°†å­˜æœ‰ç›®æ ‡å…ƒç´ çš„èŠ‚ç‚¹ä»æ•°æ®é“¾è¡¨ä¸­æ‘˜é™¤ï¼›</li><li>å°†æ‘˜é™¤èŠ‚ç‚¹æ·»åŠ åˆ°å¤‡ç”¨é“¾è¡¨ï¼Œä»¥ä¾¿ä¸‹æ¬¡å†ç”¨ï¼›</li></ol><p>æ¯”è¾ƒç‰¹æ®Šçš„æ˜¯ï¼Œå¯¹äºæ— å¤´ç»“ç‚¹çš„æ•°æ®é“¾è¡¨æ¥è¯´ï¼Œå¦‚æœéœ€è¦åˆ é™¤å¤´ç»“ç‚¹ï¼Œåˆ™åŠ¿å¿…ä¼šå¯¼è‡´æ•°æ®é“¾è¡¨çš„è¡¨å¤´ä¸å†ä½äºæ•°ç»„ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ï¼Œæ¢å¥è¯è¯´ï¼Œåˆ é™¤å¤´ç»“ç‚¹ä¹‹åï¼ŒåŸæ•°æ®é“¾è¡¨ä¸­ç¬¬äºŒä¸ªç»“ç‚¹å°†ä½œä¸ºæ•´ä¸ªé“¾è¡¨æ–°çš„é¦–å…ƒç»“ç‚¹ã€‚</p><p>è‹¥é—®é¢˜ä¸­æ¶‰åŠå¤§é‡åˆ é™¤å…ƒç´ çš„æ“ä½œï¼Œå»ºè®®è¯»è€…åœ¨å»ºç«‹é™æ€é“¾è¡¨ä¹‹åˆåˆ›å»ºä¸€ä¸ªå¸¦æœ‰å¤´èŠ‚ç‚¹çš„é™æ€é“¾è¡¨ï¼Œæ–¹ä¾¿å®ç°åˆ é™¤é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ çš„æ“ä½œã€‚</p><p>å¦‚ä¸‹æ˜¯é’ˆå¯¹æ— å¤´ç»“ç‚¹çš„æ•°æ®é“¾è¡¨ï¼Œå®ç°åˆ é™¤æ“ä½œçš„ C è¯­è¨€ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤ç»“ç‚¹å‡½æ•°ï¼Œnumè¡¨ç¤ºè¢«åˆ é™¤ç»“ç‚¹ä¸­æ•°æ®åŸŸå­˜æ”¾çš„æ•°æ®ï¼Œå‡½æ•°è¿”å›æ–°æ•°æ®é“¾è¡¨çš„è¡¨å¤´ä½ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deletArr</span><span class="params">(component * <span class="built_in">array</span>, <span class="keyword">int</span> body, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tempBody = body;</span><br><span class="line">    <span class="keyword">int</span> del = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> newbody = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°è¢«åˆ é™¤ç»“ç‚¹çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">array</span>[tempBody].data != num) &#123;</span><br><span class="line">        tempBody = <span class="built_in">array</span>[tempBody].cur;</span><br><span class="line">        <span class="comment">//å½“tempBodyä¸º0æ—¶ï¼Œè¡¨ç¤ºé“¾è¡¨éå†ç»“æŸï¼Œè¯´æ˜é“¾è¡¨ä¸­æ²¡æœ‰å­˜å‚¨è¯¥æ•°æ®çš„ç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (tempBody == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;é“¾è¡¨ä¸­æ²¡æœ‰æ­¤æ•°æ®&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿è¡Œåˆ°æ­¤ï¼Œè¯æ˜æœ‰è¯¥ç»“ç‚¹</span></span><br><span class="line">    del = tempBody;</span><br><span class="line">    tempBody = body;</span><br><span class="line">    <span class="comment">//åˆ é™¤é¦–å…ƒç»“ç‚¹ï¼Œéœ€è¦ç‰¹æ®Šè€ƒè™‘</span></span><br><span class="line">    <span class="keyword">if</span> (del == body) &#123;</span><br><span class="line">        newbody = <span class="built_in">array</span>[del].cur;</span><br><span class="line">        freeArr(<span class="built_in">array</span>, del);</span><br><span class="line">        <span class="keyword">return</span> newbody;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°è¯¥ç»“ç‚¹çš„ä¸Šä¸€ä¸ªç»“ç‚¹ï¼Œåšåˆ é™¤æ“ä½œ</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">array</span>[tempBody].cur != del) &#123;</span><br><span class="line">            tempBody = <span class="built_in">array</span>[tempBody].cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å°†è¢«åˆ é™¤ç»“ç‚¹çš„æ¸¸æ ‡ç›´æ¥ç»™è¢«åˆ é™¤ç»“ç‚¹çš„ä¸Šä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">        <span class="built_in">array</span>[tempBody].cur = <span class="built_in">array</span>[del].cur;</span><br><span class="line">        <span class="comment">//å›æ”¶è¢«æ‘˜é™¤èŠ‚ç‚¹çš„ç©ºé—´</span></span><br><span class="line">        freeArr(<span class="built_in">array</span>, del);</span><br><span class="line">        <span class="keyword">return</span> body;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€é“¾è¡¨æŸ¥æ‰¾å…ƒç´ "><a href="#é™æ€é“¾è¡¨æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="é™æ€é“¾è¡¨æŸ¥æ‰¾å…ƒç´ "></a>é™æ€é“¾è¡¨æŸ¥æ‰¾å…ƒç´ </h2><p>é™æ€é“¾è¡¨æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œç”±äºæˆ‘ä»¬åªçŸ¥é“é™æ€é“¾è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ æ‰€åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œå› æ­¤åªèƒ½é€šè¿‡é€ä¸ªéå†é™æ€é“¾è¡¨çš„æ–¹å¼ï¼ŒæŸ¥æ‰¾å­˜æœ‰æŒ‡å®šæ•°æ®å…ƒç´ çš„èŠ‚ç‚¹ã€‚</p><p>é™æ€é“¾è¡¨æŸ¥æ‰¾æŒ‡å®šæ•°æ®å…ƒç´ çš„ C è¯­è¨€å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ä»¥bodyä½œä¸ºå¤´ç»“ç‚¹çš„é“¾è¡¨ä¸­æŸ¥æ‰¾æ•°æ®åŸŸä¸ºelemçš„ç»“ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">selectNum</span><span class="params">(component * <span class="built_in">array</span>, <span class="keyword">int</span> body, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å½“æ¸¸æ ‡å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºé“¾è¡¨ç»“æŸ</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">array</span>[body].cur != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">array</span>[body].data == num) &#123;</span><br><span class="line">            <span class="keyword">return</span> body;</span><br><span class="line">        &#125;</span><br><span class="line">        body = <span class="built_in">array</span>[body].cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æœ€åä¸€ä¸ªç»“ç‚¹æ˜¯å¦ç¬¦åˆè¦æ±‚</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[body].data == num) &#123;</span><br><span class="line">        <span class="keyword">return</span> body;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//è¿”å›-1ï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥å…ƒç´ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€é“¾è¡¨ä¸­æ›´æ”¹æ•°æ®"><a href="#é™æ€é“¾è¡¨ä¸­æ›´æ”¹æ•°æ®" class="headerlink" title="é™æ€é“¾è¡¨ä¸­æ›´æ”¹æ•°æ®"></a>é™æ€é“¾è¡¨ä¸­æ›´æ”¹æ•°æ®</h2><p>æ›´æ”¹é™æ€é“¾è¡¨ä¸­çš„æ•°æ®ï¼Œåªéœ€æ‰¾åˆ°ç›®æ ‡å…ƒç´ æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œç›´æ¥æ›´æ”¹èŠ‚ç‚¹ä¸­çš„æ•°æ®åŸŸå³å¯ã€‚</p><p>å®ç°æ­¤æ“ä½œçš„ C è¯­è¨€ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ä»¥bodyä½œä¸ºå¤´ç»“ç‚¹çš„é“¾è¡¨ä¸­å°†æ•°æ®åŸŸä¸ºoldElemçš„ç»“ç‚¹ï¼Œæ•°æ®åŸŸæ”¹ä¸ºnewElem</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">amendElem</span><span class="params">(component * <span class="built_in">array</span>, <span class="keyword">int</span> body, <span class="keyword">int</span> oldElem, <span class="keyword">int</span> newElem)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> add = selectNum(<span class="built_in">array</span>, body, oldElem);</span><br><span class="line">    <span class="keyword">if</span> (add == <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;æ— æ›´æ”¹å…ƒç´ &quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">array</span>[add].data = newElem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€é“¾è¡¨å’ŒåŠ¨æ€é“¾è¡¨æ¯”è¾ƒ"><a href="#é™æ€é“¾è¡¨å’ŒåŠ¨æ€é“¾è¡¨æ¯”è¾ƒ" class="headerlink" title="é™æ€é“¾è¡¨å’ŒåŠ¨æ€é“¾è¡¨æ¯”è¾ƒ"></a>é™æ€é“¾è¡¨å’ŒåŠ¨æ€é“¾è¡¨æ¯”è¾ƒ</h2><p><img src="http://data.biancheng.net/uploads/allimg/181123/2-1Q12321243O36.gif" alt="é“¾è¡¨å­˜å‚¨ç»“æ„"><br>å›¾ 1 é“¾è¡¨å­˜å‚¨ç»“æ„</p><p>ç±»ä¼¼å›¾ 1 è¿™æ ·çš„é“¾è¡¨ï¼Œå®ƒæ›´å–œæ¬¢äººä»¬ç§°å®ƒä¸º â€œåŠ¨æ€é“¾è¡¨â€ã€‚</p><p>éšååˆæ¥è§¦äº†é™æ€é“¾è¡¨ã€‚åŒæ ·æ˜¯å­˜å‚¨å›¾ 1 ä¸­çš„æ•°æ® <code>&#123;1,2,3&#125;</code>ï¼Œä½¿ç”¨é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®çš„çŠ¶æ€å¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181126/2-1Q1260S34aS.gif" alt="é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®ç¤ºæ„å›¾"><br>å›¾ 2 é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®ç¤ºæ„å›¾</p><p>ä¸ºäº†è®©è¯»è€…åˆ†æ¸…åŠ¨æ€é“¾è¡¨å’Œé™æ€é“¾è¡¨ï¼Œæœ¬èŠ‚æ¥åˆ†æä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»ã€‚</p><p>é™æ€é“¾è¡¨å’ŒåŠ¨æ€é“¾è¡¨çš„å…±åŒç‚¹æ˜¯ï¼Œæ•°æ®ä¹‹é—´â€ä¸€å¯¹ä¸€â€çš„é€»è¾‘å…³ç³»éƒ½æ˜¯ä¾é æŒ‡é’ˆï¼ˆé™æ€é“¾è¡¨ä¸­ç§°â€æ¸¸æ ‡â€ï¼‰æ¥ç»´æŒï¼Œä»…æ­¤è€Œå·²ã€‚</p><h3 id="é™æ€é“¾è¡¨"><a href="#é™æ€é“¾è¡¨" class="headerlink" title="é™æ€é“¾è¡¨"></a>é™æ€é“¾è¡¨</h3><p>ä½¿ç”¨é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®ï¼Œéœ€è¦é¢„å…ˆç”³è¯·è¶³å¤Ÿå¤§çš„ä¸€æ•´å—å†…å­˜ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé™æ€é“¾è¡¨å­˜å‚¨æ•°æ®å…ƒç´ çš„ä¸ªæ•°ä»å…¶åˆ›å»ºçš„é‚£ä¸€åˆ»å°±å·²ç»ç¡®å®šï¼ŒåæœŸæ— æ³•æ›´æ”¹ã€‚</p><p>æ¯”å¦‚ï¼Œå¦‚æœåˆ›å»ºé™æ€é“¾è¡¨æ—¶åªç”³è¯·å­˜å‚¨ 10 ä¸ªæ•°æ®å…ƒç´ çš„ç©ºé—´ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨é™æ€é“¾è¡¨æ—¶ï¼Œæ•°æ®çš„å­˜å‚¨ä¸ªæ•°å°±ä¸èƒ½è¶…è¿‡ 10 ä¸ªï¼Œå¦åˆ™ç¨‹åºå°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œé™æ€é“¾è¡¨æ˜¯åœ¨å›ºå®šå¤§å°çš„å­˜å‚¨ç©ºé—´å†…éšæœºå­˜å‚¨å„ä¸ªæ•°æ®å…ƒç´ ï¼Œè¿™å°±é€ æˆäº†é™æ€é“¾è¡¨ä¸­éœ€è¦ä½¿ç”¨å¦ä¸€æ¡é“¾è¡¨ï¼ˆé€šå¸¸ç§°ä¸ºâ€å¤‡ç”¨é“¾è¡¨â€ï¼‰æ¥è®°å½•ç©ºé—´å­˜å‚¨ç©ºé—´çš„ä½ç½®ï¼Œä»¥ä¾¿åæœŸåˆ†é…ç»™æ–°æ·»åŠ å…ƒç´ ä½¿ç”¨ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºã€‚</p><p>è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ é€‰æ‹©ä½¿ç”¨é™æ€é“¾è¡¨å­˜å‚¨æ•°æ®ï¼Œä½ éœ€è¦é€šè¿‡æ“æ§ä¸¤æ¡é“¾è¡¨ï¼Œä¸€æ¡æ˜¯å­˜å‚¨æ•°æ®ï¼Œå¦ä¸€æ¡æ˜¯è®°å½•ç©ºé—²ç©ºé—´çš„ä½ç½®ã€‚</p><h3 id="åŠ¨æ€é“¾è¡¨"><a href="#åŠ¨æ€é“¾è¡¨" class="headerlink" title="åŠ¨æ€é“¾è¡¨"></a>åŠ¨æ€é“¾è¡¨</h3><p>ä½¿ç”¨åŠ¨æ€é“¾è¡¨å­˜å‚¨æ•°æ®ï¼Œä¸éœ€è¦é¢„å…ˆç”³è¯·å†…å­˜ç©ºé—´ï¼Œè€Œæ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰å‘å†…å­˜ç”³è¯·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŠ¨æ€é“¾è¡¨å­˜å‚¨æ•°æ®å…ƒç´ çš„ä¸ªæ•°æ˜¯ä¸é™çš„ï¼Œæƒ³å­˜å¤šå°‘å°±å­˜å¤šå°‘ã€‚</p><p>åŒæ—¶ï¼Œä½¿ç”¨åŠ¨æ€é“¾è¡¨çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œä½ ä¹Ÿåªéœ€æ“æ§ä¸€æ¡å­˜å‚¨æ•°æ®çš„é“¾è¡¨ã€‚å½“è¡¨ä¸­æ·»åŠ æˆ–åˆ é™¤æ•°æ®å…ƒç´ æ—¶ï¼Œä½ åªéœ€è¦é€šè¿‡ malloc æˆ– free å‡½æ•°æ¥ç”³è¯·æˆ–é‡Šæ”¾ç©ºé—´å³å¯ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒç®€å•ã€‚</p><p><a href="http://data.biancheng.net/view/163.html">è½¬è½½è‡ªï¼šhttp://data.biancheng.net/view/163.html</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é™æ€é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„â€”é¡ºåºè¡¨å’Œé“¾è¡¨åŒºåˆ«</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%A1%BA%E5%BA%8F%E8%A1%A8%E5%92%8C%E9%93%BE%E8%A1%A8%E5%8C%BA%E5%88%AB/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%A1%BA%E5%BA%8F%E8%A1%A8%E5%92%8C%E9%93%BE%E8%A1%A8%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜ç¼ºç‚¹ï¼ˆåŒºåˆ«ã€ç‰¹ç‚¹ï¼‰è¯¦è§£"><a href="#é¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜ç¼ºç‚¹ï¼ˆåŒºåˆ«ã€ç‰¹ç‚¹ï¼‰è¯¦è§£" class="headerlink" title="é¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜ç¼ºç‚¹ï¼ˆåŒºåˆ«ã€ç‰¹ç‚¹ï¼‰è¯¦è§£"></a>é¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜ç¼ºç‚¹ï¼ˆåŒºåˆ«ã€ç‰¹ç‚¹ï¼‰è¯¦è§£</h2><p>é¡ºåºè¡¨å’Œé“¾è¡¨ç”±äºå­˜å‚¨ç»“æ„ä¸Šçš„å·®å¼‚ï¼Œå¯¼è‡´å®ƒä»¬å…·æœ‰ä¸åŒçš„ç‰¹ç‚¹ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚æœ¬èŠ‚å°±æ¥åˆ†æå®ƒä»¬çš„ç‰¹ç‚¹ï¼Œè®©è¯»è€…æ˜ç™½ â€œåœ¨ä»€ä¹ˆæ ·çš„åœºæ™¯ä¸­ä½¿ç”¨å“ªç§å­˜å‚¨ç»“æ„â€ æ›´èƒ½æœ‰æ•ˆè§£å†³é—®é¢˜ã€‚</p><p>é€šè¿‡ç³»ç»Ÿåœ°å­¦ä¹ é¡ºåºè¡¨å’Œé“¾è¡¨æˆ‘ä»¬çŸ¥é“ï¼Œè™½ç„¶å®ƒä»¬åŒå±äºçº¿æ€§è¡¨ï¼Œä½†æ•°æ®çš„å­˜å‚¨ç»“æ„æœ‰æœ¬è´¨çš„ä¸åŒï¼š</p><ul><li>  é¡ºåºè¡¨å­˜å‚¨æ•°æ®ï¼Œéœ€é¢„å…ˆç”³è¯·ä¸€æ•´å—è¶³å¤Ÿå¤§çš„å­˜å‚¨ç©ºé—´ï¼Œç„¶åå°†æ•°æ®æŒ‰ç…§æ¬¡åºé€ä¸€å­˜å‚¨ï¼Œæ•°æ®ä¹‹é—´ç´§å¯†è´´åˆï¼Œä¸ç•™ä¸€ä¸ç©ºéš™ï¼Œå¦‚å›¾ 1a) æ‰€ç¤ºï¼›</li><li>  é“¾è¡¨çš„å­˜å‚¨æ–¹å¼ä¸é¡ºåºè¡¨æˆªç„¶ç›¸åï¼Œä»€ä¹ˆæ—¶å€™å­˜å‚¨æ•°æ®ï¼Œä»€ä¹ˆæ—¶å€™æ‰ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œæ•°æ®ä¹‹é—´çš„é€»è¾‘å…³ç³»ä¾é æ¯ä¸ªæ•°æ®å…ƒç´ æºå¸¦çš„æŒ‡é’ˆç»´æŒï¼Œå¦‚å›¾ 1b) æ‰€ç¤ºï¼›</li></ul><p><img src="http://data.biancheng.net/uploads/allimg/181125/2-1Q12512244c10.gif" alt="é¡ºåºè¡¨å’Œé“¾è¡¨çš„å­˜å‚¨ç»“æ„å¯¹æ¯”"></p><p>åŸºäºä¸åŒçš„å­˜å‚¨ç»“æ„ï¼Œé¡ºåºè¡¨å’Œé“¾è¡¨æœ‰ä»¥ä¸‹å‡ ç§ä¸åŒã€‚</p><h3 id="å¼€è¾Ÿç©ºé—´çš„æ–¹å¼"><a href="#å¼€è¾Ÿç©ºé—´çš„æ–¹å¼" class="headerlink" title="å¼€è¾Ÿç©ºé—´çš„æ–¹å¼"></a>å¼€è¾Ÿç©ºé—´çš„æ–¹å¼</h3><p>é¡ºåºè¡¨å­˜å‚¨æ•°æ®å®è¡Œçš„æ˜¯ â€œä¸€æ¬¡å¼€è¾Ÿï¼Œæ°¸ä¹…ä½¿ç”¨â€ï¼Œå³å­˜å‚¨æ•°æ®ä¹‹å‰å…ˆå¼€è¾Ÿå¥½è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´ï¼Œç©ºé—´ä¸€æ—¦å¼€è¾ŸåæœŸæ— æ³•æ”¹å˜å¤§å°ï¼ˆä½¿ç”¨åŠ¨æ€æ•°ç»„çš„æƒ…å†µé™¤å¤–ï¼‰ã€‚</p><p>è€Œé“¾è¡¨åˆ™ä¸åŒï¼Œé“¾è¡¨å­˜å‚¨æ•°æ®æ—¶ä¸€æ¬¡åªå¼€è¾Ÿå­˜å‚¨ä¸€ä¸ªèŠ‚ç‚¹çš„ç‰©ç†ç©ºé—´ï¼Œå¦‚æœåæœŸéœ€è¦è¿˜å¯ä»¥å†ç”³è¯·ã€‚</p><p>å› æ­¤ï¼Œè‹¥åªä»å¼€è¾Ÿç©ºé—´æ–¹å¼çš„è§’åº¦å»è€ƒè™‘ï¼Œå½“å­˜å‚¨æ•°æ®çš„ä¸ªæ•°æ— æ³•æå‰ç¡®å®šï¼Œåˆæˆ–æ˜¯ç‰©ç†ç©ºé—´ä½¿ç”¨ç´§å¼ ä»¥è‡´æ— æ³•ä¸€æ¬¡æ€§ç”³è¯·åˆ°è¶³å¤Ÿå¤§å°çš„ç©ºé—´æ—¶ï¼Œä½¿ç”¨é“¾è¡¨æ›´æœ‰åŠ©äºé—®é¢˜çš„è§£å†³ã€‚</p><h3 id="ç©ºé—´åˆ©ç”¨ç‡"><a href="#ç©ºé—´åˆ©ç”¨ç‡" class="headerlink" title="ç©ºé—´åˆ©ç”¨ç‡"></a>ç©ºé—´åˆ©ç”¨ç‡</h3><p>ä»ç©ºé—´åˆ©ç”¨ç‡çš„è§’åº¦ä¸Šçœ‹ï¼Œé¡ºåºè¡¨çš„ç©ºé—´åˆ©ç”¨ç‡æ˜¾ç„¶è¦æ¯”é“¾è¡¨é«˜ã€‚</p><p>è¿™æ˜¯å› ä¸ºï¼Œé“¾è¡¨åœ¨å­˜å‚¨æ•°æ®æ—¶ï¼Œæ¯æ¬¡åªç”³è¯·ä¸€ä¸ªèŠ‚ç‚¹çš„ç©ºé—´ï¼Œä¸”ç©ºé—´çš„ä½ç½®æ˜¯éšæœºçš„ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181125/2-1Q12512255D10.gif" alt="é“¾è¡¨ç»“æ„æ˜“äº§ç”Ÿç¢ç‰‡"><br>å›¾ 2 é“¾è¡¨ç»“æ„æ˜“äº§ç”Ÿç¢ç‰‡</p><p>è¿™ç§ç”³è¯·å­˜å‚¨ç©ºé—´çš„æ–¹å¼ä¼šäº§ç”Ÿå¾ˆå¤šç©ºé—´ç¢ç‰‡ï¼Œä¸€å®šç¨‹åºä¸Šé€ æˆäº†ç©ºé—´æµªè´¹ã€‚ä¸ä»…å¦‚æ­¤ï¼Œç”±äºé“¾è¡¨ä¸­æ¯ä¸ªæ•°æ®å…ƒç´ éƒ½å¿…é¡»æºå¸¦è‡³å°‘ä¸€ä¸ªæŒ‡é’ˆï¼Œå› æ­¤ï¼Œé“¾è¡¨å¯¹æ‰€ç”³è¯·ç©ºé—´çš„åˆ©ç”¨ç‡ä¹Ÿæ²¡æœ‰é¡ºåºè¡¨é«˜ã€‚</p><blockquote><p>ç©ºé—´ç¢ç‰‡ï¼ŒæŒ‡çš„æ˜¯æŸäº›å®¹é‡å¾ˆå°ï¼ˆ1KB ç”šè‡³æ›´å°ï¼‰ä»¥è‡´æ— æ³•å¾—åˆ°æœ‰æ•ˆåˆ©ç”¨çš„ç‰©ç†ç©ºé—´ã€‚</p></blockquote><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>è§£å†³ä¸åŒç±»å‹çš„é—®é¢˜ï¼Œé¡ºåºè¡¨å’Œé“¾è¡¨å¯¹åº”çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸åŒã€‚</p><p>æ ¹æ®é¡ºåºè¡¨å’Œé“¾è¡¨åœ¨å­˜å‚¨ç»“æ„ä¸Šçš„å·®å¼‚ï¼Œé—®é¢˜ç±»å‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ 2 ç±»ï¼š</p><ol><li>é—®é¢˜ä¸­ä¸»è¦æ¶‰åŠè®¿é—®å…ƒç´ çš„æ“ä½œï¼Œå…ƒç´ çš„æ’å…¥ã€åˆ é™¤å’Œç§»åŠ¨æ“ä½œæå°‘ï¼›</li><li>é—®é¢˜ä¸­ä¸»è¦æ¶‰åŠå…ƒç´ çš„æ’å…¥ã€åˆ é™¤å’Œç§»åŠ¨ï¼Œè®¿é—®å…ƒç´ çš„éœ€æ±‚å¾ˆå°‘ï¼›</li></ol><p>ç¬¬ 1 ç±»é—®é¢˜é€‚åˆä½¿ç”¨é¡ºåºè¡¨ã€‚è¿™æ˜¯å› ä¸ºï¼Œé¡ºåºè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ å¯ä»¥ä½¿ç”¨æ•°ç»„ä¸‹æ ‡ç›´æ¥è®¿é—®ï¼Œæ— éœ€éå†æ•´ä¸ªè¡¨ï¼Œå› æ­¤ä½¿ç”¨é¡ºåºè¡¨è®¿é—®å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(1)</code>ï¼›è€Œåœ¨é“¾è¡¨ä¸­è®¿é—®æ•°æ®å…ƒç´ ï¼Œéœ€è¦ä»è¡¨å¤´ä¾æ¬¡éå†ï¼Œç›´åˆ°æ‰¾åˆ°æŒ‡å®šèŠ‚ç‚¹ï¼ŒèŠ±è´¹çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code>;</p><p>ç¬¬ 2 ç±»é—®é¢˜åˆ™é€‚åˆä½¿ç”¨é“¾è¡¨ã€‚é“¾è¡¨ä¸­æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»é çš„æ˜¯èŠ‚ç‚¹ä¹‹é—´çš„æŒ‡é’ˆï¼Œå½“éœ€è¦åœ¨é“¾è¡¨ä¸­æŸå¤„æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹æ—¶ï¼Œåªéœ€æ”¹å˜ç›¸åº”èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å³å¯ï¼Œæ— éœ€å¤§é‡ç§»åŠ¨å…ƒç´ ï¼Œå› æ­¤é“¾è¡¨ä¸­æ’å…¥ã€åˆ é™¤æˆ–ç§»åŠ¨æ•°æ®æ‰€è€—è´¹çš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(1)</code>ï¼›è€Œé¡ºåºè¡¨ä¸­ï¼Œæ’å…¥ã€åˆ é™¤å’Œç§»åŠ¨æ•°æ®å¯èƒ½ä¼šç‰µæ¶‰åˆ°å¤§é‡å…ƒç´ çš„æ•´ä½“ç§»åŠ¨ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦è‡³å°‘ä¸º <code>O(n)</code>;</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œä¸åŒç±»å‹çš„åœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„å­˜å‚¨ç»“æ„ä¼šä½¿è§£å†³é—®é¢˜æ•ˆç‡æˆå€æ•°åœ°æé«˜ã€‚</p><p><a href="http://data.biancheng.net/view/162.html">è½¬è½½è‡ªï¼šhttp://data.biancheng.net/view/162.html</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é“¾è¡¨ </tag>
            
            <tag> é¡ºåºè¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„â€”é“¾è¡¨</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%93%BE%E8%A1%A8/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>é“¾è¡¨ï¼Œåˆ«åé“¾å¼å­˜å‚¨ç»“æ„æˆ–å•é“¾è¡¨ï¼Œç”¨äºå­˜å‚¨é€»è¾‘å…³ç³»ä¸º â€œä¸€å¯¹ä¸€â€ çš„æ•°æ®ã€‚ä¸é¡ºåºè¡¨ä¸åŒï¼Œé“¾è¡¨ä¸é™åˆ¶æ•°æ®çš„ç‰©ç†å­˜å‚¨çŠ¶æ€ï¼Œæ¢å¥è¯è¯´ï¼Œä½¿ç”¨é“¾è¡¨å­˜å‚¨çš„æ•°æ®å…ƒç´ ï¼Œå…¶ç‰©ç†å­˜å‚¨ä½ç½®æ˜¯éšæœºçš„ã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨é“¾è¡¨å­˜å‚¨ <code>&#123;1,2,3&#125;</code>ï¼Œæ•°æ®çš„ç‰©ç†å­˜å‚¨çŠ¶æ€å¦‚å›¾ 1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181123/2-1Q12321231CA.gif" alt="é“¾è¡¨éšæœºå­˜å‚¨æ•°æ®"><br>å›¾ 1 é“¾è¡¨éšæœºå­˜å‚¨æ•°æ®</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œå›¾ 1 æ ¹æœ¬æ— æ³•ä½“ç°å‡ºå„æ•°æ®ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚å¯¹æ­¤ï¼Œé“¾è¡¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ åœ¨å­˜å‚¨æ—¶éƒ½é…å¤‡ä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘è‡ªå·±çš„ç›´æ¥åç»§å…ƒç´ ã€‚å¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181123/2-1Q12321243O36.gif" alt="å„æ•°æ®å…ƒç´ é…å¤‡æŒ‡é’ˆ"><br>å›¾ 2 å„æ•°æ®å…ƒç´ é…å¤‡æŒ‡é’ˆ</p><p>åƒå›¾ 2 è¿™æ ·ï¼Œæ•°æ®å…ƒç´ éšæœºå­˜å‚¨ï¼Œå¹¶é€šè¿‡æŒ‡é’ˆè¡¨ç¤ºæ•°æ®ä¹‹é—´é€»è¾‘å…³ç³»çš„å­˜å‚¨ç»“æ„å°±æ˜¯é“¾å¼å­˜å‚¨ç»“æ„ã€‚</p><h2 id="é“¾è¡¨çš„èŠ‚ç‚¹"><a href="#é“¾è¡¨çš„èŠ‚ç‚¹" class="headerlink" title="é“¾è¡¨çš„èŠ‚ç‚¹"></a>é“¾è¡¨çš„èŠ‚ç‚¹</h2><p>ä»å›¾ 2 å¯ä»¥çœ‹åˆ°ï¼Œé“¾è¡¨ä¸­æ¯ä¸ªæ•°æ®çš„å­˜å‚¨éƒ½ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p><ol><li>æ•°æ®å…ƒç´ æœ¬èº«ï¼Œå…¶æ‰€åœ¨çš„åŒºåŸŸç§°ä¸ºæ•°æ®åŸŸï¼›</li><li>æŒ‡å‘ç›´æ¥åç»§å…ƒç´ çš„æŒ‡é’ˆï¼Œæ‰€åœ¨çš„åŒºåŸŸç§°ä¸ºæŒ‡é’ˆåŸŸï¼›</li></ol><p>å³é“¾è¡¨ä¸­å­˜å‚¨å„æ•°æ®å…ƒç´ çš„ç»“æ„å¦‚å›¾ 3 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181123/2-1Q1232126112G.gif" alt="img"><br>å›¾ 3 èŠ‚ç‚¹ç»“æ„</p><p>å›¾ 3 æ‰€ç¤ºçš„ç»“æ„åœ¨é“¾è¡¨ä¸­ç§°ä¸ºèŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé“¾è¡¨å®é™…å­˜å‚¨çš„æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„èŠ‚ç‚¹ï¼ŒçœŸæ­£çš„æ•°æ®å…ƒç´ åŒ…å«åœ¨è¿™äº›èŠ‚ç‚¹ä¸­ï¼Œå¦‚å›¾ 4 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181123/2-1Q123212Q3337.gif" alt="é“¾è¡¨ä¸­çš„èŠ‚ç‚¹"><br>å›¾ 4 é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</p><p>å› æ­¤ï¼Œé“¾è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å…·ä½“å®ç°ï¼Œéœ€è¦ä½¿ç”¨ C è¯­è¨€ä¸­çš„ç»“æ„ä½“ï¼Œå…·ä½“å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Link</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> elem; <span class="comment">//ä»£è¡¨æ•°æ®åŸŸ</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Link</span> * <span class="title">next</span>;</span> <span class="comment">//ä»£è¡¨æŒ‡é’ˆåŸŸï¼ŒæŒ‡å‘ç›´æ¥åç»§å…ƒç´ </span></span><br><span class="line">&#125;link; <span class="comment">//linkä¸ºèŠ‚ç‚¹åï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ª link ç»“æ„ä½“</span></span><br></pre></td></tr></table></figure><h2 id="å¤´èŠ‚ç‚¹ï¼Œå¤´æŒ‡é’ˆå’Œé¦–å…ƒèŠ‚ç‚¹"><a href="#å¤´èŠ‚ç‚¹ï¼Œå¤´æŒ‡é’ˆå’Œé¦–å…ƒèŠ‚ç‚¹" class="headerlink" title="å¤´èŠ‚ç‚¹ï¼Œå¤´æŒ‡é’ˆå’Œé¦–å…ƒèŠ‚ç‚¹"></a>å¤´èŠ‚ç‚¹ï¼Œå¤´æŒ‡é’ˆå’Œé¦–å…ƒèŠ‚ç‚¹</h2><p>å…¶å®ï¼Œå›¾ 4 æ‰€ç¤ºçš„é“¾è¡¨ç»“æ„å¹¶ä¸å®Œæ•´ã€‚ä¸€ä¸ªå®Œæ•´çš„é“¾è¡¨éœ€è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†æ„æˆï¼š</p><ol><li><p>å¤´æŒ‡é’ˆï¼šä¸€ä¸ªæ™®é€šçš„æŒ‡é’ˆï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯æ°¸è¿œæŒ‡å‘é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ã€‚å¾ˆæ˜æ˜¾ï¼Œå¤´æŒ‡é’ˆç”¨äºæŒ‡æ˜é“¾è¡¨çš„ä½ç½®ï¼Œä¾¿äºåæœŸæ‰¾åˆ°é“¾è¡¨å¹¶ä½¿ç”¨è¡¨ä¸­çš„æ•°æ®ï¼›</p></li><li><p>èŠ‚ç‚¹ï¼šé“¾è¡¨ä¸­çš„èŠ‚ç‚¹åˆç»†åˆ†ä¸ºå¤´èŠ‚ç‚¹é¦–å…ƒèŠ‚ç‚¹å’Œå…¶ä»–èŠ‚ç‚¹ï¼š</p><ul><li>å¤´èŠ‚ç‚¹ï¼šå…¶å®å°±æ˜¯ä¸€ä¸ªä¸å­˜ä»»ä½•æ•°æ®çš„ç©ºèŠ‚ç‚¹ï¼Œé€šå¸¸ä½œä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¯¹äºé“¾è¡¨æ¥è¯´ï¼Œå¤´èŠ‚ç‚¹ä¸æ˜¯å¿…é¡»çš„ï¼Œå®ƒçš„ä½œç”¨åªæ˜¯ä¸ºäº†æ–¹ä¾¿è§£å†³æŸäº›å®é™…é—®é¢˜ï¼›</li><li>é¦–å…ƒèŠ‚ç‚¹ï¼šç”±äºå¤´èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯ç©ºèŠ‚ç‚¹ï¼‰çš„ç¼˜æ•…ï¼Œé“¾è¡¨ä¸­ç§°ç¬¬ä¸€ä¸ªå­˜æœ‰æ•°æ®çš„èŠ‚ç‚¹ä¸ºé¦–å…ƒèŠ‚ç‚¹ã€‚é¦–å…ƒèŠ‚ç‚¹åªæ˜¯å¯¹é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå­˜æœ‰æ•°æ®èŠ‚ç‚¹çš„ä¸€ä¸ªç§°è°“ï¼Œæ²¡æœ‰å®é™…æ„ä¹‰ï¼›</li><li>å…¶ä»–èŠ‚ç‚¹ï¼šé“¾è¡¨ä¸­å…¶ä»–çš„èŠ‚ç‚¹ï¼›</li></ul></li></ol><p>å› æ­¤ï¼Œä¸€ä¸ªå­˜å‚¨ <code>&#123;1,2,3&#125;</code> çš„å®Œæ•´é“¾è¡¨ç»“æ„å¦‚å›¾ 5 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181123/2-1Q123213124343.gif" alt="å®Œæ•´çš„é“¾è¡¨ç¤ºæ„å›¾"><br>å›¾ 5 å®Œæ•´çš„é“¾è¡¨ç¤ºæ„å›¾</p><p>æ³¨æ„ï¼šé“¾è¡¨ä¸­æœ‰å¤´èŠ‚ç‚¹æ—¶ï¼Œå¤´æŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼›åä¹‹ï¼Œè‹¥é“¾è¡¨ä¸­æ²¡æœ‰å¤´èŠ‚ç‚¹ï¼Œåˆ™å¤´æŒ‡é’ˆæŒ‡å‘é¦–å…ƒèŠ‚ç‚¹ã€‚</p><h2 id="é“¾è¡¨çš„åˆ›å»ºï¼ˆåˆå§‹åŒ–ï¼‰"><a href="#é“¾è¡¨çš„åˆ›å»ºï¼ˆåˆå§‹åŒ–ï¼‰" class="headerlink" title="é“¾è¡¨çš„åˆ›å»ºï¼ˆåˆå§‹åŒ–ï¼‰"></a>é“¾è¡¨çš„åˆ›å»ºï¼ˆåˆå§‹åŒ–ï¼‰</h2><p>åˆ›å»ºä¸€ä¸ªé“¾è¡¨éœ€è¦åšå¦‚ä¸‹å·¥ä½œï¼š</p><ol><li>å£°æ˜ä¸€ä¸ªå¤´æŒ‡é’ˆï¼ˆå¦‚æœæœ‰å¿…è¦ï¼Œå¯ä»¥å£°æ˜ä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼‰ï¼›</li><li>åˆ›å»ºå¤šä¸ªå­˜å‚¨æ•°æ®çš„èŠ‚ç‚¹ï¼Œåœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œè¦éšæ—¶ä¸å…¶å‰é©±èŠ‚ç‚¹å»ºç«‹é€»è¾‘å…³ç³»ï¼›</li></ol><p>ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªå­˜å‚¨ <code>&#123;1,2,3,4&#125;</code> ä¸”æ— å¤´èŠ‚ç‚¹çš„é“¾è¡¨ï¼ŒC è¯­è¨€å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">link * <span class="title">initLink</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    link * p = <span class="literal">NULL</span>;<span class="comment">//åˆ›å»ºå¤´æŒ‡é’ˆ</span></span><br><span class="line">    link * temp = (link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(link));<span class="comment">//åˆ›å»ºé¦–å…ƒèŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">//é¦–å…ƒèŠ‚ç‚¹å…ˆåˆå§‹åŒ–</span></span><br><span class="line">    temp-&gt;elem = <span class="number">1</span>;</span><br><span class="line">    temp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    p = temp;<span class="comment">//å¤´æŒ‡é’ˆæŒ‡å‘é¦–å…ƒèŠ‚ç‚¹</span></span><br><span class="line">    <span class="comment">//ä»ç¬¬äºŒä¸ªèŠ‚ç‚¹å¼€å§‹åˆ›å»º</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹å¹¶åˆå§‹åŒ–</span></span><br><span class="line">        link *a = (link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(link));</span><br><span class="line">        a-&gt;elem = i;</span><br><span class="line">        a-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">//å°†tempèŠ‚ç‚¹ä¸æ–°å»ºç«‹çš„aèŠ‚ç‚¹å»ºç«‹é€»è¾‘å…³ç³»</span></span><br><span class="line">        temp-&gt;next = a;</span><br><span class="line">        <span class="comment">//æŒ‡é’ˆtempæ¯æ¬¡éƒ½æŒ‡å‘æ–°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå…¶å®å°±æ˜¯ aèŠ‚ç‚¹ï¼Œè¿™é‡Œå†™temp=aä¹Ÿå¯¹</span></span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿”å›å»ºç«‹çš„èŠ‚ç‚¹ï¼Œåªè¿”å›å¤´æŒ‡é’ˆ på³å¯ï¼Œé€šè¿‡å¤´æŒ‡é’ˆå³å¯æ‰¾åˆ°æ•´ä¸ªé“¾è¡¨</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªå­˜å‚¨ <code>&#123;1,2,3,4&#125;</code> ä¸”å«å¤´èŠ‚ç‚¹çš„é“¾è¡¨ï¼Œåˆ™ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">link * <span class="title">initLink</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    link * p=(link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(link));<span class="comment">//åˆ›å»ºä¸€ä¸ªå¤´ç»“ç‚¹</span></span><br><span class="line">    link * temp=p;<span class="comment">//å£°æ˜ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹ï¼Œ</span></span><br><span class="line">    <span class="comment">//ç”Ÿæˆé“¾è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;<span class="number">5</span>; i++) &#123;</span><br><span class="line">        link *a=(link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(link));</span><br><span class="line">        a-&gt;elem=i;</span><br><span class="line">        a-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">        temp-&gt;next=a;</span><br><span class="line">        temp=temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨æ’å…¥å…ƒç´ "><a href="#é“¾è¡¨æ’å…¥å…ƒç´ " class="headerlink" title="é“¾è¡¨æ’å…¥å…ƒç´ "></a>é“¾è¡¨æ’å…¥å…ƒç´ </h2><p>åŒé¡ºåºè¡¨ä¸€æ ·ï¼Œå‘é“¾è¡¨ä¸­å¢æ·»å…ƒç´ ï¼Œæ ¹æ®æ·»åŠ ä½ç½®ä¸åŒï¼Œå¯åˆ†ä¸ºä»¥ä¸‹ 3 ç§æƒ…å†µï¼š</p><ul><li>æ’å…¥åˆ°é“¾è¡¨çš„å¤´éƒ¨ï¼ˆå¤´èŠ‚ç‚¹ä¹‹åï¼‰ï¼Œä½œä¸ºé¦–å…ƒèŠ‚ç‚¹ï¼›</li><li>æ’å…¥åˆ°é“¾è¡¨ä¸­é—´çš„æŸä¸ªä½ç½®ï¼›</li><li>æ’å…¥åˆ°é“¾è¡¨çš„æœ€æœ«ç«¯ï¼Œä½œä¸ºé“¾è¡¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ï¼›</li></ul><p>è™½ç„¶æ–°å…ƒç´ çš„æ’å…¥ä½ç½®ä¸å›ºå®šï¼Œä½†æ˜¯é“¾è¡¨æ’å…¥å…ƒç´ çš„æ€æƒ³æ˜¯å›ºå®šçš„ï¼Œåªéœ€åšä»¥ä¸‹ä¸¤æ­¥æ“ä½œï¼Œå³å¯å°†æ–°å…ƒç´ æ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼š</p><ol><li>å°†æ–°ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘æ’å…¥ä½ç½®åçš„ç»“ç‚¹ï¼›</li><li>å°†æ’å…¥ä½ç½®å‰ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘æ’å…¥ç»“ç‚¹ï¼›</li></ol><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨é“¾è¡¨ <code>&#123;1,2,3,4&#125;</code> çš„åŸºç¡€ä¸Šåˆ†åˆ«å®ç°åœ¨å¤´éƒ¨ã€ä¸­é—´éƒ¨ä½ã€å°¾éƒ¨æ’å…¥æ–°å…ƒç´  5ï¼Œå…¶å®ç°è¿‡ç¨‹å¦‚å›¾1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181124/2-1Q1242005532U.gif" alt="é“¾è¡¨ä¸­æ’å…¥å…ƒç´ çš„ 3 ç§æƒ…å†µç¤ºæ„å›¾"><br>å›¾ 1 é“¾è¡¨ä¸­æ’å…¥å…ƒç´ çš„ 3 ç§æƒ…å†µç¤ºæ„å›¾</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶æ–°å…ƒç´ çš„æ’å…¥ä½ç½®ä¸åŒï¼Œä½†å®ç°æ’å…¥æ“ä½œçš„æ–¹æ³•æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å…ˆæ‰§è¡Œæ­¥éª¤ 1 ï¼Œå†æ‰§è¡Œæ­¥éª¤ 2ã€‚</p><blockquote><p>æ³¨æ„ï¼šé“¾è¡¨æ’å…¥å…ƒç´ çš„æ“ä½œå¿…é¡»æ˜¯å…ˆæ­¥éª¤ 1ï¼Œå†æ­¥éª¤ 2ï¼›åä¹‹ï¼Œè‹¥å…ˆæ‰§è¡Œæ­¥éª¤ 2ï¼Œä¼šå¯¼è‡´æ’å…¥ä½ç½®åç»­çš„éƒ¨åˆ†é“¾è¡¨ä¸¢å¤±ï¼Œæ— æ³•å†å®ç°æ­¥éª¤ 1ã€‚</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pä¸ºåŸé“¾è¡¨ï¼Œelemè¡¨ç¤ºæ–°æ•°æ®å…ƒç´ ï¼Œaddè¡¨ç¤ºæ–°å…ƒç´ è¦æ’å…¥çš„ä½ç½®</span></span><br><span class="line"><span class="function">link * <span class="title">insertElem</span><span class="params">(link * p, <span class="keyword">int</span> elem, <span class="keyword">int</span> add)</span> </span>&#123;</span><br><span class="line">    link * temp = p;<span class="comment">//åˆ›å»ºä¸´æ—¶ç»“ç‚¹temp</span></span><br><span class="line">    link * c = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//é¦–å…ˆæ‰¾åˆ°è¦æ’å…¥ä½ç½®çš„ä¸Šä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; add; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;æ’å…¥ä½ç½®æ— æ•ˆ\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ›å»ºæ’å…¥ç»“ç‚¹c</span></span><br><span class="line">    c = (link*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(link));</span><br><span class="line">    c-&gt;elem = elem;</span><br><span class="line">    <span class="comment">//å‘é“¾è¡¨ä¸­æ’å…¥ç»“ç‚¹</span></span><br><span class="line">    c-&gt;next = temp-&gt;next;</span><br><span class="line">    temp-&gt;next = c;</span><br><span class="line">    <span class="keyword">return</span>  p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨åˆ é™¤å…ƒç´ "><a href="#é“¾è¡¨åˆ é™¤å…ƒç´ " class="headerlink" title="é“¾è¡¨åˆ é™¤å…ƒç´ "></a>é“¾è¡¨åˆ é™¤å…ƒç´ </h2><p>ä»é“¾è¡¨ä¸­åˆ é™¤æŒ‡å®šæ•°æ®å…ƒç´ æ—¶ï¼Œå®åˆ™å°±æ˜¯å°†å­˜æœ‰è¯¥æ•°æ®å…ƒç´ çš„èŠ‚ç‚¹ä»é“¾è¡¨ä¸­æ‘˜é™¤ï¼Œä½†ä½œä¸ºä¸€ååˆæ ¼çš„ç¨‹åºå‘˜ï¼Œè¦å¯¹å­˜å‚¨ç©ºé—´è´Ÿè´£ï¼Œå¯¹ä¸å†åˆ©ç”¨çš„å­˜å‚¨ç©ºé—´è¦åŠæ—¶é‡Šæ”¾ã€‚å› æ­¤ï¼Œä»é“¾è¡¨ä¸­åˆ é™¤æ•°æ®å…ƒç´ éœ€è¦è¿›è¡Œä»¥ä¸‹ 2 æ­¥æ“ä½œï¼š</p><ol><li>å°†ç»“ç‚¹ä»é“¾è¡¨ä¸­æ‘˜ä¸‹æ¥;</li><li>æ‰‹åŠ¨é‡Šæ”¾æ‰ç»“ç‚¹ï¼Œå›æ”¶è¢«ç»“ç‚¹å ç”¨çš„å­˜å‚¨ç©ºé—´;</li></ol><p>å…¶ä¸­ï¼Œä»é“¾è¡¨ä¸Šæ‘˜é™¤æŸèŠ‚ç‚¹çš„å®ç°éå¸¸ç®€å•ï¼Œåªéœ€æ‰¾åˆ°è¯¥èŠ‚ç‚¹çš„ç›´æ¥å‰é©±èŠ‚ç‚¹ tempï¼Œæ‰§è¡Œä¸€è¡Œç¨‹åºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp-&gt;next=temp-&gt;next-&gt;next;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œä»å­˜æœ‰ <code>&#123;1,2,3,4&#125;</code> çš„é“¾è¡¨ä¸­åˆ é™¤å…ƒç´  3ï¼Œåˆ™æ­¤ä»£ç çš„æ‰§è¡Œæ•ˆæœå¦‚å›¾ 2 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181124/2-1Q124200Q3239.gif" alt="é“¾è¡¨åˆ é™¤å…ƒç´ ç¤ºæ„å›¾"><br>å›¾ 2 é“¾è¡¨åˆ é™¤å…ƒç´ ç¤ºæ„å›¾</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pä¸ºåŸé“¾è¡¨ï¼Œaddä¸ºè¦åˆ é™¤å…ƒç´ çš„å€¼</span></span><br><span class="line"><span class="function">link * <span class="title">delElem</span><span class="params">(link * p, <span class="keyword">int</span> add)</span> </span>&#123;</span><br><span class="line">    link * temp = p;</span><br><span class="line">    link * del = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//tempæŒ‡å‘è¢«åˆ é™¤ç»“ç‚¹çš„ä¸Šä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; add; i++) &#123;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    del = temp-&gt;next;<span class="comment">//å•ç‹¬è®¾ç½®ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘è¢«åˆ é™¤ç»“ç‚¹ï¼Œä»¥é˜²ä¸¢å¤±</span></span><br><span class="line">    temp-&gt;next = temp-&gt;next-&gt;next;<span class="comment">//åˆ é™¤æŸä¸ªç»“ç‚¹çš„æ–¹æ³•å°±æ˜¯æ›´æ”¹å‰ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸ</span></span><br><span class="line">    <span class="built_in">free</span>(del);<span class="comment">//æ‰‹åŠ¨é‡Šæ”¾è¯¥ç»“ç‚¹ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨æŸ¥æ‰¾å…ƒç´ "><a href="#é“¾è¡¨æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="é“¾è¡¨æŸ¥æ‰¾å…ƒç´ "></a>é“¾è¡¨æŸ¥æ‰¾å…ƒç´ </h2><p>åœ¨é“¾è¡¨ä¸­æŸ¥æ‰¾æŒ‡å®šæ•°æ®å…ƒç´ ï¼Œæœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼šä»è¡¨å¤´ä¾æ¬¡éå†è¡¨ä¸­èŠ‚ç‚¹ï¼Œç”¨è¢«æŸ¥æ‰¾å…ƒç´ ä¸å„èŠ‚ç‚¹æ•°æ®åŸŸä¸­å­˜å‚¨çš„æ•°æ®å…ƒç´ è¿›è¡Œæ¯”å¯¹ï¼Œç›´è‡³æ¯”å¯¹æˆåŠŸæˆ–éå†è‡³é“¾è¡¨æœ€æœ«ç«¯çš„ <code>NULL</code>ï¼ˆæ¯”å¯¹å¤±è´¥çš„æ ‡å¿—ï¼‰ã€‚</p><p>å› æ­¤ï¼Œé“¾è¡¨ä¸­æŸ¥æ‰¾ç‰¹å®šæ•°æ®å…ƒç´ çš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pä¸ºåŸé“¾è¡¨ï¼Œelemè¡¨ç¤ºè¢«æŸ¥æ‰¾å…ƒç´ ã€</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">selectElem</span><span class="params">(link * p, <span class="keyword">int</span> elem)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ–°å»ºä¸€ä¸ªæŒ‡é’ˆtï¼Œåˆå§‹åŒ–ä¸ºå¤´æŒ‡é’ˆ p</span></span><br><span class="line">    link * t = p;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//ç”±äºå¤´èŠ‚ç‚¹çš„å­˜åœ¨ï¼Œå› æ­¤whileä¸­çš„åˆ¤æ–­ä¸ºt-&gt;next</span></span><br><span class="line">    <span class="keyword">while</span> (t-&gt;next) &#123;</span><br><span class="line">        t = t-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;elem == elem) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç¨‹åºæ‰§è¡Œè‡³æ­¤å¤„ï¼Œè¡¨ç¤ºæŸ¥æ‰¾å¤±è´¥</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨æ›´æ–°å…ƒç´ "><a href="#é“¾è¡¨æ›´æ–°å…ƒç´ " class="headerlink" title="é“¾è¡¨æ›´æ–°å…ƒç´ "></a>é“¾è¡¨æ›´æ–°å…ƒç´ </h2><p>æ›´æ–°é“¾è¡¨ä¸­çš„å…ƒç´ ï¼Œåªéœ€é€šè¿‡éå†æ‰¾åˆ°å­˜å‚¨æ­¤å…ƒç´ çš„èŠ‚ç‚¹ï¼Œå¯¹èŠ‚ç‚¹ä¸­çš„æ•°æ®åŸŸåšæ›´æ”¹æ“ä½œå³å¯ã€‚</p><p>ç›´æ¥ç»™å‡ºé“¾è¡¨ä¸­æ›´æ–°æ•°æ®å…ƒç´ çš„ C è¯­è¨€å®ç°ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ›´æ–°å‡½æ•°ï¼Œå…¶ä¸­ï¼Œadd è¡¨ç¤ºæ›´æ”¹ç»“ç‚¹åœ¨é“¾è¡¨ä¸­çš„ä½ç½®ï¼ŒnewElem ä¸ºæ–°çš„æ•°æ®åŸŸçš„å€¼</span></span><br><span class="line"><span class="function">link *<span class="title">amendElem</span><span class="params">(link * p, <span class="keyword">int</span> add, <span class="keyword">int</span> newElem)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    link * temp = p;</span><br><span class="line">    temp = temp-&gt;next;<span class="comment">//åœ¨éå†ä¹‹å‰ï¼ŒtempæŒ‡å‘é¦–å…ƒç»“ç‚¹</span></span><br><span class="line">    <span class="comment">//éå†åˆ°è¢«åˆ é™¤ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; add; i++) &#123;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    temp-&gt;elem = newElem;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://data.biancheng.net/view/160.html">è½¬è½½è‡ªï¼šhttp://data.biancheng.net/view/160.html</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„â€”é¡ºåºè¡¨</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%A1%BA%E5%BA%8F%E8%A1%A8/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E9%A1%BA%E5%BA%8F%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<p>é¡ºåºè¡¨ï¼Œå…¨åé¡ºåºå­˜å‚¨ç»“æ„ï¼Œæ˜¯<a href="http://data.biancheng.net/view/157.html">çº¿æ€§è¡¨</a>çš„ä¸€ç§ã€‚é€šè¿‡ã€Š<a href="http://data.biancheng.net/view/157.html">çº¿æ€§è¡¨</a>ã€‹ä¸€èŠ‚çš„å­¦ä¹ æˆ‘ä»¬çŸ¥é“ï¼Œçº¿æ€§è¡¨ç”¨äºå­˜å‚¨é€»è¾‘å…³ç³»ä¸ºâ€œä¸€å¯¹ä¸€â€çš„æ•°æ®ï¼Œé¡ºåºè¡¨è‡ªç„¶ä¹Ÿä¸ä¾‹å¤–ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œé¡ºåºè¡¨å¯¹æ•°æ®çš„ç‰©ç†å­˜å‚¨ç»“æ„ä¹Ÿæœ‰è¦æ±‚ã€‚é¡ºåºè¡¨å­˜å‚¨æ•°æ®æ—¶ï¼Œä¼šæå‰ç”³è¯·ä¸€æ•´å—è¶³å¤Ÿå¤§å°çš„ç‰©ç†ç©ºé—´ï¼Œç„¶åå°†æ•°æ®ä¾æ¬¡å­˜å‚¨èµ·æ¥ï¼Œå­˜å‚¨æ—¶åšåˆ°æ•°æ®å…ƒç´ ä¹‹é—´ä¸ç•™ä¸€ä¸ç¼éš™ã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨é¡ºåºè¡¨å­˜å‚¨é›†åˆ <code>&#123;1,2,3,4,5&#125;</code>ï¼Œæ•°æ®æœ€ç»ˆçš„å­˜å‚¨çŠ¶æ€å¦‚å›¾1 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181121/2-1Q121202555F0.gif" alt="img"><br>å›¾ 1 é¡ºåºå­˜å‚¨ç»“æ„ç¤ºæ„å›¾</p><p>ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼Œå°†â€œå…·æœ‰ â€˜ä¸€å¯¹ä¸€â€™ é€»è¾‘å…³ç³»çš„æ•°æ®æŒ‰ç…§æ¬¡åºè¿ç»­å­˜å‚¨åˆ°ä¸€æ•´å—ç‰©ç†ç©ºé—´ä¸Šâ€çš„å­˜å‚¨ç»“æ„å°±æ˜¯é¡ºåºå­˜å‚¨ç»“æ„ã€‚</p><p>é€šè¿‡è§‚å¯Ÿå›¾ 1 ä¸­æ•°æ®çš„å­˜å‚¨çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé¡ºåºè¡¨å­˜å‚¨æ•°æ®åŒ<a href="http://data.biancheng.net/view/181.html">æ•°ç»„</a>éå¸¸æ¥è¿‘ã€‚å…¶å®ï¼Œé¡ºåºè¡¨å­˜å‚¨æ•°æ®ä½¿ç”¨çš„å°±æ˜¯æ•°ç»„ã€‚</p><h2 id="é¡ºåºè¡¨çš„åˆå§‹åŒ–"><a href="#é¡ºåºè¡¨çš„åˆå§‹åŒ–" class="headerlink" title="é¡ºåºè¡¨çš„åˆå§‹åŒ–"></a>é¡ºåºè¡¨çš„åˆå§‹åŒ–</h2><p>ä½¿ç”¨é¡ºåºè¡¨å­˜å‚¨æ•°æ®ä¹‹å‰ï¼Œé™¤äº†è¦ç”³è¯·è¶³å¤Ÿå¤§å°çš„ç‰©ç†ç©ºé—´ä¹‹å¤–ï¼Œä¸ºäº†æ–¹ä¾¿åæœŸä½¿ç”¨è¡¨ä¸­çš„æ•°æ®ï¼Œé¡ºåºè¡¨è¿˜éœ€è¦å®æ—¶è®°å½•ä»¥ä¸‹ 2 é¡¹æ•°æ®ï¼š</p><ol><li>é¡ºåºè¡¨ç”³è¯·çš„å­˜å‚¨å®¹é‡ï¼›</li><li>é¡ºåºè¡¨çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯è¡¨ä¸­å­˜å‚¨æ•°æ®å…ƒç´ çš„ä¸ªæ•°ï¼›</li></ol><p>æç¤ºï¼šæ­£å¸¸çŠ¶æ€ä¸‹ï¼Œé¡ºåºè¡¨ç”³è¯·çš„å­˜å‚¨å®¹é‡è¦å¤§äºé¡ºåºè¡¨çš„é•¿åº¦ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰é¡ºåºè¡¨ï¼ŒC è¯­è¨€å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Table</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> * head;<span class="comment">//å£°æ˜äº†ä¸€ä¸ªåä¸ºheadçš„é•¿åº¦ä¸ç¡®å®šçš„æ•°ç»„ï¼Œä¹Ÿå«â€œåŠ¨æ€æ•°ç»„â€</span></span><br><span class="line">    <span class="keyword">int</span> length;<span class="comment">//è®°å½•å½“å‰é¡ºåºè¡¨çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> size;<span class="comment">//è®°å½•é¡ºåºè¡¨åˆ†é…çš„å­˜å‚¨å®¹é‡</span></span><br><span class="line">&#125;table;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œhead æ˜¯æˆ‘ä»¬å£°æ˜çš„ä¸€ä¸ªæœªåˆå§‹åŒ–çš„åŠ¨æ€æ•°ç»„ï¼Œä¸è¦åªæŠŠå®ƒçœ‹åšæ˜¯æ™®é€šçš„æŒ‡é’ˆã€‚</p><p>æ¥ä¸‹æ¥å¼€å§‹å­¦ä¹ é¡ºåºè¡¨çš„åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯åˆæ­¥å»ºç«‹ä¸€ä¸ªé¡ºåºè¡¨ã€‚å»ºç«‹é¡ºåºè¡¨éœ€è¦åšå¦‚ä¸‹å·¥ä½œï¼š</p><ul><li>  ç»™ head åŠ¨æ€æ•°æ®ç”³è¯·è¶³å¤Ÿå¤§å°çš„ç‰©ç†ç©ºé—´ï¼›</li><li>  ç»™ size å’Œ length èµ‹åˆå€¼ï¼›</li></ul><p>å› æ­¤ï¼ŒC è¯­è¨€å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Size 5 <span class="comment">//å¯¹Sizeè¿›è¡Œå®å®šä¹‰ï¼Œè¡¨ç¤ºé¡ºåºè¡¨ç”³è¯·ç©ºé—´çš„å¤§å°</span></span></span><br><span class="line"><span class="function">table <span class="title">initTable</span><span class="params">()</span></span>&#123;</span><br><span class="line">    table t;</span><br><span class="line">    t.head = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(Size * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));<span class="comment">//æ„é€ ä¸€ä¸ªç©ºçš„é¡ºåºè¡¨ï¼ŒåŠ¨æ€ç”³è¯·å­˜å‚¨ç©ºé—´</span></span><br><span class="line">    <span class="keyword">if</span> (!t.head) <span class="comment">//å¦‚æœç”³è¯·å¤±è´¥ï¼Œä½œå‡ºæç¤ºå¹¶ç›´æ¥é€€å‡ºç¨‹åº</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;åˆå§‹åŒ–å¤±è´¥&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    t.length = <span class="number">0</span>;<span class="comment">//ç©ºè¡¨çš„é•¿åº¦åˆå§‹åŒ–ä¸º0</span></span><br><span class="line">    t.size = Size;<span class="comment">//ç©ºè¡¨çš„åˆå§‹å­˜å‚¨ç©ºé—´ä¸ºSize</span></span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œæ•´ä¸ªé¡ºåºè¡¨åˆå§‹åŒ–çš„è¿‡ç¨‹è¢«å°è£…åˆ°äº†ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œæ­¤å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªå·²ç»åˆå§‹åŒ–å®Œæˆçš„é¡ºåºè¡¨ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¢åŠ äº†ä»£ç çš„å¯ç”¨æ€§ï¼Œä¹Ÿæ›´åŠ ç¾è§‚ã€‚ä¸æ­¤åŒæ—¶ï¼Œé¡ºåºè¡¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œè¦æ³¨æ„å¯¹ç‰©ç†ç©ºé—´çš„ç”³è¯·è¿›è¡Œåˆ¤æ–­ï¼Œå¯¹ç”³è¯·å¤±è´¥çš„æƒ…å†µè¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œåªè¿›è¡Œäº†â€œè¾“å‡ºæç¤ºä¿¡æ¯å’Œå¼ºåˆ¶é€€å‡ºâ€çš„æ“ä½œï¼Œå¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„éœ€è¦å¯¹ä»£ç ä¸­çš„ if è¯­å¥è¿›è¡Œæ”¹è¿›ã€‚</p><p>é€šè¿‡åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨ initTable è¯­å¥ï¼Œå°±å¯ä»¥æˆåŠŸåˆ›å»ºä¸€ä¸ªç©ºçš„é¡ºåºè¡¨ï¼Œä¸æ­¤åŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥è¯•ç€å‘é¡ºåºè¡¨ä¸­æ·»åŠ ä¸€äº›å…ƒç´ ï¼ŒC è¯­è¨€å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span>  <span class="comment">//malloc()ã€exit()</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Size 5</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Table</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> * head;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">&#125;table;</span><br><span class="line"><span class="function">table <span class="title">initTable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    table t;</span><br><span class="line">    t.head = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(Size * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">if</span> (!t.head)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;åˆå§‹åŒ–å¤±è´¥&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    t.length = <span class="number">0</span>;</span><br><span class="line">    t.size = Size;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾“å‡ºé¡ºåºè¡¨ä¸­å…ƒç´ çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">displayTable</span><span class="params">(table t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t.length; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, t.head[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    table t = initTable();</span><br><span class="line">    <span class="comment">//å‘é¡ºåºè¡¨ä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= Size; i++) &#123;</span><br><span class="line">        t.head[i - <span class="number">1</span>] = i;</span><br><span class="line">        t.length++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;é¡ºåºè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ åˆ†åˆ«æ˜¯ï¼š\n&quot;</span>);</span><br><span class="line">    displayTable(t);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¨‹åºè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p>é¡ºåºè¡¨ä¸­å­˜å‚¨çš„å…ƒç´ åˆ†åˆ«æ˜¯ï¼š<br>1 2 3 4 5</p><p>å¯ä»¥çœ‹åˆ°ï¼Œé¡ºåºè¡¨åˆå§‹åŒ–æˆåŠŸã€‚</p><h2 id="é¡ºåºè¡¨æ’å…¥å…ƒç´ "><a href="#é¡ºåºè¡¨æ’å…¥å…ƒç´ " class="headerlink" title="é¡ºåºè¡¨æ’å…¥å…ƒç´ "></a>é¡ºåºè¡¨æ’å…¥å…ƒç´ </h2><p>å‘å·²æœ‰é¡ºåºè¡¨ä¸­æ’å…¥æ•°æ®å…ƒç´ ï¼Œæ ¹æ®æ’å…¥ä½ç½®çš„ä¸åŒï¼Œå¯åˆ†ä¸ºä»¥ä¸‹ 3 ç§æƒ…å†µï¼š</p><ol><li>æ’å…¥åˆ°é¡ºåºè¡¨çš„è¡¨å¤´ï¼›</li><li>åœ¨è¡¨çš„ä¸­é—´ä½ç½®æ’å…¥å…ƒç´ ï¼›</li><li>å°¾éšé¡ºåºè¡¨ä¸­å·²æœ‰å…ƒç´ ï¼Œä½œä¸ºé¡ºåºè¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼›</li></ol><p>è™½ç„¶æ•°æ®å…ƒç´ æ’å…¥é¡ºåºè¡¨ä¸­çš„ä½ç½®æœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯éƒ½ä½¿ç”¨çš„æ˜¯åŒä¸€ç§æ–¹å¼å»è§£å†³ï¼Œå³ï¼šé€šè¿‡éå†ï¼Œæ‰¾åˆ°æ•°æ®å…ƒç´ è¦æ’å…¥çš„ä½ç½®ï¼Œç„¶ååšå¦‚ä¸‹ä¸¤æ­¥å·¥ä½œï¼š</p><ul><li>å°†è¦æ’å…¥ä½ç½®å…ƒç´ ä»¥åŠåç»­çš„å…ƒç´ æ•´ä½“å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼›</li><li>å°†å…ƒç´ æ”¾åˆ°è…¾å‡ºæ¥çš„ä½ç½®ä¸Šï¼›</li></ul><p>ä¾‹å¦‚ï¼Œåœ¨ <code>&#123;1,2,3,4,5&#125;</code> çš„ç¬¬ 3 ä¸ªä½ç½®ä¸Šæ’å…¥å…ƒç´  6ï¼Œå®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li><p>éå†è‡³é¡ºåºè¡¨å­˜å‚¨ç¬¬ 3 ä¸ªæ•°æ®å…ƒç´ çš„ä½ç½®ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºï¼š<img src="http://data.biancheng.net/uploads/allimg/181122/2-1Q122201300X8.gif" alt="æ‰¾åˆ°ç›®æ ‡å…ƒç´ ä½ç½®"><br>å›¾ 1 æ‰¾åˆ°ç›®æ ‡å…ƒç´ ä½ç½®</p></li><li><p>å°†å…ƒç´  3 ä»¥åŠåç»­å…ƒç´  4 å’Œ 5 æ•´ä½“å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºï¼š<br><img src="http://data.biancheng.net/uploads/allimg/181122/2-1Q122201355232.gif" alt="å°†æ’å…¥ä½ç½®è…¾å‡º"><br>å›¾ 2 å°†æ’å…¥ä½ç½®è…¾å‡º</p></li><li><p>å°†æ–°å…ƒç´  6 æ”¾å…¥è…¾å‡ºçš„ä½ç½®ï¼Œå¦‚å›¾ 3 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181122/2-1Q12220142H50.gif" alt="æ’å…¥ç›®æ ‡å…ƒç´ "><br>å›¾ 3 æ’å…¥ç›®æ ‡å…ƒç´ </p></li></ul><h2 id="é¡ºåºè¡¨åˆ é™¤å…ƒç´ "><a href="#é¡ºåºè¡¨åˆ é™¤å…ƒç´ " class="headerlink" title="é¡ºåºè¡¨åˆ é™¤å…ƒç´ "></a>é¡ºåºè¡¨åˆ é™¤å…ƒç´ </h2><p>ä»é¡ºåºè¡¨ä¸­åˆ é™¤æŒ‡å®šå…ƒç´ ï¼Œå®ç°èµ·æ¥éå¸¸ç®€å•ï¼Œåªéœ€æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œå¹¶å°†å…¶åç»­æ‰€æœ‰å…ƒç´ æ•´ä½“å‰ç§» 1 ä¸ªä½ç½®å³å¯ã€‚</p><p>åç»­å…ƒç´ æ•´ä½“å‰ç§»ä¸€ä¸ªä½ç½®ï¼Œä¼šç›´æ¥å°†ç›®æ ‡å…ƒç´ åˆ é™¤ï¼Œå¯é—´æ¥å®ç°åˆ é™¤å…ƒç´ çš„ç›®çš„ã€‚</p><p>ä¾‹å¦‚ï¼Œä» <code>&#123;1,2,3,4,5&#125;</code> ä¸­åˆ é™¤å…ƒç´  3 çš„è¿‡ç¨‹å¦‚å›¾ 4 æ‰€ç¤ºï¼š</p><p><img src="http://data.biancheng.net/uploads/allimg/181122/2-1Q122201629521.gif" alt="img"><br>å›¾ 4 é¡ºåºè¡¨åˆ é™¤å…ƒç´ çš„è¿‡ç¨‹ç¤ºæ„å›¾</p><p>å› æ­¤ï¼Œé¡ºåºè¡¨åˆ é™¤å…ƒç´ çš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">table <span class="title">delTable</span><span class="params">(table t, <span class="keyword">int</span> add)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span> (add &gt; t.length || add &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;è¢«åˆ é™¤å…ƒç´ çš„ä½ç½®æœ‰è¯¯&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ é™¤æ“ä½œ</span></span><br><span class="line">    <span class="keyword">for</span> (i = add; i &lt; t.length; i++) &#123;</span><br><span class="line">        t.head[i - <span class="number">1</span>] = t.head[i];</span><br><span class="line">    &#125;</span><br><span class="line">    t.length--;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºè¡¨æŸ¥æ‰¾å…ƒç´ "><a href="#é¡ºåºè¡¨æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="é¡ºåºè¡¨æŸ¥æ‰¾å…ƒç´ "></a>é¡ºåºè¡¨æŸ¥æ‰¾å…ƒç´ </h2><p>é¡ºåºè¡¨ä¸­æŸ¥æ‰¾ç›®æ ‡å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨å¤šç§æŸ¥æ‰¾ç®—æ³•å®ç°ï¼Œæ¯”å¦‚è¯´äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ã€æ’å€¼æŸ¥æ‰¾ç®—æ³•ç­‰ã€‚</p><p>è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©é¡ºåºæŸ¥æ‰¾ç®—æ³•ï¼Œå…·ä½“å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŸ¥æ‰¾å‡½æ•°ï¼Œå…¶ä¸­ï¼Œelemè¡¨ç¤ºè¦æŸ¥æ‰¾çš„æ•°æ®å…ƒç´ çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">selectTable</span><span class="params">(table t, <span class="keyword">int</span> elem)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; t.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (t.head[i] == elem) &#123;</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//å¦‚æœæŸ¥æ‰¾å¤±è´¥ï¼Œè¿”å›-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡ºåºè¡¨æ›´æ”¹å…ƒç´ "><a href="#é¡ºåºè¡¨æ›´æ”¹å…ƒç´ " class="headerlink" title="é¡ºåºè¡¨æ›´æ”¹å…ƒç´ "></a>é¡ºåºè¡¨æ›´æ”¹å…ƒç´ </h2><p>é¡ºåºè¡¨æ›´æ”¹å…ƒç´ çš„å®ç°è¿‡ç¨‹æ˜¯ï¼š</p><ol><li>æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼›</li><li>ç›´æ¥ä¿®æ”¹è¯¥å…ƒç´ çš„å€¼ï¼›</li></ol><p>é¡ºåºè¡¨æ›´æ”¹å…ƒç´ çš„ C è¯­è¨€å®ç°ä»£ç ä¸ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ›´æ”¹å‡½æ•°ï¼Œå…¶ä¸­ï¼Œelemä¸ºè¦æ›´æ”¹çš„å…ƒç´ ï¼ŒnewElemä¸ºæ–°çš„æ•°æ®å…ƒç´ </span></span><br><span class="line"><span class="function">table <span class="title">amendTable</span><span class="params">(table t, <span class="keyword">int</span> elem, <span class="keyword">int</span> newElem)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> add = selectTable(t, elem);</span><br><span class="line">    t.head[add - <span class="number">1</span>] = newElem;<span class="comment">//ç”±äºè¿”å›çš„æ˜¯å…ƒç´ åœ¨é¡ºåºè¡¨ä¸­çš„ä½ç½®ï¼Œæ‰€ä»¥-1å°±æ˜¯è¯¥å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://data.biancheng.net/view/159.html">è½¬è½½è‡ªï¼šhttp://data.biancheng.net/view/159.html</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¡ºåºè¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„</title>
      <link href="post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%A6%82%E8%BF%B0/"/>
      <url>post/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%A6%82%E8%BF%B0/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.png"></p><h2 id="æ•°æ®ç»“æ„ä¸‰è¦æ•°"><a href="#æ•°æ®ç»“æ„ä¸‰è¦æ•°" class="headerlink" title="æ•°æ®ç»“æ„ä¸‰è¦æ•°"></a>æ•°æ®ç»“æ„ä¸‰è¦æ•°</h2><h3 id="æ•°æ®é€»è¾‘ç»“æ„"><a href="#æ•°æ®é€»è¾‘ç»“æ„" class="headerlink" title="æ•°æ®é€»è¾‘ç»“æ„"></a>æ•°æ®é€»è¾‘ç»“æ„</h3><p>é€»è¾‘ç»“æ„æ˜¯æŒ‡æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œå³ä»é€»è¾‘å…³ç³»ä¸Šæè¿°æ•°æ®ã€‚å®ƒä¸æ•°æ®çš„å­˜å‚¨æ— å…³ï¼Œæ˜¯ç‹¬ç«‹äºè®¡ç®—æœºçš„ã€‚æ•°æ®çš„é€»è¾‘ç»“æ„åˆ†ä¸ºçº¿æ€§ç»“æ„å’Œéçº¿æ€§ç»“æ„ï¼Œçº¿æ€§è¡¨æ˜¯å…¸å‹çš„çº¿æ€§ç»“æ„ï¼›é›†åˆã€æ ‘å’Œå›¾æ˜¯å…¸å‹çš„éçº¿æ€§ç»“æ„ã€‚æ•°æ®çš„é€»è¾‘ç»“æ„åˆ†ç±»è§å›¾ 1-1ã€‚</p><ul><li>  é›†åˆç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´é™¤äº† â€œåŒå±äºä¸€ä¸ªé›†åˆâ€çš„å…³ç³»å¤–ï¼Œåˆ«æ— å…¶ä»–å…³ç³»ã€‚</li><li>  çº¿æ€§ç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´åªå­˜åœ¨ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚å³çº¿æ€§è¡¨ï¼šé¡ºåºè¡¨ï¼ˆä¸€ç»´æ•°ç»„ï¼‰ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—</li><li>  æ ‘å½¢ç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ä¸€å¯¹å¤šçš„å…³ç³»ã€‚æ™®é€šæ ‘ã€äºŒå‰æ ‘ã€çº¿ç´¢äºŒå‰æ ‘ç­‰</li><li>  å›¾çŠ¶ç»“æ„æˆ–ç½‘çŠ¶ç»“æ„ç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨å¤šå¯¹å¤šçš„å…³ç³»ã€‚</li></ul><p><img src="/img/%E6%95%B0%E6%8D%AE%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84.jpg"></p><h3 id="æ•°æ®çš„å­˜å‚¨ç»“æ„"><a href="#æ•°æ®çš„å­˜å‚¨ç»“æ„" class="headerlink" title="æ•°æ®çš„å­˜å‚¨ç»“æ„"></a>æ•°æ®çš„å­˜å‚¨ç»“æ„</h3><p>å­˜å‚¨ç»“æ„æ˜¯æŒ‡æ•°æ®ç»“æ„åœ¨è®¡ç®—æœºä¸­çš„è¡¨ç¤ºï¼ˆåˆç§°æ˜ åƒï¼‰ï¼Œä¹Ÿç§°ç‰©ç†ç»“æ„ã€‚å®ƒåŒ…æ‹¬æ•°æ®å…ƒç´ çš„è¡¨ç¤ºå’Œå…³ç³»çš„è¡¨ç¤ºã€‚æ•°æ®çš„å­˜å‚¨ç»“æ„æ˜¯é€»è¾‘ç»“æ„ç”¨è®¡ç®—æœºè¯­è¨€çš„å®ç°ï¼Œå®ƒä¾èµ–äºè®¡ç®—æœºè¯­è¨€ã€‚æ•°æ®çš„å­˜å‚¨ç»“æ„ä¸»è¦æœ‰ï¼šé¡ºåºå­˜å‚¨ã€é“¾å¼å­˜å‚¨ã€ç´¢å¼•å­˜å‚¨å’Œæ•£åˆ—å­˜å‚¨ã€‚</p><ol><li><p>é¡ºåºå­˜å‚¨ï¼šæŠŠé€»è¾‘ä¸Šç›¸é‚»çš„å…ƒç´ å­˜å‚¨åœ¨ç‰©ç†ä½ç½®ä¸Šä¹Ÿç›¸é‚»çš„å­˜å‚¨å•å…ƒé‡Œï¼Œå…ƒç´ ä¹‹é—´çš„å…³ç³»ç”±å­˜å‚¨å•å…ƒçš„é‚»æ¥å…³ç³»æ¥ä½“ç°ã€‚å…¶ä¼˜ç‚¹æ˜¯å¯ä»¥å®ç°éšæœºå­˜å–ï¼Œæ¯ä¸ªå…ƒç´ å ç”¨æœ€å°‘çš„å­˜å‚¨ç©ºé—´ï¼›ç¼ºç‚¹æ˜¯åªèƒ½ä½¿ç”¨ç›¸é‚»çš„ä¸€æ•´å—å­˜å‚¨å•å…ƒï¼Œå› æ­¤å¯èƒ½äº§ç”Ÿè¾ƒå¤šçš„å¤–éƒ¨ç¢ç‰‡ã€‚</p></li><li><p>é“¾æ¥å­˜å‚¨ï¼šä¸è¦æ±‚é€»è¾‘ä¸Šç›¸é‚»çš„å…ƒç´ åœ¨ç‰©ç†ä½ç½®ä¸Šä¹Ÿç›¸é‚»ï¼Œå€ŸåŠ©æŒ‡ç¤ºå…ƒç´ å­˜å‚¨åœ°å€çš„æŒ‡é’ˆè¡¨ç¤ºå…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚å…¶ä¼˜ç‚¹æ˜¯ä¸ä¼šå‡ºç°ç¢ç‰‡ç°è±¡ï¼Œå……åˆ†åˆ©ç”¨æ‰€æœ‰å­˜å‚¨å•å…ƒï¼›ç¼ºç‚¹æ˜¯æ¯ä¸ªå…ƒç´ å› å­˜å‚¨æŒ‡é’ˆè€Œå ç”¨é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶ä¸”åªèƒ½å®ç°é¡ºåºå­˜å–ã€‚</p></li><li><p>ç´¢å¼•å­˜å‚¨ï¼šåœ¨å­˜å‚¨å…ƒç´ ä¿¡æ¯çš„åŒæ—¶ï¼Œè¿˜å»ºç«‹é™„åŠ çš„ç´¢å¼•è¡¨ã€‚ç´¢å¼•è¡¨ä¸­çš„æ¯ä¸€é¡¹ç§°ä¸ºç´¢å¼•é¡¹ï¼Œç´¢å¼•é¡¹çš„ä¸€èˆ¬å½¢å¼æ˜¯ï¼šï¼ˆå…³é”®å­—ï¼Œåœ°å€ï¼‰ã€‚å…¶ä¼˜ç‚¹æ˜¯æ£€ç´¢é€Ÿåº¦å¿«ï¼›ç¼ºç‚¹æ˜¯å¢åŠ äº†é™„åŠ çš„ç´¢å¼•è¡¨ï¼Œä¼šå ç”¨è¾ƒå¤šçš„å­˜å‚¨ç©ºé—´ã€‚å¦å¤–ï¼Œåœ¨å¢åŠ å’Œåˆ é™¤æ•°æ®æ—¶è¦ä¿®æ”¹ç´¢å¼•è¡¨ï¼Œå› è€Œä¼šèŠ±è´¹è¾ƒå¤šçš„æ—¶é—´ã€‚</p></li></ol><p> 4 .æ•£åˆ—å­˜å‚¨ï¼šæ ¹æ®å…ƒç´ çš„å…³é”®å­—ç›´æ¥è®¡ç®—å‡ºè¯¥å…ƒç´ çš„å­˜å‚¨åœ°å€ï¼Œåˆç§°ä¸º Hash å­˜å‚¨ã€‚å…¶ä¼˜ç‚¹æ˜¯æ£€ç´¢ã€å¢åŠ å’Œåˆ é™¤ç»“ç‚¹çš„æ“ä½œéƒ½å¾ˆå¿«ï¼›ç¼ºç‚¹æ˜¯å¦‚æœæ•£åˆ—å‡½æ•°ä¸å¥½å¯èƒ½å‡ºç°å…ƒç´ å­˜å‚¨å•å…ƒçš„å†²çªï¼Œè€Œè§£å†³å†²çªä¼šå¢åŠ æ—¶é—´å’Œç©ºé—´å¼€é”€ã€‚</p><h3 id="æ•°æ®çš„è¿ç®—"><a href="#æ•°æ®çš„è¿ç®—" class="headerlink" title="æ•°æ®çš„è¿ç®—"></a>æ•°æ®çš„è¿ç®—</h3><p>æ–½åŠ åœ¨æ•°æ®ä¸Šçš„è¿ç®—åŒ…æ‹¬è¿ç®—çš„å®šä¹‰å’Œå®ç°ã€‚è¿ç®—çš„å®šä¹‰æ˜¯é’ˆå¯¹é€»è¾‘ç»“æ„çš„ï¼ŒæŒ‡å‡ºè¿ç®—çš„åŠŸèƒ½ï¼›è¿ç®—çš„å®ç°æ˜¯é’ˆå¯¹å­˜å‚¨ç»“æ„çš„ï¼ŒæŒ‡å‡ºè¿ç®—çš„å…·ä½“æ“ä½œæ­¥éª¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsäº‹ä»¶å¾ªç¯</title>
      <link href="post/js%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/"/>
      <url>post/js%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨çœ‹å…³äº js çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œï¼ˆå¾ˆå¤šå…¬å¸å¿…é—®çš„é¢è¯•é¢˜ï¼‰çœ‹äº†å‡ ç¯‡æ–‡ç« åå‡†å¤‡æ€»ç»“å‡ºæ¥åˆ†äº«ç»™å¤§å®¶</p><blockquote><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œè™½ç„¶åœ¨ html5 ä¸­æå‡ºäº† Web-Worker ï¼Œä½†è¿™å¹¶æœªæ”¹å˜ JavaScript æ˜¯å•çº¿ç¨‹è¿™ä¸€æ ¸å¿ƒ,ï¼Œå¯æ˜¯æµè§ˆå™¨åˆèƒ½å¾ˆå¥½çš„å¤„ç†å¼‚æ­¥è¯·æ±‚ï¼Œé‚£ä¹ˆåˆ°åº•æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p></blockquote><p><strong>æµè§ˆå™¨æ‰§è¡Œçº¿ç¨‹</strong></p><blockquote><p>åœ¨è§£é‡Šäº‹ä»¶å¾ªç¯ä¹‹å‰é¦–å…ˆå…ˆè§£é‡Šä¸€ä¸‹æµè§ˆå™¨çš„æ‰§è¡Œçº¿ç¨‹ï¼š<br>æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹çš„ï¼Œæµè§ˆå™¨æ¯ä¸€ä¸ª tab æ ‡ç­¾éƒ½ä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œå…¶ä¸­æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ï¼ˆæµè§ˆå™¨å†…æ ¸ï¼‰å±äºæµè§ˆå™¨å¤šè¿›ç¨‹ä¸­çš„ä¸€ç§ï¼Œä¸»è¦è´Ÿè´£é¡µé¢æ¸²æŸ“ï¼Œè„šæœ¬æ‰§è¡Œï¼Œäº‹ä»¶å¤„ç†ç­‰<br>å…¶åŒ…å«çš„çº¿ç¨‹æœ‰ï¼šGUI æ¸²æŸ“çº¿ç¨‹ï¼ˆè´Ÿè´£æ¸²æŸ“é¡µé¢ï¼Œè§£æ HTMLï¼ŒCSS æ„æˆ DOM æ ‘ï¼‰ã€JS å¼•æ“çº¿ç¨‹ã€äº‹ä»¶è§¦å‘çº¿ç¨‹ã€å®šæ—¶å™¨è§¦å‘çº¿ç¨‹ã€http è¯·æ±‚çº¿ç¨‹ç­‰ä¸»è¦çº¿ç¨‹</p></blockquote><h3 id="å…³äºæ‰§è¡Œä¸­çš„çº¿ç¨‹ï¼š"><a href="#å…³äºæ‰§è¡Œä¸­çš„çº¿ç¨‹ï¼š" class="headerlink" title="å…³äºæ‰§è¡Œä¸­çš„çº¿ç¨‹ï¼š"></a>å…³äºæ‰§è¡Œä¸­çš„çº¿ç¨‹ï¼š</h3><p><strong>ä¸»çº¿ç¨‹</strong>ï¼šä¹Ÿå°±æ˜¯ js å¼•æ“æ‰§è¡Œçš„çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹åªæœ‰ä¸€ä¸ªï¼Œé¡µé¢æ¸²æŸ“ã€å‡½æ•°å¤„ç†éƒ½åœ¨è¿™ä¸ªä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œã€‚<br><strong>å·¥ä½œçº¿ç¨‹</strong>ï¼šä¹Ÿç§°å¹•åçº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹å¯èƒ½å­˜åœ¨äºæµè§ˆå™¨æˆ– js å¼•æ“å†…ï¼Œä¸ä¸»çº¿ç¨‹æ˜¯åˆ†å¼€çš„ï¼Œå¤„ç†æ–‡ä»¶è¯»å–ã€ç½‘ç»œè¯·æ±‚ç­‰å¼‚æ­¥äº‹ä»¶ã€‚</p><p><strong>ä»»åŠ¡é˜Ÿåˆ—( Event Queue )</strong></p><blockquote><p>æ‰€æœ‰çš„ä»»åŠ¡å¯ä»¥åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€èˆ¬ä¼šç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼›è€Œå¼‚æ­¥ä»»åŠ¡ï¼Œå°±æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚ ajax ç½‘ç»œè¯·æ±‚ï¼ŒsetTimeout å®šæ—¶å‡½æ•°ç­‰éƒ½å±äºå¼‚æ­¥ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡ä¼šé€šè¿‡ä»»åŠ¡é˜Ÿåˆ—çš„æœºåˆ¶(å…ˆè¿›å…ˆå‡ºçš„æœºåˆ¶)æ¥è¿›è¡Œåè°ƒã€‚å…·ä½“çš„å¯ä»¥ç”¨ä¸‹é¢çš„å›¾æ¥å¤§è‡´è¯´æ˜ä¸€ä¸‹ï¼š</p></blockquote><p><img src="https://pic4.zhimg.com/80/v2-1337770fcc29d10325ee4eb127496fff_1440w.jpg" alt="img"></p><h3 id="åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥çš„è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚-ä¸Šè¿°è¿‡ç¨‹çš„ä¸æ–­é‡å¤å°±æ˜¯æˆ‘ä»¬è¯´çš„-Event-Loop-äº‹ä»¶å¾ªç¯-ã€‚"><a href="#åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥çš„è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚-ä¸Šè¿°è¿‡ç¨‹çš„ä¸æ–­é‡å¤å°±æ˜¯æˆ‘ä»¬è¯´çš„-Event-Loop-äº‹ä»¶å¾ªç¯-ã€‚" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥çš„è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸Šè¿°è¿‡ç¨‹çš„ä¸æ–­é‡å¤å°±æ˜¯æˆ‘ä»¬è¯´çš„ Event Loop (äº‹ä»¶å¾ªç¯)ã€‚"></a>åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥çš„è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸Šè¿°è¿‡ç¨‹çš„ä¸æ–­é‡å¤å°±æ˜¯æˆ‘ä»¬è¯´çš„ Event Loop (äº‹ä»¶å¾ªç¯)ã€‚</h3><p>åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œæ¯è¿›è¡Œä¸€æ¬¡å¾ªç¯æ“ä½œç§°ä¸º tickï¼Œé€šè¿‡é˜…è¯»è§„èŒƒå¯çŸ¥ï¼Œæ¯ä¸€æ¬¡ tick çš„ä»»åŠ¡å¤„ç†æ¨¡å‹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå…¶å…³é”®çš„æ­¥éª¤å¯ä»¥æ€»ç»“å¦‚ä¸‹ï¼š</p><h3 id="1-åœ¨æ­¤æ¬¡-tick-ä¸­é€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä»»åŠ¡-oldest-task-ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ-ä¸€æ¬¡"><a href="#1-åœ¨æ­¤æ¬¡-tick-ä¸­é€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä»»åŠ¡-oldest-task-ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ-ä¸€æ¬¡" class="headerlink" title="1.åœ¨æ­¤æ¬¡ tick ä¸­é€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä»»åŠ¡( oldest task )ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ(ä¸€æ¬¡)"></a>1.åœ¨æ­¤æ¬¡ tick ä¸­é€‰æ‹©æœ€å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä»»åŠ¡( oldest task )ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ(ä¸€æ¬¡)</h3><h3 id="2-æ£€æŸ¥æ˜¯å¦å­˜åœ¨-Microtasks-ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸åœåœ°æ‰§è¡Œï¼Œç›´è‡³æ¸…ç©º-Microtask-Queue"><a href="#2-æ£€æŸ¥æ˜¯å¦å­˜åœ¨-Microtasks-ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸åœåœ°æ‰§è¡Œï¼Œç›´è‡³æ¸…ç©º-Microtask-Queue" class="headerlink" title="2.æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Microtasks ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸åœåœ°æ‰§è¡Œï¼Œç›´è‡³æ¸…ç©º Microtask Queue"></a>2.æ£€æŸ¥æ˜¯å¦å­˜åœ¨ Microtasks ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸åœåœ°æ‰§è¡Œï¼Œç›´è‡³æ¸…ç©º Microtask Queue</h3><h3 id="3-æ›´æ–°-render"><a href="#3-æ›´æ–°-render" class="headerlink" title="3.æ›´æ–° render"></a>3.æ›´æ–° render</h3><h3 id="4-ä¸»çº¿ç¨‹é‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤"><a href="#4-ä¸»çº¿ç¨‹é‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤" class="headerlink" title="4.ä¸»çº¿ç¨‹é‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤"></a>4.ä¸»çº¿ç¨‹é‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤</h3><p>å¯ä»¥ç”¨ä¸€å¼ å›¾æ¥è¯´æ˜ä¸‹æµç¨‹ï¼š</p><p><img src="https://pic3.zhimg.com/80/v2-a38ad24f9109e1a4cb7b49cc1b90cafe_1440w.jpg" alt="img"></p><p>è¿™é‡Œç›¸ä¿¡æœ‰äººä¼šæƒ³é—®ï¼Œä»€ä¹ˆæ˜¯ microtasks ?è§„èŒƒä¸­è§„å®šï¼Œtask åˆ†ä¸ºä¸¤å¤§ç±», åˆ†åˆ«æ˜¯ Macro Task ï¼ˆå®ä»»åŠ¡ï¼‰å’Œ Micro Taskï¼ˆå¾®ä»»åŠ¡ï¼‰, å¹¶ä¸”æ¯ä¸ªå®ä»»åŠ¡ç»“æŸå, éƒ½è¦æ¸…ç©ºæ‰€æœ‰çš„å¾®ä»»åŠ¡,è¿™é‡Œçš„ Macro Task ä¹Ÿæ˜¯æˆ‘ä»¬å¸¸è¯´çš„ task ï¼Œæœ‰äº›æ–‡ç« å¹¶æ²¡æœ‰å¯¹å…¶åšåŒºåˆ†ï¼Œåé¢æ–‡ç« ä¸­æ‰€æåŠçš„ task çš†çœ‹åšå®ä»»åŠ¡( macro task)ã€‚</p><h3 id="å®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šscript-æ•´ä½“ä»£ç -ã€setTimeoutã€setIntervalã€I-Oã€UI-äº¤äº’äº‹ä»¶ã€setImmediate-Node-js-ç¯å¢ƒ"><a href="#å®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šscript-æ•´ä½“ä»£ç -ã€setTimeoutã€setIntervalã€I-Oã€UI-äº¤äº’äº‹ä»¶ã€setImmediate-Node-js-ç¯å¢ƒ" class="headerlink" title="å®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šscript( æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€UI äº¤äº’äº‹ä»¶ã€setImmediate(Node.js ç¯å¢ƒ)"></a>å®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šscript( æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€UI äº¤äº’äº‹ä»¶ã€setImmediate(Node.js ç¯å¢ƒ)</h3><h3 id="å¾®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šPromiseã€MutationObserverã€queueMicroTasksã€process-nextTick-Node-js-ç¯å¢ƒ"><a href="#å¾®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šPromiseã€MutationObserverã€queueMicroTasksã€process-nextTick-Node-js-ç¯å¢ƒ" class="headerlink" title="å¾®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šPromiseã€MutationObserverã€queueMicroTasksã€process.nextTick(Node.js ç¯å¢ƒ)"></a>å¾®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼šPromiseã€MutationObserverã€queueMicroTasksã€process.nextTick(Node.js ç¯å¢ƒ)</h3><p>setTimeout/Promise ç­‰ API ä¾¿æ˜¯ä»»åŠ¡æºï¼Œè€Œè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„æ˜¯ç”±ä»–ä»¬æŒ‡å®šçš„å…·ä½“æ‰§è¡Œä»»åŠ¡ã€‚æ¥è‡ªä¸åŒä»»åŠ¡æºçš„ä»»åŠ¡ä¼šè¿›å…¥åˆ°ä¸åŒçš„ä»»åŠ¡é˜Ÿåˆ—ã€‚å…¶ä¸­ setTimeout ä¸ setInterval æ˜¯åŒæºçš„ã€‚</p><h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><p>æŒæ¡æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸ªä¾‹å­å¼ºåŒ–ä¸€ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>æ•´ä½“ script ä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ° console.logï¼Œè¾“å‡º script start<br>é‡åˆ° setTimeoutï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡ Event Queue ä¸­<br>é‡åˆ° Promiseï¼Œå…¶ then å‡½æ•°è¢«åˆ†åˆ°åˆ°å¾®ä»»åŠ¡ Event Queue ä¸­,è®°ä¸º then1ï¼Œä¹‹ååˆé‡åˆ°äº† then å‡½æ•°ï¼Œå°†å…¶åˆ†åˆ°å¾®ä»»åŠ¡ Event Queue ä¸­ï¼Œè®°ä¸º then2<br>é‡åˆ° console.logï¼Œè¾“å‡º script end</p></blockquote><h3 id="è‡³æ­¤ï¼ŒEvent-Queue-ä¸­å­˜åœ¨ä¸‰ä¸ªä»»åŠ¡ï¼šå®ä»»åŠ¡ï¼šsetTimeout-å¾®ä»»åŠ¡ï¼šthen1ã€then2"><a href="#è‡³æ­¤ï¼ŒEvent-Queue-ä¸­å­˜åœ¨ä¸‰ä¸ªä»»åŠ¡ï¼šå®ä»»åŠ¡ï¼šsetTimeout-å¾®ä»»åŠ¡ï¼šthen1ã€then2" class="headerlink" title="è‡³æ­¤ï¼ŒEvent Queue ä¸­å­˜åœ¨ä¸‰ä¸ªä»»åŠ¡ï¼šå®ä»»åŠ¡ï¼šsetTimeout å¾®ä»»åŠ¡ï¼šthen1ã€then2"></a>è‡³æ­¤ï¼ŒEvent Queue ä¸­å­˜åœ¨ä¸‰ä¸ªä»»åŠ¡ï¼šå®ä»»åŠ¡ï¼šsetTimeout å¾®ä»»åŠ¡ï¼šthen1ã€then2</h3><p>æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œé¦–å…ˆæ‰§è¡Œ then1ï¼Œè¾“å‡º promise1, ç„¶åæ‰§è¡Œ then2ï¼Œè¾“å‡º promise2ï¼Œè¿™æ ·å°±æ¸…ç©ºäº†æ‰€æœ‰å¾®ä»»åŠ¡<br>æ‰§è¡Œ setTimeout ä»»åŠ¡ï¼Œè¾“å‡º setTimeout è‡³æ­¤ï¼Œè¾“å‡ºçš„é¡ºåºæ˜¯ï¼šscript start, script end, promise1, promise2, setTimeout</p><p>å†æ¥ä¸€ä¸ªé¢˜ç›®ï¼Œæ¥åšä¸ªç»ƒä¹ ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;timeout1&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">  resolve()</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;timeout2&#x27;</span>), <span class="number">10</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;then1&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé¢˜ç›®å°±ç¨å¾®æœ‰ç‚¹å¤æ‚äº†ï¼Œæˆ‘ä»¬å†åˆ†æä¸‹ï¼š</p><p>é¦–å…ˆï¼Œäº‹ä»¶å¾ªç¯ä»å®ä»»åŠ¡ (macrotask) é˜Ÿåˆ—å¼€å§‹ï¼Œæœ€åˆå§‹ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåªæœ‰ä¸€ä¸ª scrip t(æ•´ä½“ä»£ç )ä»»åŠ¡ï¼›å½“é‡åˆ°ä»»åŠ¡æº (task source) æ—¶ï¼Œåˆ™ä¼šå…ˆåˆ†å‘ä»»åŠ¡åˆ°å¯¹åº”çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ã€‚æ‰€ä»¥ï¼Œå°±å’Œä¸Šé¢ä¾‹å­ç±»ä¼¼ï¼Œé¦–å…ˆé‡åˆ°äº† console.logï¼Œè¾“å‡º script startï¼› æ¥ç€å¾€ä¸‹èµ°ï¼Œé‡åˆ° setTimeout ä»»åŠ¡æºï¼Œå°†å…¶åˆ†å‘åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ï¼Œè®°ä¸º timeout1ï¼› æ¥ç€é‡åˆ° promiseï¼Œnew promise ä¸­çš„ä»£ç ç«‹å³æ‰§è¡Œï¼Œè¾“å‡º promise1, ç„¶åæ‰§è¡Œ resolve ,é‡åˆ° setTimeout ,å°†å…¶åˆ†å‘åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ï¼Œè®°ä¸º timemout2, å°†å…¶ then åˆ†å‘åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ï¼Œè®°ä¸º then1ï¼› æ¥ç€é‡åˆ° console.log ä»£ç ï¼Œç›´æ¥è¾“å‡º script end æ¥ç€æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°æœ‰ä¸ª then1 å¾®ä»»åŠ¡ï¼Œæ‰§è¡Œï¼Œè¾“å‡º then1 å†æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°å·²ç»æ¸…ç©ºï¼Œåˆ™å¼€å§‹æ£€æŸ¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œ timeout1,è¾“å‡º timeout1ï¼› æ¥ç€æ‰§è¡Œ timeout2ï¼Œè¾“å‡º timeout2 è‡³æ­¤ï¼Œæ‰€æœ‰çš„éƒ½é˜Ÿåˆ—éƒ½å·²æ¸…ç©ºï¼Œæ‰§è¡Œå®Œæ¯•ã€‚å…¶è¾“å‡ºçš„é¡ºåºä¾æ¬¡æ˜¯ï¼šscript start, promise1, script end, then1, timeout1, timeout2</p><p>ç”¨æµç¨‹å›¾çœ‹æ›´æ¸…æ™°ï¼š</p><p><img src="https://pic1.zhimg.com/80/v2-a3ac02a230c49c9aa8c45af46eae2e1c_1440w.jpg" alt="img"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ‰ä¸ªå° tipï¼šä»è§„èŒƒæ¥çœ‹ï¼Œmicrotask ä¼˜å…ˆäº task æ‰§è¡Œï¼Œæ‰€ä»¥å¦‚æœæœ‰éœ€è¦ä¼˜å…ˆæ‰§è¡Œçš„é€»è¾‘ï¼Œæ”¾å…¥ microtask é˜Ÿåˆ—ä¼šæ¯” task æ›´æ—©çš„è¢«æ‰§è¡Œã€‚</p><h3 id="æœ€åçš„æœ€åï¼Œè®°ä½ï¼ŒJavaScript-æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œå¼‚æ­¥æ“ä½œéƒ½æ˜¯æ”¾åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…ä¸»æ‰§è¡Œæ ˆæ¥æ‰§è¡Œçš„ï¼Œå¹¶æ²¡æœ‰ä¸“é—¨çš„å¼‚æ­¥æ‰§è¡Œçº¿ç¨‹ã€‚"><a href="#æœ€åçš„æœ€åï¼Œè®°ä½ï¼ŒJavaScript-æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œå¼‚æ­¥æ“ä½œéƒ½æ˜¯æ”¾åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…ä¸»æ‰§è¡Œæ ˆæ¥æ‰§è¡Œçš„ï¼Œå¹¶æ²¡æœ‰ä¸“é—¨çš„å¼‚æ­¥æ‰§è¡Œçº¿ç¨‹ã€‚" class="headerlink" title="æœ€åçš„æœ€åï¼Œè®°ä½ï¼ŒJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œå¼‚æ­¥æ“ä½œéƒ½æ˜¯æ”¾åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…ä¸»æ‰§è¡Œæ ˆæ¥æ‰§è¡Œçš„ï¼Œå¹¶æ²¡æœ‰ä¸“é—¨çš„å¼‚æ­¥æ‰§è¡Œçº¿ç¨‹ã€‚"></a>æœ€åçš„æœ€åï¼Œè®°ä½ï¼ŒJavaScript æ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œå¼‚æ­¥æ“ä½œéƒ½æ˜¯æ”¾åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…ä¸»æ‰§è¡Œæ ˆæ¥æ‰§è¡Œçš„ï¼Œå¹¶æ²¡æœ‰ä¸“é—¨çš„å¼‚æ­¥æ‰§è¡Œçº¿ç¨‹ã€‚</h3><p><a href="https://zhuanlan.zhihu.com/p/87684858">è½¬è½½è‡ªï¼šhttps://zhuanlan.zhihu.com/p/87684858</a></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jså¼•æ“è§£æè¿‡ç¨‹</title>
      <link href="post/js%E5%BC%95%E6%93%8E%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B/"/>
      <url>post/js%E5%BC%95%E6%93%8E%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="è¯­æ³•æ£€æŸ¥"><a href="#è¯­æ³•æ£€æŸ¥" class="headerlink" title="è¯­æ³•æ£€æŸ¥"></a>è¯­æ³•æ£€æŸ¥</h2><p>è¯­æ³•æ£€æŸ¥æ˜¯ JavaScript è§£æå™¨çš„å·¥ä½œä¹‹ä¸€ï¼ŒåŒ…æ‹¬ Ã<strong>è¯æ³•åˆ†æ</strong>å’Œ<strong>è¯­æ³•åˆ†æ</strong></p><h3 id="è¯æ³•åˆ†æ"><a href="#è¯æ³•åˆ†æ" class="headerlink" title="è¯æ³•åˆ†æ"></a>è¯æ³•åˆ†æ</h3><p>æŠŠ JavaScript ä»£ç ï¼ˆå­—ç¬¦åˆ›ï¼‰é€å­—è½¬æ¢ä¸º<strong>æ ‡è®°æµ</strong></p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a = (b - c);</span></span><br></pre></td></tr></table></figure><p>è½¬æ¢ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NAME <span class="string">&quot;a&quot;</span></span><br><span class="line">EQUALS</span><br><span class="line">OPEN_PARENTHESIS</span><br><span class="line">NAME <span class="string">&quot;b&quot;</span></span><br><span class="line">MINUS</span><br><span class="line">NAME <span class="string">&quot;c&quot;</span></span><br><span class="line">CLOSE_PARENTHESIS</span><br><span class="line">SEMICOLON</span><br></pre></td></tr></table></figure><h3 id="è¯­æ³•åˆ†æ"><a href="#è¯­æ³•åˆ†æ" class="headerlink" title="è¯­æ³•åˆ†æ"></a>è¯­æ³•åˆ†æ</h3><p>è¯­æ³•åˆ†æï¼šJavaScript è¯­æ³•åˆ†æå™¨åœ¨ç»è¿‡è¯æ³•åˆ†æåï¼Œå°†è®°å·æµæŒ‰ç…§ ECMAScript æ ‡å‡†æŠŠè¯æ³•åˆ†ææ‰€äº§ç”Ÿçš„è®°å·ç”Ÿæˆ<strong>è¯­æ³•æ ‘ AS</strong>Tã€‚</p><h2 id="è¿è¡Œé˜¶æ®µ"><a href="#è¿è¡Œé˜¶æ®µ" class="headerlink" title="è¿è¡Œé˜¶æ®µ"></a>è¿è¡Œé˜¶æ®µ</h2><h3 id="é¢„è§£æ"><a href="#é¢„è§£æ" class="headerlink" title="é¢„è§£æ"></a>é¢„è§£æ</h3><ol><li>å°† JavaScript å¼•æ“å°†è¯­æ³•æ£€æŸ¥æ­£ç¡®åç”Ÿæˆçš„è¯­æ³•æ ‘å¤åˆ¶åˆ°å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ã€‚</li><li>JavaScript å¼•æ“ä¼šå¯¹è¯­æ³•æ ‘å½“ä¸­çš„<strong>å˜é‡å£°æ˜</strong>ã€<strong>å‡½æ•°å£°æ˜</strong>ä»¥åŠ<strong>å‡½æ•°çš„å½¢å‚</strong>è¿›è¡Œå±æ€§å¡«å……ï¼ˆ å£°æ˜æå‡ï¼‰ã€‚</li></ol><p><strong>æ‰§è¡Œä¸Šä¸‹æ–‡åŒ…æ‹¬ï¼šå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this</strong></p><ul><li>å˜é‡å¯¹è±¡ï¼ˆVariable Objectï¼‰:ç”±å˜é‡å£°æ˜ï¼ˆvar declarationï¼‰ã€å‡½æ•°å£°æ˜ï¼ˆfunction declarationï¼‰ã€å‚æ•°ï¼ˆargumentsï¼‰æ„æˆã€‚</li><li>ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰: å˜é‡å¯¹è±¡+çˆ¶çº§ä½œç”¨åŸŸ</li><li>this ï¼šä¸€æ—¦è¿›å…¥ä»£ç æ‰§è¡Œé˜¶æ®µçš„ä¸Šä¸‹æ–‡ä¸­ï¼ˆé¢„ç¼–è¯‘åçš„ä»£ç æ‰§è¡Œé˜¶æ®µï¼‰ï¼Œthis çš„å€¼å°±ä¸ä¼šå˜äº†ã€‚</li></ul><p><strong>å˜é‡å¯¹è±¡/æ´»åŠ¨å¯¹è±¡ï¼ˆVO/AOï¼‰å±æ€§å¡«å……</strong></p><ul><li><p>å˜é‡å¯¹è±¡/æ´»åŠ¨å¯¹è±¡ï¼ˆVO/AOï¼‰å¡«å……çš„é¡ºåºï¼šå‡½æ•°çš„å½¢å‚-&gt;å‡½æ•°å£°æ˜-&gt;å˜é‡å£°æ˜ï¼›åœ¨å˜é‡å¯¹è±¡/æ´»åŠ¨å¯¹è±¡ï¼ˆVO/AOï¼‰ä¸­æƒé‡é«˜ä½ä¹ŸæŒ‰ç…§å‡½æ•°çš„å½¢å‚-&gt;å‡½æ•°å£°æ˜-&gt;å˜é‡å£°æ˜é¡ºåºæ¥ã€‚</p></li><li><p>å‡½æ•°çš„å½¢å‚ï¼šæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå…¶å±æ€§åå°±æ˜¯å½¢å‚çš„åå­—ï¼Œå…¶å€¼å°±æ˜¯å®å‚çš„å€¼ï¼›å¯¹äºæ²¡æœ‰ä¼ é€’çš„å‚æ•°ï¼Œå…¶å€¼ä¸º undefinedã€‚</p></li><li><p>å‡½æ•°å£°æ˜ï¼šæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå±æ€§åå’Œå€¼éƒ½æ˜¯å‡½æ•°å¯¹è±¡åˆ›å»ºå‡ºæ¥çš„ï¼›å¦‚æœå˜é‡å¯¹è±¡å·²ç»åŒ…å«äº†ç›¸åŒåå­—çš„å±æ€§ï¼Œåˆ™ä¼šæ›¿æ¢å®ƒçš„å€¼ã€‚</p></li><li><p>å˜é‡å£°æ˜ï¼šæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå…¶å±æ€§åå³ä¸ºå˜é‡åï¼Œå…¶å€¼ä¸º undefinedï¼›å¦‚æœå˜é‡åå’Œå·²ç»å£°æ˜çš„å‡½æ•°åæˆ–è€…å‡½æ•°çš„å‚æ•°åç›¸åŒï¼Œåˆ™ä¸ä¼šå½±å“å·²ç»å­˜åœ¨çš„å‡½æ•°å£°æ˜çš„å±æ€§ï¼Œè¯¥å£°æ˜ä¼šè¢«å¿½ç•¥æ‰ï¼Œä½†å…¶åŒ…å«çš„èµ‹å€¼æ“ä½œä¸ä¼šå¿½ç•¥ã€‚</p><pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°æå‡ä¼˜å…ˆçº§é«˜äºå˜é‡æå‡ï¼Œæ‰€ä»¥bå–å‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    alert(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> b <span class="comment">// è¢«å¿½ç•¥ï¼Œå› ä¸ºå‡½æ•°å£°æ˜ä¼˜å…ˆçº§é«˜äºå˜é‡å£°æ˜</span></span><br><span class="line">alert(b) <span class="comment">// function b(a) &#123; alert(a); &#125;</span></span><br><span class="line">b() <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></code></pre></li></ul><h3 id="ä»£ç æ‰§è¡Œ"><a href="#ä»£ç æ‰§è¡Œ" class="headerlink" title="ä»£ç æ‰§è¡Œ"></a>ä»£ç æ‰§è¡Œ</h3><p>ç»è¿‡â€œé¢„è§£æâ€åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ä¹‹åï¼Œå°±è¿›å…¥æ‰§è¡Œä»£ç é˜¶æ®µï¼ŒVO/AO å°±ä¼šé‡æ–°èµ‹äºˆçœŸå®çš„å€¼ï¼Œâ€œé¢„è§£æâ€é˜¶æ®µèµ‹äºˆçš„ undefined å€¼ä¼šè¢«è¦†ç›–ã€‚</p><p>æ­¤é˜¶æ®µæ‰æ˜¯ç¨‹åºçœŸæ­£è¿›å…¥æ‰§è¡Œé˜¶æ®µï¼ŒJavascript å¼•æ“ä¼šä¸€è¡Œä¸€è¡Œçš„è¯»å–å¹¶è¿è¡Œä»£ç ã€‚æ­¤æ—¶é‚£äº›å˜é‡éƒ½ä¼šé‡æ–°èµ‹å€¼ã€‚</p><p>å‡å¦‚å˜é‡æ˜¯å®šä¹‰åœ¨å‡½æ•°å†…çš„ï¼Œè€Œå‡½æ•°ä»å¤´åˆ°å°¾éƒ½æ²¡è¢«æ¿€æ´»ï¼ˆè°ƒç”¨ï¼‰çš„è¯ï¼Œåˆ™å˜é‡å€¼æ°¸è¿œéƒ½æ˜¯ undefined å€¼ã€‚</p><p>è¿›å…¥äº†æ‰§è¡Œä»£ç é˜¶æ®µï¼Œåœ¨â€œé¢„è§£æâ€é˜¶æ®µæ‰€åˆ›å»ºçš„ä»»ä½•ä¸œè¥¿å¯èƒ½éƒ½ä¼šæ”¹å˜ï¼Œä¸ä»…ä»…æ˜¯ VO/AOï¼Œthis å’Œä½œç”¨åŸŸé“¾ä¹Ÿä¼šå› ä¸ºæŸäº›è¯­å¥è€Œæ”¹å˜ï¼Œåé¢ä¼šè®²åˆ°ã€‚</p><p>â€‹ <strong>ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰</strong></p><p>â€‹ ä½œç”¨åŸŸé“¾æ˜¯å¤„ç†æ ‡è¯†ç¬¦æ—¶è¿›è¡Œ<strong>å˜é‡æŸ¥è¯¢</strong>çš„å˜é‡å¯¹è±¡åˆ—è¡¨ï¼Œæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æœ‰è‡ªå·±çš„å˜é‡å¯¹è±¡ï¼šå¯¹äºå…¨å±€ä¸Šä¸‹æ–‡è€Œè¨€ï¼Œå…¶å˜é‡å¯¹è±¡å°±æ˜¯å…¨å±€å¯¹è±¡æœ¬èº«ï¼›å¯¹äºå‡½æ•°è€Œè¨€ï¼Œå…¶å˜é‡å¯¹è±¡å°±æ˜¯æ´»åŠ¨å¯¹è±¡ã€‚</p><p><strong>ä½œç”¨åŸŸé“¾å’Œæ‰§è¡Œä¸Šä¸‹æ–‡çš„å…³ç³»</strong></p><p>åœ¨ Javascript ä¸­åªæœ‰å‡½æ•°èƒ½è§„å®šä½œç”¨åŸŸï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ Scope æ˜¯å…¨å±€ä¸Šä¸‹æ–‡ä¸­çš„å±æ€§ï¼Œä¹Ÿæ˜¯æœ€å¤–å±‚çš„ä½œç”¨åŸŸé“¾ã€‚<br>å‡½æ•°å†…éƒ¨çš„å±æ€§ï¼ˆä½œç”¨åŸŸï¼‰æ˜¯åœ¨â€œé¢„è§£æâ€çš„æ—¶å€™å°±å·²ç»å­˜åœ¨çš„äº†ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰ä¸Šå±‚å˜é‡å¯¹è±¡ï¼Œå¹¶ä¸€ç›´ä¿å­˜åœ¨å‡½æ•°ä¸­ã€‚å°±ç®—å‡½æ•°æ°¸è¿œéƒ½æ²¡è¢«æ¿€æ´»ï¼ˆè°ƒç”¨ï¼‰ï¼Œä¹Ÿéƒ½è¿˜æ˜¯å­˜åœ¨å‡½æ•°å¯¹è±¡ä¸Šã€‚</p><p><strong>æ‰§è¡Œä¸Šä¸‹æ–‡å®šä¹‰çš„ Scope å±æ€§å˜åŒ–è¿‡ç¨‹</strong></p><p>æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„[AO]æ˜¯å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼Œè€Œ[[Scope]]åˆ™æ˜¯è¯¥å‡½æ•°å±æ€§ä½œç”¨åŸŸã€‚å½“å‰å‡½æ•°çš„ AO æ°¸è¿œæ˜¯åœ¨æœ€å‰é¢çš„ï¼Œä¿å­˜åœ¨å †æ ˆä¸Šï¼Œè€Œæ¯å½“å‡½æ•°æ¿€æ´»çš„æ—¶å€™ï¼Œè¿™äº› AO éƒ½ä¼šå‹æ ˆåˆ°è¯¥å †æ ˆä¸Šï¼ŒæŸ¥è¯¢å˜é‡æ˜¯å…ˆä»æ ˆé¡¶å¼€å§‹æŸ¥æ‰¾ï¼Œä¹Ÿå°±æ˜¯è¯´ä½œç”¨åŸŸé“¾çš„æ ˆé¡¶æ°¸è¿œæ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç æ‰€åœ¨ç¯å¢ƒçš„ VO/AOï¼ˆå½“å‡½æ•°è°ƒç”¨ç»“æŸåï¼Œåˆ™ä¼šä»æ ˆé¡¶ç§»é™¤ï¼‰ã€‚</p><p>é€šä¿—ç‚¹è®²å°±æ˜¯ï¼šJavaScript è§£é‡Šå™¨é€šè¿‡ä½œç”¨åŸŸé“¾å°†ä¸åŒæ‰§è¡Œä½ç½®ä¸Šçš„å˜é‡å¯¹è±¡ä¸²è¿æˆåˆ—è¡¨ï¼Œå¹¶å€ŸåŠ©è¿™ä¸ªåˆ—è¡¨å¸®åŠ© JavaScript è§£é‡Šå™¨æ£€ç´¢å˜é‡çš„å€¼ã€‚ä½œç”¨åŸŸé“¾ç›¸å½“äºä¸€ä¸ªç´¢å¼•è¡¨ï¼Œå¹¶é€šè¿‡ç¼–å·æ¥å­˜å‚¨å®ƒä»¬çš„åµŒå¥—å…³ç³»ã€‚å½“ JavaScript è§£é‡Šå™¨æ£€ç´¢å˜é‡çš„å€¼ï¼Œä¼šæŒ‰ç€è¿™ä¸ªç´¢å¼•ç¼–å·è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€å¯¹è±¡ä¸ºæ­¢ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å€¼ï¼Œåˆ™ä¼ é€’ä¸€ä¸ªç‰¹æ®Šçš„ undefined å€¼ã€‚</p><p>æ˜¯ä¸æ˜¯åˆæƒ³åˆ°äº†ä¸€æ¡ JavaScript é«˜æ•ˆå‡†åˆ™ï¼šä¸ºä»€ä¹ˆè¯´åœ¨è¯¥å‡½æ•°å†…å®šä¹‰çš„å˜é‡ï¼Œèƒ½å‡å°‘å‡½æ•°åµŒå¥—èƒ½æé«˜ JavaScript çš„æ•ˆç‡ï¼Ÿå› ä¸ºå‡½æ•°å®šä¹‰çš„å˜é‡ï¼Œæ­¤å˜é‡æ°¸è¿œåœ¨æ ˆé¡¶ï¼Œè¿™æ ·å­æŸ¥è¯¢å˜é‡çš„æ—¶é—´å˜çŸ­äº†ã€‚</p><p><strong>ä½œç”¨åŸŸé“¾ç‰¹æ€§</strong><br>é—­åŒ…æ˜¯ä½œç”¨åŸŸé“¾ç‰¹æ€§çš„åº”ç”¨</p><p>ä¿è¯æŸ¥è¯¢æœ‰åºçš„è®¿é—®æ‰€æœ‰å˜é‡å’Œå‡½æ•°<br>ä½œç”¨åŸŸé“¾æ„Ÿè§‰å°±æ˜¯ä¸€ä¸ª VO é“¾è¡¨ï¼Œå½“è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œå…ˆåœ¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ª VO ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ç»§ç»­åœ¨ç¬¬äºŒä¸ª VO ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æœç´¢ç»“æŸï¼Œä¹Ÿå°±æ˜¯æœç´¢åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒçš„ VO ä¸­ã€‚è¿™ä¹Ÿå°±å½¢æˆäº†ä½œç”¨åŸŸé“¾çš„æ¦‚å¿µã€‚</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> æµè§ˆå™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsåŸå‹é“¾</title>
      <link href="post/js%E5%8E%9F%E5%9E%8B%E9%93%BE/"/>
      <url>post/js%E5%8E%9F%E5%9E%8B%E9%93%BE/</url>
      
        <content type="html"><![CDATA[<p><img src="/img/prototype.jpg" alt="prototype"></p><h3 id="å…ˆçœ‹ç¬¬ä¸€è¡Œ"><a href="#å…ˆçœ‹ç¬¬ä¸€è¡Œ" class="headerlink" title="å…ˆçœ‹ç¬¬ä¸€è¡Œ"></a>å…ˆçœ‹ç¬¬ä¸€è¡Œ</h3><p>æˆ‘ä»¬å®šä¹‰çš„ show å‡½æ•°åœ¨ Foo.prototype ä¸­ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ f1.show()æ—¶ï¼Œjs å‘ç° f1 æœ¬èº«æ²¡æœ‰ show è¿™ä¸ªå±æ€§ï¼Œæ‰€ä»¥å®ƒå°±åˆ° f1 çš„åŸå‹ï¼ˆä¹Ÿå°±æ˜¯__proto__æŒ‡å‘çš„å¯¹è±¡ï¼‰å»æ‰¾ï¼Œæ‰¾åˆ°äº†å°±å¯ä»¥è°ƒç”¨ã€‚</p><blockquote><p>æ³¨ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæ–¹æ³• hasOwnProperty()æ¥æ£€æŸ¥å¯¹è±¡æœ¬èº«æ˜¯å¦æœ‰æŸä¸ªå±æ€§ï¼Œå¦‚æœæœ‰åˆ™è¿”å› trueï¼›å¦‚æœè¿™ä¸ªå±æ€§åœ¨å®ƒçš„åŸå‹é“¾ä¸Šæˆ–åŸå‹é“¾ä¸Šéƒ½æ²¡æœ‰ï¼Œåˆ™è¿”å› falseï¼›</p></blockquote><p>å›¾ç‰‡ç¬¬ä¸€è¡Œå‘Šè¯‰äº†æˆ‘ä»¬ 4 ç‚¹ï¼š</p><ol><li>æ‰€æœ‰å‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype æŒ‡é’ˆï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡ï¼Œå¦‚å›¾ä¸­çš„ Foo çš„ prototype æŒ‡é’ˆã€‚prototype æŒ‡é’ˆçš„æ„ä¹‰æ˜¯ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ„é€ å‡½æ•° new å‡ºæ–°å¯¹è±¡çš„æ—¶å€™ï¼Œæ–°å¯¹è±¡çš„åŸå‹æ˜¯è°ã€‚</li><li>æ„é€ å‡½æ•°çš„ prototype æ‰€æŒ‡å‘çš„åŸå‹å¯¹è±¡æœ‰ä¸€ä¸ª constructor æŒ‡é’ˆï¼ŒæŒ‡å›æ„é€ å‡½æ•°ã€‚å¦‚å›¾ä¸­ Foo.prototype çš„ constructor æŒ‡é’ˆæŒ‡å‘ Fooã€‚constructor æŒ‡é’ˆæœ‰åŠ©äºæˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°æ˜¯è°ã€‚</li><li>__proto__æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ï¼Œjs åœ¨ new ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šå°†å®ƒçš„__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œf1ã€f2 è¿™äº›å®ä¾‹å¯¹è±¡çš„__proto__éƒ½æŒ‡å‘äº† Foo.prototypeã€‚</li><li>å¦‚æœä¸€ä¸ªå¯¹è±¡çš„__proto__`æŒ‡å‘äº†å¦ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå‰è€…å°±ç»§æ‰¿äº†åè€…çš„æ‰€æœ‰å±æ€§ã€‚</li></ol><h3 id="æ¥ç€å›¾ç‰‡å¾€ä¸‹çœ‹ï¼Œå®ƒå±•ç¤ºäº†-js-å¯¹è±¡ç»§æ‰¿å…³ç³»"><a href="#æ¥ç€å›¾ç‰‡å¾€ä¸‹çœ‹ï¼Œå®ƒå±•ç¤ºäº†-js-å¯¹è±¡ç»§æ‰¿å…³ç³»" class="headerlink" title="æ¥ç€å›¾ç‰‡å¾€ä¸‹çœ‹ï¼Œå®ƒå±•ç¤ºäº† js å¯¹è±¡ç»§æ‰¿å…³ç³»"></a>æ¥ç€å›¾ç‰‡å¾€ä¸‹çœ‹ï¼Œå®ƒå±•ç¤ºäº† js å¯¹è±¡ç»§æ‰¿å…³ç³»</h3><p>æˆ‘ä»¬å…ˆçœ‹çœ‹ Foo çš„åŸå‹å§ï¼Foo æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„æ„é€ å‡½æ•°æ˜¯ js å†…éƒ¨çš„ function Function()ï¼ŒFunction çš„ prototype æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ Function.prototypeï¼Œå› æ­¤ Foo çš„__proto__å°±æŒ‡å‘äº† Function.prototypeï¼Œå¦‚å›¾ã€‚</p><blockquote><p>æ‰€æœ‰çš„å‡½æ•°éƒ½ä»¥ function Function()ä¸ºæ„é€ å‡½æ•°ï¼Œå› æ­¤ï¼Œæ‰€æœ‰å‡½æ•°ï¼ˆåŒ…æ‹¬ function Function()å’Œ function Object()ï¼‰çš„__proto__éƒ½æŒ‡å‘ Function.prototype è¿™ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­å®šä¹‰äº†æ‰€æœ‰å‡½æ•°éƒ½å…±æœ‰çš„æ–¹æ³•ï¼Œæ¯”å¦‚ call()ã€apply()ç­‰ã€‚</p></blockquote><p>æˆ‘ä»¬ç»§ç»­æ·±å…¥ä¸‹å»ï¼ŒFunction.prototype è¿™ä¸ªå¯¹è±¡ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œå®ƒçš„æ„é€ å‡½æ•°æ˜¯ js å†…ç½®çš„ function Object()ï¼Œfunction Object()çš„ prototype æŒ‡å‘ Object.prototypeï¼Œå› æ­¤ Function.prototype.__proto__å°±æŒ‡å‘ Object.prototypeï¼Œè¿™ä¸ªå¯¹è±¡ä¸­å®šä¹‰äº†æ‰€æœ‰å¯¹è±¡å…±æœ‰çš„å±æ€§ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰è¯´çš„ hasOwnProperty()å’Œ toString()ç­‰ã€‚</p><blockquote><p>åŒç†ï¼ŒFoo.prototype å’Œå…¶ä»–è‡ªå®šä¹‰çš„å¯¹è±¡ä¹Ÿæ˜¯__proto__æŒ‡å‘ Object.prototype å¯¹è±¡ï¼Œå°±ä¸éœ€è¦è¯´æ˜äº†ã€‚</p></blockquote><p>Object.prototype å°±æ˜¯åŸå‹é“¾çš„ç»ˆç‚¹äº†ï¼Œå®ƒçš„__proto__æ˜¯ nullï¼Œjs æŸ¥æ‰¾å±æ€§æ—¶ï¼Œå¦‚æœåˆ°è¿™é‡Œè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œé‚£å°±æ˜¯ undefined äº†ã€‚</p><p>åˆ°è¿™é‡Œå°±ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´åœ¨ js ä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡äº†ï¼Œå®ƒå°±æ˜¯ç»§æ‰¿è‡ªå¯¹è±¡çš„ï¼</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> prototype </tag>
            
            <tag> åŸå‹é“¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼ºå¤§çš„Gridç½‘æ ¼å¸ƒå±€</title>
      <link href="post/%E5%BC%BA%E5%A4%A7%E7%9A%84Grid%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80/"/>
      <url>post/%E5%BC%BA%E5%A4%A7%E7%9A%84Grid%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>Grid ç½‘æ ¼å¸ƒå±€æ˜¯ç½‘é¡µæœ€å¼ºå¤§çš„å¸ƒå±€æ–¹æ¡ˆ</p><p><img src="/img/grid.png"></p><p>ä¸Šå›¾å°±æ˜¯ Grid çš„æ‹¿æ‰‹å¥½æˆ</p><p>Grid å¸ƒå±€å°†å®¹å™¨åˆ’åˆ†ä¸ºâ€œè¡Œâ€å’Œâ€œåˆ—â€æ¨ªçºµåˆ†å¸ƒçš„â€œå•å…ƒæ ¼â€ï¼Œç»„æˆâ€œäºŒç»´å¸ƒå±€â€ï¼Œç„¶åå°†â€œé¡¹ç›®â€æ”¾ç½®åœ¨æŒ‡å®šçš„å•å…ƒæ ¼å†…ï¼Œå½¢æˆå¤æ‚å¸ƒå±€ã€‚</p><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><p><strong>å®¹å™¨å’Œé¡¹ç›®</strong></p><p>é‡‡ç”¨ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸï¼Œç§°ä¸ºâ€å®¹å™¨â€ï¼ˆcontainerï¼‰ã€‚å®¹å™¨å†…éƒ¨é‡‡ç”¨ç½‘æ ¼å®šä½çš„å­å…ƒç´ ï¼Œç§°ä¸ºâ€é¡¹ç›®â€ï¼ˆitemï¼‰ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€å¤–å±‚çš„ &lt;div&gt;å…ƒç´ å°±æ˜¯å®¹å™¨ï¼Œå†…å±‚çš„ä¸‰ä¸ª&lt;div&gt;å…ƒç´ å°±æ˜¯é¡¹ç›®ã€‚<br>æ³¨æ„ï¼šé¡¹ç›®åªèƒ½æ˜¯å®¹å™¨çš„é¡¶å±‚å­å…ƒç´ ï¼Œä¸åŒ…å«é¡¹ç›®çš„å­å…ƒç´ ï¼Œæ¯”å¦‚ä¸Šé¢ä»£ç çš„&lt;p&gt;å…ƒç´ å°±ä¸æ˜¯é¡¹ç›®ã€‚Grid å¸ƒå±€åªå¯¹é¡¹ç›®ç”Ÿæ•ˆã€‚</p><p><strong>è¡Œå’Œåˆ—</strong></p><p>å®¹å™¨æ°´å¹³æ–¹å‘åŒºåŸŸç§°ä¸ºï¼šâ€œè¡Œâ€ ï¼ˆrowï¼‰ï¼Œå‚ç›´æ–¹å‘åŒºåŸŸç§°ä¸ºï¼šâ€œåˆ—â€ ï¼ˆcolumnï¼‰</p><p><img src="/img/grid-row-column.png"></p><p><strong>å•å…ƒæ ¼</strong></p><p>è¡Œå’Œåˆ—çš„äº¤å‰åŒºåŸŸï¼Œç§°ä¸ºâ€å•å…ƒæ ¼â€ï¼ˆcellï¼‰ã€‚<br>æ­£å¸¸æƒ…å†µä¸‹ï¼Œn è¡Œå’Œ m åˆ—ä¼šäº§ç”Ÿ n x m ä¸ªå•å…ƒæ ¼ã€‚æ¯”å¦‚ï¼Œ3 è¡Œ 3 åˆ—ä¼šäº§ç”Ÿ 9 ä¸ªå•å…ƒæ ¼ã€‚</p><p><strong>ç½‘æ ¼çº¿</strong></p><p>åˆ’åˆ†ç½‘æ ¼çš„çº¿ï¼Œç§°ä¸ºâ€ç½‘æ ¼çº¿â€ï¼ˆgrid lineï¼‰ã€‚æ°´å¹³ç½‘æ ¼çº¿åˆ’åˆ†å‡ºè¡Œï¼Œå‚ç›´ç½‘æ ¼çº¿åˆ’åˆ†å‡ºåˆ—ã€‚<br>æ­£å¸¸æƒ…å†µä¸‹ï¼Œn è¡Œæœ‰ n + 1 æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œm åˆ—æœ‰ m + 1 æ ¹å‚ç›´ç½‘æ ¼çº¿ï¼Œæ¯”å¦‚ä¸‰è¡Œå°±æœ‰å››æ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚</p><p><img src="/img/grid-line.png"></p><p>ä¸Šå›¾æ˜¯ä¸€ä¸ª 4 x 4 çš„ç½‘æ ¼ï¼Œå…±æœ‰ 5 æ ¹æ°´å¹³ç½‘æ ¼çº¿å’Œ 5 æ ¹å‚ç›´ç½‘æ ¼çº¿ã€‚</p><h2 id="å®¹å™¨å±æ€§"><a href="#å®¹å™¨å±æ€§" class="headerlink" title="å®¹å™¨å±æ€§"></a>å®¹å™¨å±æ€§</h2><p>Grid å¸ƒå±€çš„å±æ€§åˆ†æˆä¸¤ç±»ã€‚ä¸€ç±»å®šä¹‰åœ¨å®¹å™¨ä¸Šé¢ï¼Œç§°ä¸ºå®¹å™¨å±æ€§ï¼›å¦ä¸€ç±»å®šä¹‰åœ¨é¡¹ç›®ä¸Šé¢ï¼Œç§°ä¸ºé¡¹ç›®å±æ€§ã€‚è¿™éƒ¨åˆ†å…ˆä»‹ç»å®¹å™¨å±æ€§</p><h3 id="display-å±æ€§"><a href="#display-å±æ€§" class="headerlink" title="display å±æ€§"></a>display å±æ€§</h3><p>display: grid æŒ‡å®šä¸€ä¸ªå®¹å™¨é‡‡ç”¨ç½‘æ ¼å¸ƒå±€ã€‚</p><pre><code>æ³¨æ„ï¼Œè®¾ä¸ºç½‘æ ¼å¸ƒå±€ä»¥åï¼Œå®¹å™¨å­å…ƒç´ ï¼ˆé¡¹ç›®ï¼‰çš„floatã€display: inline-blockã€display: table-cellã€vertical-alignå’Œcolumn-*ç­‰è®¾ç½®éƒ½å°†å¤±æ•ˆã€‚</code></pre><h3 id="grid-template-columns-grid-template-rows"><a href="#grid-template-columns-grid-template-rows" class="headerlink" title="grid-template-columns/grid-template-rows"></a>grid-template-columns/grid-template-rows</h3><p>å®¹å™¨æŒ‡å®šäº†ç½‘æ ¼å¸ƒå±€ä»¥åï¼Œæ¥ç€å°±è¦åˆ’åˆ†è¡Œå’Œåˆ—ã€‚grid-template-columns å±æ€§å®šä¹‰æ¯ä¸€åˆ—çš„åˆ—å®½ï¼Œgrid-template-rows å±æ€§å®šä¹‰æ¯ä¸€è¡Œçš„è¡Œé«˜ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">    grid-template-rows: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç æŒ‡å®šäº†ä¸€ä¸ªä¸‰è¡Œä¸‰åˆ—çš„ç½‘æ ¼ï¼Œåˆ—å®½å’Œè¡Œé«˜éƒ½æ˜¯ 100pxã€‚</p><p><img src="/img/grid-template-1.png"></p><p>é™¤äº†ä½¿ç”¨ç»å¯¹å•ä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">33.33%</span> <span class="number">33.33%</span> <span class="number">33.33%</span>;</span><br><span class="line">    grid-template-rows: <span class="number">33.33%</span> <span class="number">33.33%</span> <span class="number">33.33%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p><strong>repeat()</strong><br>æœ‰æ—¶å€™ï¼Œé‡å¤å†™åŒæ ·çš„å€¼éå¸¸éº»çƒ¦ï¼Œå°¤å…¶ç½‘æ ¼å¾ˆå¤šæ—¶ã€‚è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ repeat()å‡½æ•°ï¼Œç®€åŒ–é‡å¤çš„å€¼ã€‚ä¸Šé¢çš„ä»£ç ç”¨ repeat()æ”¹å†™å¦‚ä¸‹ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">33.33%</span>);</span><br><span class="line">    grid-template-rows: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">33.33%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> repeat()æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é‡å¤çš„æ¬¡æ•°ï¼ˆä¸Šä¾‹æ˜¯ 3ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€è¦é‡å¤çš„å€¼ã€‚</p><p> repeat()é‡å¤æŸç§æ¨¡å¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="built_in">repeat</span>(<span class="number">2</span>, <span class="number">100px</span> <span class="number">20px</span> <span class="number">80px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç å®šä¹‰äº† 6 åˆ—ï¼Œç¬¬ä¸€åˆ—å’Œç¬¬å››åˆ—çš„å®½åº¦ä¸º 100pxï¼Œç¬¬äºŒåˆ—å’Œç¬¬äº”åˆ—ä¸º 20pxï¼Œç¬¬ä¸‰åˆ—å’Œç¬¬å…­åˆ—ä¸º 80pxã€‚</p><p><img src="/img/grid-template-2.png"></p></li><li><p><strong>auto-fill å…³é”®å­—</strong><br>æœ‰æ—¶ï¼Œå•å…ƒæ ¼çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å®¹å™¨çš„å¤§å°ä¸ç¡®å®šã€‚å¦‚æœå¸Œæœ›æ¯ä¸€è¡Œï¼ˆæˆ–æ¯ä¸€åˆ—ï¼‰å®¹çº³å°½å¯èƒ½å¤šçš„å•å…ƒæ ¼ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ auto-fill å…³é”®å­—è¡¨ç¤ºè‡ªåŠ¨å¡«å……ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç è¡¨ç¤ºæ¯åˆ—å®½åº¦ 100pxï¼Œç„¶åè‡ªåŠ¨å¡«å……ï¼Œç›´åˆ°å®¹å™¨ä¸èƒ½æ”¾ç½®æ›´å¤šçš„åˆ—ã€‚</p><p><img src="/img/grid-auto-fill.png"></p></li><li><p><strong>fr å…³é”®å­—</strong></p><p> ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºæ¯”ä¾‹å…³ç³»ï¼Œç½‘æ ¼å¸ƒå±€æä¾›äº†<code>fr</code>å…³é”®å­—ï¼ˆfraction çš„ç¼©å†™ï¼Œæ„ä¸ºâ€ç‰‡æ®µâ€ï¼‰ã€‚å¦‚æœä¸¤åˆ—çš„å®½åº¦åˆ†åˆ«ä¸º<code>1fr</code>å’Œ<code>2fr</code>ï¼Œå°±è¡¨ç¤ºåè€…æ˜¯å‰è€…çš„ä¸¤å€ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç è¡¨ç¤ºä¸¤ä¸ªç›¸åŒå®½åº¦çš„åˆ—ã€‚</p><p> <img src="https://www.wangbase.com/blogimg/asset/201903/1_bg2019032509.png" alt="1_bg2019032509"></p><p> <code>fr</code>å¯ä»¥ä¸ç»å¯¹é•¿åº¦çš„å•ä½ç»“åˆä½¿ç”¨ï¼Œè¿™æ—¶ä¼šéå¸¸æ–¹ä¾¿ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">150px</span> <span class="number">1</span>fr <span class="number">2</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œç¬¬ä¸€åˆ—çš„å®½åº¦ä¸º 150 åƒç´ ï¼Œç¬¬äºŒåˆ—çš„å®½åº¦æ˜¯ç¬¬ä¸‰åˆ—çš„ä¸€åŠã€‚</p><p> <img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032510.png" alt="bg2019032510"></p></li><li><p><strong>minmax()</strong></p><p> <code>minmax()</code>å‡½æ•°äº§ç”Ÿä¸€ä¸ªé•¿åº¦èŒƒå›´ï¼Œè¡¨ç¤ºé•¿åº¦å°±åœ¨è¿™ä¸ªèŒƒå›´ä¹‹ä¸­ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-template-<span class="attribute">columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="built_in">minmax</span>(<span class="number">100px</span>, <span class="number">1</span>fr);</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>minmax(100px, 1fr)</code>è¡¨ç¤ºåˆ—å®½ä¸å°äº<code>100px</code>ï¼Œä¸å¤§äº<code>1fr</code>ã€‚</p></li><li><p>auto å…³é”®å­—</p><p> <code>auto</code>å…³é”®å­—è¡¨ç¤ºç”±æµè§ˆå™¨è‡ªå·±å†³å®šé•¿åº¦ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> auto <span class="number">100px</span>;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒåˆ—çš„å®½åº¦ï¼ŒåŸºæœ¬ä¸Šç­‰äºè¯¥åˆ—å•å…ƒæ ¼çš„æœ€å¤§å®½åº¦ï¼Œé™¤éå•å…ƒæ ¼å†…å®¹è®¾ç½®äº†<code>min-width</code>ï¼Œä¸”è¿™ä¸ªå€¼å¤§äºæœ€å¤§å®½åº¦ã€‚</p></li><li><p>ç½‘æ ¼çº¿çš„åç§°</p><p> <code>grid-template-columns</code>å±æ€§å’Œ<code>grid-template-rows</code>å±æ€§é‡Œé¢ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·ï¼ŒæŒ‡å®šæ¯ä¸€æ ¹ç½‘æ ¼çº¿çš„åå­—ï¼Œæ–¹ä¾¿ä»¥åçš„å¼•ç”¨ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: [c1] <span class="number">100px</span> [c2] <span class="number">100px</span> [c3] auto [c4];</span><br><span class="line">    grid-template-rows: [r1] <span class="number">100px</span> [r2] <span class="number">100px</span> [r3] auto [r4];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç æŒ‡å®šç½‘æ ¼å¸ƒå±€ä¸º 3 è¡Œ x 3 åˆ—ï¼Œå› æ­¤æœ‰ 4 æ ¹å‚ç›´ç½‘æ ¼çº¿å’Œ 4 æ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚æ–¹æ‹¬å·é‡Œé¢ä¾æ¬¡æ˜¯è¿™å…«æ ¹çº¿çš„åå­—ã€‚</p><p> ç½‘æ ¼å¸ƒå±€å…è®¸åŒä¸€æ ¹çº¿æœ‰å¤šä¸ªåå­—ï¼Œæ¯”å¦‚<code>[fifth-line row-5]</code>ã€‚</p></li><li><p>å¸ƒå±€å®ä¾‹</p><p> <code>grid-template-columns</code>å±æ€§å¯¹äºç½‘é¡µå¸ƒå±€éå¸¸æœ‰ç”¨ã€‚ä¸¤æ å¼å¸ƒå±€åªéœ€è¦ä¸€è¡Œä»£ç ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">70%</span> <span class="number">30%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸Šé¢ä»£ç å°†å·¦è¾¹æ è®¾ä¸º 70%ï¼Œå³è¾¹æ è®¾ä¸º 30%ã€‚</p><p> ä¼ ç»Ÿçš„åäºŒç½‘æ ¼å¸ƒå±€ï¼Œå†™èµ·æ¥ä¹Ÿå¾ˆå®¹æ˜“ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-template-<span class="attribute">columns</span>: <span class="built_in">repeat</span>(<span class="number">12</span>, <span class="number">1</span>fr);</span><br></pre></td></tr></table></figure></li></ol><h3 id="grid-row-gapã€grid-column-gapã€grid-gap"><a href="#grid-row-gapã€grid-column-gapã€grid-gap" class="headerlink" title="grid-row-gapã€grid-column-gapã€grid-gap"></a>grid-row-gapã€grid-column-gapã€grid-gap</h3><p><code>grid-row-gap</code>å±æ€§è®¾ç½®è¡Œä¸è¡Œçš„é—´éš”ï¼ˆè¡Œé—´è·ï¼‰ï¼Œ<code>grid-column-gap</code>å±æ€§è®¾ç½®åˆ—ä¸åˆ—çš„é—´éš”ï¼ˆåˆ—é—´è·ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    grid-row-gap: <span class="number">20px</span>;</span><br><span class="line">    grid-<span class="attribute">column-gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œgrid-row-gap ç”¨äºè®¾ç½®è¡Œé—´è·ï¼Œgrid-column-gap ç”¨äºè®¾ç½®åˆ—é—´è·ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032511.png" alt="bg2019032511"></p><p><code>grid-gap</code>å±æ€§æ˜¯<code>grid-column-gap</code>å’Œ<code>grid-row-gap</code>çš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œè¯­æ³•å¦‚ä¸‹ã€‚</p><p>å› æ­¤ï¼Œä¸Šé¢ä¸€æ®µ CSS ä»£ç ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    grid-gap: <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ ¹æ®æœ€æ–°æ ‡å‡†ï¼Œä¸Šé¢ä¸‰ä¸ªå±æ€§åçš„<code>grid-</code>å‰ç¼€å·²ç»åˆ é™¤ï¼Œ<code>grid-column-gap</code>å’Œ<code>grid-row-gap</code>å†™æˆ<code>column-gap</code>å’Œ<code>row-gap</code>ï¼Œ<code>grid-gap</code>å†™æˆ<code>gap</code>ã€‚</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    gap: <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="grid-template-area"><a href="#grid-template-area" class="headerlink" title="grid-template-area"></a>grid-template-area</h3><p>ç½‘æ ¼å¸ƒå±€å…è®¸æŒ‡å®šâ€åŒºåŸŸâ€ï¼ˆareaï¼‰ï¼Œä¸€ä¸ªåŒºåŸŸç”±å•ä¸ªæˆ–å¤šä¸ªå•å…ƒæ ¼ç»„æˆã€‚<code>grid-template-areas</code>å±æ€§ç”¨äºå®šä¹‰åŒºåŸŸã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">    grid-template-rows: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">    grid-template-areas:</span><br><span class="line">        <span class="string">&#x27;a b c&#x27;</span></span><br><span class="line">        <span class="string">&#x27;d e f&#x27;</span></span><br><span class="line">        <span class="string">&#x27;g h i&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç å…ˆåˆ’åˆ†å‡º 9 ä¸ªå•å…ƒæ ¼ï¼Œç„¶åå°†å…¶å®šåä¸º<code>a</code>åˆ°<code>i</code>çš„ä¹ä¸ªåŒºåŸŸï¼Œåˆ†åˆ«å¯¹åº”è¿™ä¹ä¸ªå•å…ƒæ ¼ã€‚</p><p>å¤šä¸ªå•å…ƒæ ¼åˆå¹¶æˆä¸€ä¸ªåŒºåŸŸçš„å†™æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grid-template-areas:</span><br><span class="line">    <span class="string">&#x27;a a a&#x27;</span></span><br><span class="line">    <span class="string">&#x27;b b b&#x27;</span></span><br><span class="line">    <span class="string">&#x27;c c c&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç å°† 9 ä¸ªå•å…ƒæ ¼åˆ†æˆ<code>a</code>ã€<code>b</code>ã€<code>c</code>ä¸‰ä¸ªåŒºåŸŸã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¸ƒå±€å®ä¾‹ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grid-template-areas:</span><br><span class="line">    <span class="string">&#x27;header header header&#x27;</span></span><br><span class="line">    <span class="string">&#x27;main main sidebar&#x27;</span></span><br><span class="line">    <span class="string">&#x27;footer footer footer&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¶éƒ¨æ˜¯é¡µçœ‰åŒºåŸŸ<code>header</code>ï¼Œåº•éƒ¨æ˜¯é¡µè„šåŒºåŸŸ<code>footer</code>ï¼Œä¸­é—´éƒ¨åˆ†åˆ™ä¸º<code>main</code>å’Œ<code>sidebar</code>ã€‚</p><p>å¦‚æœæŸäº›åŒºåŸŸä¸éœ€è¦åˆ©ç”¨ï¼Œåˆ™ä½¿ç”¨â€ç‚¹â€ï¼ˆ<code>.</code>ï¼‰è¡¨ç¤ºã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grid-template-areas:</span><br><span class="line">    <span class="string">&#x27;a . c&#x27;</span></span><br><span class="line">    <span class="string">&#x27;d . f&#x27;</span></span><br><span class="line">    <span class="string">&#x27;g . i&#x27;</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œä¸­é—´ä¸€åˆ—ä¸ºç‚¹ï¼Œè¡¨ç¤ºæ²¡æœ‰ç”¨åˆ°è¯¥å•å…ƒæ ¼ï¼Œæˆ–è€…è¯¥å•å…ƒæ ¼ä¸å±äºä»»ä½•åŒºåŸŸã€‚</p><p><strong>æ³¨æ„ï¼ŒåŒºåŸŸçš„å‘½åä¼šå½±å“åˆ°ç½‘æ ¼çº¿ã€‚æ¯ä¸ªåŒºåŸŸçš„èµ·å§‹ç½‘æ ¼çº¿ï¼Œä¼šè‡ªåŠ¨å‘½åä¸º<code>åŒºåŸŸå-start</code>ï¼Œç»ˆæ­¢ç½‘æ ¼çº¿è‡ªåŠ¨å‘½åä¸º<code>åŒºåŸŸå-end</code>ã€‚</strong></p><p><strong>æ¯”å¦‚ï¼ŒåŒºåŸŸåä¸º<code>header</code>ï¼Œåˆ™èµ·å§‹ä½ç½®çš„æ°´å¹³ç½‘æ ¼çº¿å’Œå‚ç›´ç½‘æ ¼çº¿å«åš<code>header-start</code>ï¼Œç»ˆæ­¢ä½ç½®çš„æ°´å¹³ç½‘æ ¼çº¿å’Œå‚ç›´ç½‘æ ¼çº¿å«åš<code>header-end</code>ã€‚</strong></p><h3 id="grid-auto-flow"><a href="#grid-auto-flow" class="headerlink" title="grid-auto-flow"></a>grid-auto-flow</h3><p>åˆ’åˆ†ç½‘æ ¼ä»¥åï¼Œå®¹å™¨çš„å­å…ƒç´ ä¼šæŒ‰ç…§é¡ºåºï¼Œè‡ªåŠ¨æ”¾ç½®åœ¨æ¯ä¸€ä¸ªç½‘æ ¼ã€‚é»˜è®¤çš„æ”¾ç½®é¡ºåºæ˜¯â€å…ˆè¡Œååˆ—â€ï¼Œå³å…ˆå¡«æ»¡ç¬¬ä¸€è¡Œï¼Œå†å¼€å§‹æ”¾å…¥ç¬¬äºŒè¡Œï¼Œå³ä¸‹å›¾æ•°å­—çš„é¡ºåºã€‚<img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032506.png" alt="bg2019032506"></p><p>è¿™ä¸ªé¡ºåºç”±<code>grid-auto-flow</code>å±æ€§å†³å®šï¼Œé»˜è®¤å€¼æ˜¯<code>row</code>ï¼Œå³â€å…ˆè¡Œååˆ—â€ã€‚ä¹Ÿå¯ä»¥å°†å®ƒè®¾æˆ<code>column</code>ï¼Œå˜æˆâ€å…ˆåˆ—åè¡Œâ€ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-<span class="attribute">auto</span>-flow: column;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç è®¾ç½®äº† column ä»¥åï¼Œæ”¾ç½®é¡ºåºå°±å˜æˆäº†ä¸‹å›¾ã€‚<img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032512.png" alt="bg2019032512"></p><p>grid-auto-flow å±æ€§é™¤äº†è®¾ç½®æˆ row å’Œ columnï¼Œè¿˜å¯ä»¥è®¾æˆ row dense å’Œ column denseã€‚è¿™ä¸¤ä¸ªå€¼ä¸»è¦ç”¨äºï¼ŒæŸäº›é¡¹ç›®æŒ‡å®šä½ç½®ä»¥åï¼Œå‰©ä¸‹çš„é¡¹ç›®æ€ä¹ˆè‡ªåŠ¨æ”¾ç½®ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­è®© 1 å·é¡¹ç›®å’Œ 2 å·é¡¹ç›®å„å æ®ä¸¤ä¸ªå•å…ƒæ ¼ï¼Œç„¶ååœ¨é»˜è®¤çš„ grid-auto-flow: row æƒ…å†µä¸‹ï¼Œä¼šäº§ç”Ÿä¸‹é¢è¿™æ ·çš„å¸ƒå±€ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032513.png" alt="bg2019032513"></p><p>ä¸Šå›¾ä¸­ï¼Œ1 å·é¡¹ç›®åé¢çš„ä½ç½®æ˜¯ç©ºçš„ï¼Œè¿™æ˜¯å› ä¸º 3 å·é¡¹ç›®é»˜è®¤è·Ÿç€ 2 å·é¡¹ç›®ï¼Œæ‰€ä»¥ä¼šæ’åœ¨ 2 å·é¡¹ç›®åé¢ã€‚</p><p>ç°åœ¨ä¿®æ”¹è®¾ç½®ï¼Œè®¾ä¸º<code>row dense</code>ï¼Œè¡¨ç¤ºâ€å…ˆè¡Œååˆ—â€ï¼Œå¹¶ä¸”å°½å¯èƒ½ç´§å¯†å¡«æ»¡ï¼Œå°½é‡ä¸å‡ºç°ç©ºæ ¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-<span class="attribute">auto</span>-flow: row dense;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„æ•ˆæœå¦‚ä¸‹ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032514.png" alt="bg2019032514"></p><p>ä¸Šå›¾ä¼šå…ˆå¡«æ»¡ç¬¬ä¸€è¡Œï¼Œå†å¡«æ»¡ç¬¬äºŒè¡Œï¼Œæ‰€ä»¥ 3 å·é¡¹ç›®å°±ä¼šç´§è·Ÿåœ¨ 1 å·é¡¹ç›®çš„åé¢ã€‚8 å·é¡¹ç›®å’Œ 9 å·é¡¹ç›®å°±ä¼šæ’åˆ°ç¬¬å››è¡Œã€‚</p><p>å¦‚æœå°†è®¾ç½®æ”¹ä¸º<code>column dense</code>ï¼Œè¡¨ç¤ºâ€å…ˆåˆ—åè¡Œâ€ï¼Œå¹¶ä¸”å°½é‡å¡«æ»¡ç©ºæ ¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grid-<span class="attribute">auto</span>-flow: column dense;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„æ•ˆæœå¦‚ä¸‹ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032515.png" alt="bg2019032515"></p><p>ä¸Šå›¾ä¼šå…ˆå¡«æ»¡ç¬¬ä¸€åˆ—ï¼Œå†å¡«æ»¡ç¬¬ 2 åˆ—ï¼Œæ‰€ä»¥ 3 å·é¡¹ç›®åœ¨ç¬¬ä¸€åˆ—ï¼Œ4 å·é¡¹ç›®åœ¨ç¬¬äºŒåˆ—ã€‚8 å·é¡¹ç›®å’Œ 9 å·é¡¹ç›®è¢«æŒ¤åˆ°äº†ç¬¬å››åˆ—ã€‚</p><h3 id="Justify-items-algin-items-place-items"><a href="#Justify-items-algin-items-place-items" class="headerlink" title="Justify-items/algin-items/place-items"></a>Justify-items/algin-items/place-items</h3><p><code>justify-items</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œ<code>align-items</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    justify-items: start | end | center | stretch;</span><br><span class="line">    <span class="attribute">align-items</span>: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå±æ€§çš„å†™æ³•å®Œå…¨ç›¸åŒï¼Œéƒ½å¯ä»¥å–ä¸‹é¢è¿™äº›å€¼ã€‚</p><ul><li>  startï¼šå¯¹é½å•å…ƒæ ¼çš„èµ·å§‹è¾¹ç¼˜ã€‚</li><li>  endï¼šå¯¹é½å•å…ƒæ ¼çš„ç»“æŸè¾¹ç¼˜ã€‚</li><li>  centerï¼šå•å…ƒæ ¼å†…éƒ¨å±…ä¸­ã€‚</li><li>  stretchï¼šæ‹‰ä¼¸ï¼Œå æ»¡å•å…ƒæ ¼çš„æ•´ä¸ªå®½åº¦ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    justify-items: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå•å…ƒæ ¼çš„å†…å®¹å·¦å¯¹é½ï¼Œæ•ˆæœå¦‚ä¸‹å›¾ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032516.png" alt="bg2019032516"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">align-items</span>: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå•å…ƒæ ¼çš„å†…å®¹å¤´éƒ¨å¯¹é½ï¼Œæ•ˆæœå¦‚ä¸‹å›¾ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032517.png" alt="bg2019032517"></p><p><strong><code>place-items</code>å±æ€§æ˜¯<code>align-items</code>å±æ€§å’Œ<code>justify-items</code>å±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-items: &lt;align-items&gt; &lt;justify-items&gt;;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-items: start end;</span><br></pre></td></tr></table></figure><p>å¦‚æœçœç•¥ç¬¬äºŒä¸ªå€¼ï¼Œåˆ™æµè§ˆå™¨è®¤ä¸ºä¸ç¬¬ä¸€ä¸ªå€¼ç›¸ç­‰ã€‚</p><h3 id="justify-content-align-content-place-content"><a href="#justify-content-align-content-place-content" class="headerlink" title="justify-content/align-content/place-content"></a>justify-content/align-content/place-content</h3><p><code>justify-content</code>å±æ€§æ˜¯æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œ<code>align-content</code>å±æ€§æ˜¯æ•´ä¸ªå†…å®¹åŒºåŸŸçš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">justify-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;</span><br><span class="line">    <span class="attribute">align-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå±æ€§çš„å†™æ³•å®Œå…¨ç›¸åŒï¼Œéƒ½å¯ä»¥å–ä¸‹é¢è¿™äº›å€¼ã€‚ï¼ˆä¸‹é¢çš„å›¾éƒ½ä»¥<code>justify-content</code>å±æ€§ä¸ºä¾‹ï¼Œ<code>align-content</code>å±æ€§çš„å›¾å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯å°†æ°´å¹³æ–¹å‘æ”¹æˆå‚ç›´æ–¹å‘ã€‚ï¼‰</p><ul><li>  start - å¯¹é½å®¹å™¨çš„èµ·å§‹è¾¹æ¡†ã€‚</li></ul><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032519.png" alt="bg2019032519"></p><ul><li>  end - å¯¹é½å®¹å™¨çš„ç»“æŸè¾¹æ¡†ã€‚</li></ul><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032518.png" alt="bg2019032518"></p><ul><li>  stretch - é¡¹ç›®å¤§å°æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œæ‹‰ä¼¸å æ®æ•´ä¸ªç½‘æ ¼å®¹å™¨ã€‚</li></ul><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032521.png" alt="bg2019032521"></p><ul><li>  space-around - æ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸å®¹å™¨è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</li></ul><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032522.png" alt="bg2019032522"></p><ul><li>  space-between - é¡¹ç›®ä¸é¡¹ç›®çš„é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¸å®¹å™¨è¾¹æ¡†ä¹‹é—´æ²¡æœ‰é—´éš”ã€‚</li></ul><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032523.png" alt="bg2019032523"></p><ul><li>  space-evenly - é¡¹ç›®ä¸é¡¹ç›®çš„é—´éš”ç›¸ç­‰ï¼Œé¡¹ç›®ä¸å®¹å™¨è¾¹æ¡†ä¹‹é—´ä¹Ÿæ˜¯åŒæ ·é•¿åº¦çš„é—´éš”ã€‚</li></ul><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032524.png" alt="bg2019032524"></p><p><code>place-content</code>å±æ€§æ˜¯<code>align-content</code>å±æ€§å’Œ<code>justify-content</code>å±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-<span class="attribute">content</span>: &lt;align-content&gt; &lt;justify-content&gt;;</span><br></pre></td></tr></table></figure><p>ä¾‹å­</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-<span class="attribute">content</span>: space-around space-evenly;</span><br></pre></td></tr></table></figure><p>å¦‚æœçœç•¥ç¬¬äºŒä¸ªå€¼ï¼Œæµè§ˆå™¨å°±ä¼šå‡å®šç¬¬äºŒä¸ªå€¼ç­‰äºç¬¬ä¸€ä¸ªå€¼ã€‚</p><h3 id="grid-auto-rows-grid-auto-columns"><a href="#grid-auto-rows-grid-auto-columns" class="headerlink" title="grid-auto-rows/grid-auto-columns"></a>grid-auto-rows/grid-auto-columns</h3><p>æœ‰æ—¶å€™ï¼Œä¸€äº›é¡¹ç›®çš„æŒ‡å®šä½ç½®ï¼Œåœ¨ç°æœ‰ç½‘æ ¼çš„å¤–éƒ¨ã€‚æ¯”å¦‚ç½‘æ ¼åªæœ‰ 3 åˆ—ï¼Œä½†æ˜¯æŸä¸€ä¸ªé¡¹ç›®æŒ‡å®šåœ¨ç¬¬ 5 è¡Œã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç”Ÿæˆå¤šä½™çš„ç½‘æ ¼ï¼Œä»¥ä¾¿æ”¾ç½®é¡¹ç›®ã€‚</p><p><code>grid-auto-columns</code>å±æ€§å’Œ<code>grid-auto-rows</code>å±æ€§ç”¨æ¥è®¾ç½®ï¼Œæµè§ˆå™¨è‡ªåŠ¨åˆ›å»ºçš„å¤šä½™ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚å®ƒä»¬çš„å†™æ³•ä¸<code>grid-template-columns</code>å’Œ<code>grid-template-rows</code>å®Œå…¨ç›¸åŒã€‚å¦‚æœä¸æŒ‡å®šè¿™ä¸¤ä¸ªå±æ€§ï¼Œæµè§ˆå™¨å®Œå…¨æ ¹æ®å•å…ƒæ ¼å†…å®¹çš„å¤§å°ï¼Œå†³å®šæ–°å¢ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚</p><p>æœ‰æ—¶å€™ï¼Œä¸€äº›é¡¹ç›®çš„æŒ‡å®šä½ç½®ï¼Œåœ¨ç°æœ‰ç½‘æ ¼çš„å¤–éƒ¨ã€‚æ¯”å¦‚ç½‘æ ¼åªæœ‰ 3 åˆ—ï¼Œä½†æ˜¯æŸä¸€ä¸ªé¡¹ç›®æŒ‡å®šåœ¨ç¬¬ 5 è¡Œã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ç”Ÿæˆå¤šä½™çš„ç½‘æ ¼ï¼Œä»¥ä¾¿æ”¾ç½®é¡¹ç›®ã€‚</p><p>grid-auto-columns å±æ€§å’Œ grid-auto-rows å±æ€§ç”¨æ¥è®¾ç½®ï¼Œæµè§ˆå™¨è‡ªåŠ¨åˆ›å»ºçš„å¤šä½™ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚å®ƒä»¬çš„å†™æ³•ä¸ grid-template-columns å’Œ grid-template-rows å®Œå…¨ç›¸åŒã€‚å¦‚æœä¸æŒ‡å®šè¿™ä¸¤ä¸ªå±æ€§ï¼Œæµè§ˆå™¨å®Œå…¨æ ¹æ®å•å…ƒæ ¼å†…å®¹çš„å¤§å°ï¼Œå†³å®šæ–°å¢ç½‘æ ¼çš„åˆ—å®½å’Œè¡Œé«˜ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">    grid-template-rows: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">    grid-<span class="attribute">auto</span>-rows: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç æŒ‡å®šæ–°å¢çš„è¡Œé«˜ç»Ÿä¸€ä¸º 50pxï¼ˆåŸå§‹çš„è¡Œé«˜ä¸º 100pxï¼‰ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032525.png" alt="bg2019032525"></p><h3 id="grid-template-grid"><a href="#grid-template-grid" class="headerlink" title="grid-template / grid"></a>grid-template / grid</h3><p><code>grid-template</code>å±æ€§æ˜¯<code>grid-template-columns</code>ã€<code>grid-template-rows</code>å’Œ<code>grid-template-areas</code>è¿™ä¸‰ä¸ªå±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚</p><p><code>grid</code>å±æ€§æ˜¯<code>grid-template-rows</code>ã€<code>grid-template-columns</code>ã€<code>grid-template-areas</code>ã€ <code>grid-auto-rows</code>ã€<code>grid-auto-columns</code>ã€<code>grid-auto-flow</code>è¿™å…­ä¸ªå±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚</p><p>ä»æ˜“è¯»æ˜“å†™çš„è§’åº¦è€ƒè™‘ï¼Œè¿˜æ˜¯å»ºè®®ä¸è¦åˆå¹¶å±æ€§ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»è¿™ä¸¤ä¸ªå±æ€§äº†ã€‚</p><h2 id="é¡¹ç›®å±æ€§"><a href="#é¡¹ç›®å±æ€§" class="headerlink" title="é¡¹ç›®å±æ€§"></a>é¡¹ç›®å±æ€§</h2><h3 id="grid-column-start-å±æ€§ï¼Œ-grid-column-end-å±æ€§ï¼Œ-grid-row-start-å±æ€§ï¼Œ-grid-row-end-å±æ€§"><a href="#grid-column-start-å±æ€§ï¼Œ-grid-column-end-å±æ€§ï¼Œ-grid-row-start-å±æ€§ï¼Œ-grid-row-end-å±æ€§" class="headerlink" title="grid-column-start å±æ€§ï¼Œ grid-column-end å±æ€§ï¼Œ grid-row-start å±æ€§ï¼Œ grid-row-end å±æ€§"></a>grid-column-start å±æ€§ï¼Œ grid-column-end å±æ€§ï¼Œ grid-row-start å±æ€§ï¼Œ grid-row-end å±æ€§</h3><p>é¡¹ç›®çš„ä½ç½®æ˜¯å¯ä»¥æŒ‡å®šçš„ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯æŒ‡å®šé¡¹ç›®çš„å››ä¸ªè¾¹æ¡†ï¼Œåˆ†åˆ«å®šä½åœ¨å“ªæ ¹ç½‘æ ¼çº¿ã€‚</p><ul><li>  <code>grid-column-start</code>å±æ€§ï¼šå·¦è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</li><li>  <code>grid-column-end</code>å±æ€§ï¼šå³è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</li><li>  <code>grid-row-start</code>å±æ€§ï¼šä¸Šè¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</li><li>  <code>grid-row-end</code>å±æ€§ï¼šä¸‹è¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column-start: <span class="number">2</span>;</span><br><span class="line">    grid-column-end: <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://jsbin.com/yukobuf/edit?css,output">ä¸Šé¢ä»£ç </a>æŒ‡å®šï¼Œ1 å·é¡¹ç›®çš„å·¦è¾¹æ¡†æ˜¯ç¬¬äºŒæ ¹å‚ç›´ç½‘æ ¼çº¿ï¼Œå³è¾¹æ¡†æ˜¯ç¬¬å››æ ¹å‚ç›´ç½‘æ ¼çº¿ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032526.png" alt="img"></p><p>ä¸Šå›¾ä¸­ï¼ŒåªæŒ‡å®šäº† 1 å·é¡¹ç›®çš„å·¦å³è¾¹æ¡†ï¼Œæ²¡æœ‰æŒ‡å®šä¸Šä¸‹è¾¹æ¡†ï¼Œæ‰€ä»¥ä¼šé‡‡ç”¨é»˜è®¤ä½ç½®ï¼Œå³ä¸Šè¾¹æ¡†æ˜¯ç¬¬ä¸€æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œä¸‹è¾¹æ¡†æ˜¯ç¬¬äºŒæ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚</p><p>é™¤äº† 1 å·é¡¹ç›®ä»¥å¤–ï¼Œå…¶ä»–é¡¹ç›®éƒ½æ²¡æœ‰æŒ‡å®šä½ç½®ï¼Œç”±æµè§ˆå™¨è‡ªåŠ¨å¸ƒå±€ï¼Œè¿™æ—¶å®ƒä»¬çš„ä½ç½®ç”±å®¹å™¨çš„<code>grid-auto-flow</code>å±æ€§å†³å®šï¼Œè¿™ä¸ªå±æ€§çš„é»˜è®¤å€¼æ˜¯<code>row</code>ï¼Œå› æ­¤ä¼šâ€å…ˆè¡Œååˆ—â€è¿›è¡Œæ’åˆ—ã€‚è¯»è€…å¯ä»¥æŠŠè¿™ä¸ªå±æ€§çš„å€¼åˆ†åˆ«æ”¹æˆ<code>column</code>ã€<code>row dense</code>å’Œ<code>column dense</code>ï¼Œçœ‹çœ‹å…¶ä»–é¡¹ç›®çš„ä½ç½®å‘ç”Ÿäº†æ€æ ·çš„å˜åŒ–ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯æŒ‡å®šå››ä¸ªè¾¹æ¡†ä½ç½®çš„æ•ˆæœã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column-start: <span class="number">1</span>;</span><br><span class="line">    grid-column-end: <span class="number">3</span>;</span><br><span class="line">    grid-row-start: <span class="number">2</span>;</span><br><span class="line">    grid-row-end: <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032527.png" alt="img"></p><p>è¿™å››ä¸ªå±æ€§çš„å€¼ï¼Œé™¤äº†æŒ‡å®šä¸ºç¬¬å‡ ä¸ªç½‘æ ¼çº¿ï¼Œè¿˜å¯ä»¥æŒ‡å®šä¸ºç½‘æ ¼çº¿çš„åå­—ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column-start: header-start;</span><br><span class="line">    grid-column-end: header-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå·¦è¾¹æ¡†å’Œå³è¾¹æ¡†çš„ä½ç½®ï¼Œéƒ½æŒ‡å®šä¸ºç½‘æ ¼çº¿çš„åå­—ã€‚</p><p>è¿™å››ä¸ªå±æ€§çš„å€¼è¿˜å¯ä»¥ä½¿ç”¨<code>span</code>å…³é”®å­—ï¼Œè¡¨ç¤ºâ€è·¨è¶Šâ€ï¼Œå³å·¦å³è¾¹æ¡†ï¼ˆä¸Šä¸‹è¾¹æ¡†ï¼‰ä¹‹é—´è·¨è¶Šå¤šå°‘ä¸ªç½‘æ ¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column-start: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œ1 å·é¡¹ç›®çš„å·¦è¾¹æ¡†è·ç¦»å³è¾¹æ¡†è·¨è¶Š 2 ä¸ªç½‘æ ¼ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032528.png" alt="img"></p><p>è¿™ä¸ä¸‹é¢çš„ä»£ç æ•ˆæœå®Œå…¨ä¸€æ ·ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column-end: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™å››ä¸ªå±æ€§ï¼Œå¦‚æœäº§ç”Ÿäº†é¡¹ç›®çš„é‡å ï¼Œåˆ™ä½¿ç”¨<code>z-index</code>å±æ€§æŒ‡å®šé¡¹ç›®çš„é‡å é¡ºåºã€‚</p><h3 id="grid-column-å±æ€§ï¼Œ-grid-row-å±æ€§"><a href="#grid-column-å±æ€§ï¼Œ-grid-row-å±æ€§" class="headerlink" title="grid-column å±æ€§ï¼Œ grid-row å±æ€§"></a>grid-column å±æ€§ï¼Œ grid-row å±æ€§</h3><p><code>grid-column</code>å±æ€§æ˜¯<code>grid-column-start</code>å’Œ<code>grid-column-end</code>çš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œ<code>grid-row</code>å±æ€§æ˜¯<code>grid-row-start</code>å±æ€§å’Œ<code>grid-row-end</code>çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    grid-column: &lt;start-line&gt; / &lt;end-line&gt;;</span><br><span class="line">    grid-row: &lt;start-line&gt; / &lt;end-line&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">    grid-row: <span class="number">1</span> / <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ç­‰åŒäº */</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column-start: <span class="number">1</span>;</span><br><span class="line">    grid-column-end: <span class="number">3</span>;</span><br><span class="line">    grid-row-start: <span class="number">1</span>;</span><br><span class="line">    grid-row-end: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¹ç›®<code>item-1</code>å æ®ç¬¬ä¸€è¡Œï¼Œä»ç¬¬ä¸€æ ¹åˆ—çº¿åˆ°ç¬¬ä¸‰æ ¹åˆ—çº¿ã€‚</p><p>è¿™ä¸¤ä¸ªå±æ€§ä¹‹ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>span</code>å…³é”®å­—ï¼Œè¡¨ç¤ºè·¨è¶Šå¤šå°‘ä¸ªç½‘æ ¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#b03532</span>;</span><br><span class="line">    grid-column: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">    grid-row: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ç­‰åŒäº */</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#b03532</span>;</span><br><span class="line">    grid-column: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">    grid-row: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://jsbin.com/volugow/edit?html,css,output">ä¸Šé¢ä»£ç </a>ä¸­ï¼Œé¡¹ç›®<code>item-1</code>å æ®çš„åŒºåŸŸï¼ŒåŒ…æ‹¬ç¬¬ä¸€è¡Œ + ç¬¬äºŒè¡Œã€ç¬¬ä¸€åˆ— + ç¬¬äºŒåˆ—ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032529.png" alt="img"></p><p>æ–œæ ä»¥åŠåé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ï¼Œé»˜è®¤è·¨è¶Šä¸€ä¸ªç½‘æ ¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-column: <span class="number">1</span>;</span><br><span class="line">    grid-row: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œé¡¹ç›®<code>item-1</code>å æ®å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªç½‘æ ¼ã€‚</p><h3 id="grid-area-å±æ€§"><a href="#grid-area-å±æ€§" class="headerlink" title="grid-area å±æ€§"></a>grid-area å±æ€§</h3><p><code>grid-area</code>å±æ€§æŒ‡å®šé¡¹ç›®æ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-area: e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://jsbin.com/qokexob/edit?css,output">ä¸Šé¢ä»£ç </a>ä¸­ï¼Œ1 å·é¡¹ç›®ä½äº<code>e</code>åŒºåŸŸï¼Œæ•ˆæœå¦‚ä¸‹å›¾ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032530.png" alt="img"></p><p><code>grid-area</code>å±æ€§è¿˜å¯ç”¨ä½œ<code>grid-row-start</code>ã€<code>grid-column-start</code>ã€<code>grid-row-end</code>ã€<code>grid-column-end</code>çš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œç›´æ¥æŒ‡å®šé¡¹ç›®çš„ä½ç½®ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    grid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ª<a href="https://jsbin.com/duyafez/edit?css,output">ä¾‹å­</a>ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    grid-area: <span class="number">1</span> / <span class="number">1</span> / <span class="number">3</span> / <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="justify-self-å±æ€§ï¼Œ-align-self-å±æ€§ï¼Œ-place-self-å±æ€§"><a href="#justify-self-å±æ€§ï¼Œ-align-self-å±æ€§ï¼Œ-place-self-å±æ€§" class="headerlink" title="justify-self å±æ€§ï¼Œ align-self å±æ€§ï¼Œ place-self å±æ€§"></a>justify-self å±æ€§ï¼Œ align-self å±æ€§ï¼Œ place-self å±æ€§</h3><p><code>justify-self</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œè·Ÿ<code>justify-items</code>å±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä½†åªä½œç”¨äºå•ä¸ªé¡¹ç›®ã€‚</p><p><code>align-self</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ï¼Œè·Ÿ<code>align-items</code>å±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä¹Ÿæ˜¯åªä½œç”¨äºå•ä¸ªé¡¹ç›®ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    justify-self: start | end | center | stretch;</span><br><span class="line">    <span class="attribute">align-self</span>: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå±æ€§éƒ½å¯ä»¥å–ä¸‹é¢å››ä¸ªå€¼ã€‚</p><ul><li>  startï¼šå¯¹é½å•å…ƒæ ¼çš„èµ·å§‹è¾¹ç¼˜ã€‚</li><li>  endï¼šå¯¹é½å•å…ƒæ ¼çš„ç»“æŸè¾¹ç¼˜ã€‚</li><li>  centerï¼šå•å…ƒæ ¼å†…éƒ¨å±…ä¸­ã€‚</li><li>  stretchï¼šæ‹‰ä¼¸ï¼Œå æ»¡å•å…ƒæ ¼çš„æ•´ä¸ªå®½åº¦ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li></ul><p>ä¸‹é¢æ˜¯<code>justify-self: start</code>çš„ä¾‹å­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">    justify-self: start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://www.wangbase.com/blogimg/asset/201903/bg2019032532.png" alt="img"></p><p><code>place-self</code>å±æ€§æ˜¯<code>align-self</code>å±æ€§å’Œ<code>justify-self</code>å±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-self: &lt;align-self&gt; &lt;justify-self&gt;;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-self: center center;</span><br></pre></td></tr></table></figure><p>å¦‚æœçœç•¥ç¬¬äºŒä¸ªå€¼ï¼Œ<code>place-self</code>å±æ€§ä¼šè®¤ä¸ºè¿™ä¸¤ä¸ªå€¼ç›¸ç­‰ã€‚</p><h2 id="è½¬è½½"><a href="#è½¬è½½" class="headerlink" title="è½¬è½½"></a>è½¬è½½</h2><p><a href="https://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html">æœ¬æ–‡è½¬è½½è‡ªé˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—-CSS Grid ç½‘æ ¼å¸ƒå±€æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Grid </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆå‰ç«¯é¢ç­‹ (JSç¯‡)</title>
      <link href="post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart4/"/>
      <url>post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart4/</url>
      
        <content type="html"><![CDATA[<h3 id="JS-ä¸­çš„-8-ç§æ•°æ®ç±»å‹åŠåŒºåˆ«"><a href="#JS-ä¸­çš„-8-ç§æ•°æ®ç±»å‹åŠåŒºåˆ«" class="headerlink" title="JS ä¸­çš„ 8 ç§æ•°æ®ç±»å‹åŠåŒºåˆ«"></a>JS ä¸­çš„ 8 ç§æ•°æ®ç±»å‹åŠåŒºåˆ«</h3><p>åŒ…æ‹¬å€¼ç±»å‹(åŸºæœ¬å¯¹è±¡ç±»å‹)å’Œå¼•ç”¨ç±»å‹(å¤æ‚å¯¹è±¡ç±»å‹)</p><p><strong>åŸºæœ¬ç±»å‹(å€¼ç±»å‹)ï¼š</strong> Number(æ•°å­—),String(å­—ç¬¦ä¸²),Boolean(å¸ƒå°”),Symbol(ç¬¦å·),null(ç©º),undefined(æœªå®šä¹‰)åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°ï¼Œä¿å­˜åœ¨æ ˆå†…å­˜ä¸­</p><p><strong>å¼•ç”¨ç±»å‹(å¤æ‚æ•°æ®ç±»å‹)ï¼š</strong> Object(å¯¹è±¡)ã€Function(å‡½æ•°)ã€‚å…¶ä»–è¿˜æœ‰ Array(æ•°ç»„)ã€Date(æ—¥æœŸ)ã€RegExp(æ­£åˆ™è¡¨è¾¾å¼)ã€ç‰¹æ®Šçš„åŸºæœ¬åŒ…è£…ç±»å‹(Stringã€Numberã€Boolean) ä»¥åŠå•ä½“å†…ç½®å¯¹è±¡(Globalã€Math)ç­‰ å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ ä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼Œæ ˆå†…å­˜å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å˜é‡æ ‡è¯†ç¬¦ä»¥åŠå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å­˜å‚¨åœ°å€ã€‚</p><h3 id="JS-ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ"><a href="#JS-ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ" class="headerlink" title="JS ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ"></a>JS ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ</h3><h4 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1.typeof"></a>1.typeof</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">1</span>) <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>) <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">&#x27;mc&#x27;</span>) <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;) <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">console</span>.log()) <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> []) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;&#125;) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>) <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>) <span class="comment">// undefined</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šèƒ½å¤Ÿå¿«é€ŸåŒºåˆ†åŸºæœ¬æ•°æ®ç±»å‹</p><p>ç¼ºç‚¹ï¼šä¸èƒ½å°† Objectã€Array å’Œ Null åŒºåˆ†ï¼Œéƒ½è¿”å› object</p><h4 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.instanceof"></a>2.instanceof</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;str&#x27;</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Array</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Function</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">// true</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šèƒ½å¤ŸåŒºåˆ† Arrayã€Object å’Œ Functionï¼Œé€‚åˆç”¨äºåˆ¤æ–­è‡ªå®šä¹‰çš„ç±»å®ä¾‹å¯¹è±¡</p><p>ç¼ºç‚¹ï¼šNumberï¼ŒBooleanï¼ŒString åŸºæœ¬æ•°æ®ç±»å‹ä¸èƒ½åˆ¤æ–­</p><h4 id="3-Object-prototype-toString-call"><a href="#3-Object-prototype-toString-call" class="headerlink" title="3.Object.prototype.toString.call()"></a>3.Object.prototype.toString.call()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> toString = <span class="built_in">Object</span>.prototype.toString</span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="number">1</span>)) <span class="comment">//[object Number]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">true</span>)) <span class="comment">//[object Boolean]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="string">&#x27;mc&#x27;</span>)) <span class="comment">//[object String]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call([])) <span class="comment">//[object Array]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(&#123;&#125;)) <span class="comment">//[object Object]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)) <span class="comment">//[object Function]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">undefined</span>)) <span class="comment">//[object Undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(toString.call(<span class="literal">null</span>)) <span class="comment">//[object Null]</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šç²¾å‡†åˆ¤æ–­æ•°æ®ç±»å‹</p><p>ç¼ºç‚¹ï¼šå†™æ³•ç¹çä¸å®¹æ˜“è®°ï¼Œæ¨èè¿›è¡Œå°è£…åä½¿ç”¨</p><h3 id="var-amp-amp-let-amp-amp-const"><a href="#var-amp-amp-let-amp-amp-const" class="headerlink" title="var &amp;&amp; let &amp;&amp; const"></a>var &amp;&amp; let &amp;&amp; const</h3><p>ES6 ä¹‹å‰åˆ›å»ºå˜é‡ç”¨çš„æ˜¯ var,ä¹‹ååˆ›å»ºå˜é‡ç”¨çš„æ˜¯ let/const</p><p><strong>ä¸‰è€…åŒºåˆ«</strong>ï¼š</p><ol><li>var å®šä¹‰çš„å˜é‡ï¼Œ<code>æ²¡æœ‰å—çš„æ¦‚å¿µï¼Œå¯ä»¥è·¨å—è®¿é—®</code>, ä¸èƒ½è·¨å‡½æ•°è®¿é—®ã€‚<br>let å®šä¹‰çš„å˜é‡ï¼Œåªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®ï¼Œä¸èƒ½è·¨å—è®¿é—®ï¼Œä¹Ÿä¸èƒ½è·¨å‡½æ•°è®¿é—®ã€‚<br>const ç”¨æ¥å®šä¹‰å¸¸é‡ï¼Œä½¿ç”¨æ—¶å¿…é¡»åˆå§‹åŒ–(å³å¿…é¡»èµ‹å€¼)ï¼Œåªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®ï¼Œä¸”ä¸èƒ½ä¿®æ”¹ã€‚</li><li>var å¯ä»¥<code>å…ˆä½¿ç”¨ï¼Œåå£°æ˜</code>ï¼Œå› ä¸ºå­˜åœ¨å˜é‡æå‡ï¼›let å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨ã€‚</li><li>var æ˜¯å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…<code>é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡</code>çš„ï¼Œè€Œ let ä¸ const ä¸å…è®¸è¿™ä¸€ç°è±¡ã€‚</li><li>åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼ŒåŸºäº let å£°æ˜çš„å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡ GOï¼ˆwindowï¼‰æ²¡æœ‰ä»»ä½•å…³ç³» ;<br>var å£°æ˜çš„å˜é‡ä¼šå’Œ GO æœ‰æ˜ å°„å…³ç³»ï¼›</li><li><code>ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒº</code>ï¼š</li></ol><blockquote><p>æš‚æ—¶æ€§æ­»åŒºæ˜¯æµè§ˆå™¨çš„ bugï¼šæ£€æµ‹ä¸€ä¸ªæœªè¢«å£°æ˜çš„å˜é‡ç±»å‹æ—¶ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä¼šè¿”å› undefined<br>å¦‚ï¼šconsole.log(typeof a) //undefined<br>è€Œï¼šconsole.log(typeof a)//æœªå£°æ˜ä¹‹å‰ä¸èƒ½ä½¿ç”¨<br>let a</p></blockquote><ol><li>let /const/function ä¼šæŠŠå½“å‰æ‰€åœ¨çš„å¤§æ‹¬å·(é™¤å‡½æ•°ä¹‹å¤–)ä½œä¸ºä¸€ä¸ªå…¨æ–°çš„å—çº§ä¸Šä¸‹æ–‡ï¼Œåº”ç”¨è¿™ä¸ªæœºåˆ¶ï¼Œåœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œé‡åˆ°å¾ªç¯äº‹ä»¶ç»‘å®šç­‰ç±»ä¼¼çš„éœ€æ±‚ï¼Œæ— éœ€å†è‡ªå·±æ„å»ºé—­åŒ…æ¥å­˜å‚¨ï¼Œåªè¦åŸºäº let çš„å—ä½œç”¨ç‰¹å¾å³å¯è§£å†³</li></ol><h3 id="JS-åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#JS-åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="JS åƒåœ¾å›æ”¶æœºåˆ¶"></a>JS åƒåœ¾å›æ”¶æœºåˆ¶</h3><ol><li><p>é¡¹ç›®ä¸­ï¼Œå¦‚æœå­˜åœ¨å¤§é‡ä¸è¢«é‡Šæ”¾çš„å†…å­˜ï¼ˆå †/æ ˆ/ä¸Šä¸‹æ–‡ï¼‰ï¼Œé¡µé¢æ€§èƒ½ä¼šå˜å¾—å¾ˆæ…¢ã€‚å½“æŸäº›ä»£ç æ“ä½œä¸èƒ½è¢«åˆç†é‡Šæ”¾ï¼Œå°±ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚æˆ‘ä»¬å°½å¯èƒ½å‡å°‘ä½¿ç”¨é—­åŒ…ï¼Œå› ä¸ºå®ƒä¼šæ¶ˆè€—å†…å­˜ã€‚</p></li><li><p>æµè§ˆå™¨åƒåœ¾å›æ”¶æœºåˆ¶/å†…å­˜å›æ”¶æœºåˆ¶:</p><blockquote><p>æµè§ˆå™¨çš„<code>Javascript</code>å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶(<code>GC:Garbage Collecation</code>)ï¼Œåƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰æ‰¾å‡ºé‚£äº›ä¸åœ¨ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜ã€‚</p></blockquote><p> <strong>æ ‡è®°æ¸…é™¤</strong>:åœ¨<code>js</code>ä¸­ï¼Œæœ€å¸¸ç”¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯æ ‡è®°æ¸…é™¤ï¼šå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œè¢«æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œä¼šè¢«æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚åƒåœ¾å›æ”¶å™¨ä¼šé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚<br> <strong>è°·æ­Œæµè§ˆå™¨</strong>ï¼šâ€œæŸ¥æ‰¾å¼•ç”¨â€ï¼Œæµè§ˆå™¨ä¸å®šæ—¶å»æŸ¥æ‰¾å½“å‰å†…å­˜çš„å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¢«å ç”¨äº†ï¼Œæµè§ˆå™¨ä¼šå›æ”¶å®ƒï¼›å¦‚æœè¢«å ç”¨ï¼Œå°±ä¸èƒ½å›æ”¶ã€‚<br> <strong>IE æµè§ˆå™¨</strong>ï¼šâ€œå¼•ç”¨è®¡æ•°æ³•â€ï¼Œå½“å‰å†…å­˜è¢«å ç”¨ä¸€æ¬¡ï¼Œè®¡æ•°ç´¯åŠ  1 æ¬¡ï¼Œç§»é™¤å ç”¨å°±å‡ 1ï¼Œå‡åˆ° 0 æ—¶ï¼Œæµè§ˆå™¨å°±å›æ”¶å®ƒã€‚</p></li><li><p>ä¼˜åŒ–æ‰‹æ®µï¼šå†…å­˜ä¼˜åŒ– ; æ‰‹åŠ¨é‡Šæ”¾ï¼šå–æ¶ˆå†…å­˜çš„å ç”¨å³å¯ã€‚</p><p> ï¼ˆ1ï¼‰å †å†…å­˜ï¼šfn = null ã€nullï¼šç©ºæŒ‡é’ˆå¯¹è±¡ã€‘</p><p> ï¼ˆ2ï¼‰æ ˆå†…å­˜ï¼šæŠŠä¸Šä¸‹æ–‡ä¸­ï¼Œè¢«å¤–éƒ¨å ç”¨çš„å †çš„å ç”¨å–æ¶ˆå³å¯ã€‚</p></li><li><p>å†…å­˜æ³„æ¼</p><p> åœ¨ JS ä¸­ï¼Œå¸¸è§çš„å†…å­˜æ³„éœ²ä¸»è¦æœ‰ 4 ç§,å…¨å±€å˜é‡ã€é—­åŒ…ã€DOM å…ƒç´ çš„å¼•ç”¨ã€å®šæ—¶å™¨</p></li></ol><h3 id="ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾</h3><p>åˆ›å»ºå‡½æ•°çš„æ—¶å€™ï¼Œå·²ç»å£°æ˜äº†å½“å‰å‡½æ•°çš„ä½œç”¨åŸŸ==&gt;<code>å½“å‰åˆ›å»ºå‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡</code>ã€‚å¦‚æœæ˜¯åœ¨å…¨å±€ä¸‹åˆ›å»ºçš„å‡½æ•°å°±æ˜¯<code>[[scope]]:EC(G)</code>ï¼Œå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå½¢æˆä¸€ä¸ªå…¨æ–°çš„ç§æœ‰ä¸Šä¸‹æ–‡<code>EC(FN)</code>ï¼Œä¾›å­—ç¬¦ä¸²ä»£ç æ‰§è¡Œ(è¿›æ ˆæ‰§è¡Œ)</p><p>å®šä¹‰ï¼šç®€å•æ¥è¯´ä½œç”¨åŸŸå°±æ˜¯å˜é‡ä¸å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œ<code>ç”±å½“å‰ç¯å¢ƒä¸ä¸Šå±‚ç¯å¢ƒçš„ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆ</code> 1.å…¨å±€ä½œç”¨åŸŸï¼šä»£ç åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹éƒ½èƒ½è¢«è®¿é—®ï¼Œwindow å¯¹è±¡çš„å†…ç½®å±æ€§éƒ½æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚ 2.å‡½æ•°ä½œç”¨åŸŸï¼šåœ¨å›ºå®šçš„ä»£ç ç‰‡æ®µæ‰èƒ½è¢«è®¿é—®</p><p>ä½œç”¨ï¼šä½œç”¨åŸŸæœ€å¤§çš„ç”¨å¤„å°±æ˜¯<code>éš”ç¦»å˜é‡</code>ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çªã€‚</p><p><strong>ä½œç”¨åŸŸé“¾å‚è€ƒé“¾æ¥</strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå˜é‡åˆ° åˆ›å»ºè¯¥å˜é‡ çš„å‡½æ•°çš„ä½œç”¨åŸŸä¸­å–å€¼ã€‚ä½†æ˜¯å¦‚æœåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ²¡æœ‰æŸ¥åˆ°ï¼Œå°±ä¼šå‘ä¸Šçº§ä½œç”¨åŸŸå»æŸ¥ï¼Œç›´åˆ°æŸ¥åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œè¿™ä¹ˆä¸€ä¸ªæŸ¥æ‰¾è¿‡ç¨‹å½¢æˆçš„é“¾æ¡å°±å«åšä½œç”¨åŸŸé“¾ã€‚</p><h3 id="é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜-ä¿æŠ¤"><a href="#é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜-ä¿æŠ¤" class="headerlink" title="é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜/ä¿æŠ¤"></a>é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜/ä¿æŠ¤</h3><ul><li><p><strong>é—­åŒ…çš„æ¦‚å¿µ</strong></p><p>  å‡½æ•°æ‰§è¡Œæ—¶å½¢æˆçš„ç§æœ‰ä¸Šä¸‹æ–‡ EC(FN)ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä»£ç æ‰§è¡Œå®Œä¼šå‡ºæ ˆåé‡Šæ”¾;ä½†æ˜¯ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¦‚æœå½“å‰ç§æœ‰ä¸Šä¸‹æ–‡ä¸­çš„æŸä¸ªä¸œè¥¿è¢«ä¸Šä¸‹æ–‡ä»¥å¤–çš„äº‹ç‰©å ç”¨äº†ï¼Œåˆ™ä¸Šä¸‹æ–‡ä¸ä¼šå‡ºæ ˆé‡Šæ”¾ï¼Œä»è€Œå½¢æˆä¸é”€æ¯çš„ä¸Šä¸‹æ–‡ã€‚ å‡½æ•°æ‰§è¡Œå‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå½¢æˆä¸€ä¸ªå…¨æ–°çš„ç§æœ‰ä¸Šä¸‹æ–‡ï¼Œå¯èƒ½ä¼šè¢«é‡Šæ”¾ï¼Œå¯èƒ½ä¸ä¼šè¢«é‡Šæ”¾ï¼Œä¸è®ºé‡Šæ”¾ä¸å¦ï¼Œä»–çš„ä½œç”¨æ˜¯ï¼š</p></li></ul><p>ï¼ˆ1ï¼‰ä¿æŠ¤ï¼šåˆ’åˆ†ä¸€ä¸ªç‹¬ç«‹çš„ä»£ç æ‰§è¡ŒåŒºåŸŸï¼Œåœ¨è¿™ä¸ªåŒºåŸŸä¸­æœ‰è‡ªå·±ç§æœ‰å˜é‡å­˜å‚¨çš„ç©ºé—´ï¼Œä¿æŠ¤è‡ªå·±çš„ç§æœ‰å˜é‡ä¸å—å¤–ç•Œå¹²æ‰°ï¼ˆæ“ä½œè‡ªå·±çš„ç§æœ‰å˜é‡å’Œå¤–ç•Œæ²¡æœ‰å…³ç³»ï¼‰ï¼›</p><p>ï¼ˆ2ï¼‰ä¿å­˜ï¼šå¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸è¢«é‡Šæ”¾ã€åªè¦ä¸Šä¸‹æ–‡ä¸­çš„æŸä¸ªä¸œè¥¿è¢«å¤–éƒ¨å ç”¨å³å¯ã€‘ï¼Œåˆ™å­˜å‚¨çš„è¿™äº›ç§æœ‰å˜é‡ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ï¼Œå¯ä»¥ä¾›å…¶ä¸‹çº§ä¸Šä¸‹æ–‡ä¸­è°ƒå–ä½¿ç”¨ï¼Œç›¸å½“äºæŠŠä¸€äº›å€¼ä¿å­˜èµ·æ¥äº†ï¼›</p><p>æˆ‘ä»¬æŠŠå‡½æ•°æ‰§è¡Œå½¢æˆç§æœ‰ä¸Šä¸‹æ–‡ï¼Œæ¥ä¿æŠ¤å’Œä¿å­˜ç§æœ‰å˜é‡æœºåˆ¶ç§°ä¸º<code>é—­åŒ…</code>ã€‚</p><blockquote><p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°â€“ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹</p></blockquote><p><strong>ç¨å…¨é¢çš„å›ç­”</strong>ï¼š åœ¨ js ä¸­å˜é‡çš„ä½œç”¨åŸŸå±äºå‡½æ•°ä½œç”¨åŸŸ, åœ¨å‡½æ•°æ‰§è¡Œå®Œå,ä½œç”¨åŸŸå°±ä¼šè¢«æ¸…ç†,å†…å­˜ä¹Ÿä¼šéšä¹‹è¢«å›æ”¶,ä½†æ˜¯ç”±äºé—­åŒ…å‡½æ•°æ˜¯å»ºç«‹åœ¨å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°, ç”±äºå…¶å¯è®¿é—®ä¸Šçº§ä½œç”¨åŸŸ,å³ä½¿ä¸Šçº§å‡½æ•°æ‰§è¡Œå®Œ, ä½œç”¨åŸŸä¹Ÿä¸ä¼šéšä¹‹é”€æ¯, è¿™æ—¶çš„å­å‡½æ•°(ä¹Ÿå°±æ˜¯é—­åŒ…),ä¾¿æ‹¥æœ‰äº†è®¿é—®ä¸Šçº§ä½œç”¨åŸŸä¸­å˜é‡çš„æƒé™,å³ä½¿ä¸Šçº§å‡½æ•°æ‰§è¡Œå®Œåä½œç”¨åŸŸå†…çš„å€¼ä¹Ÿä¸ä¼šè¢«é”€æ¯ã€‚</p><ul><li><p><strong>é—­åŒ…çš„ç‰¹æ€§</strong>ï¼š</p><ul><li><p>1ã€å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å®šä¹‰ä»–ä»¬å¤–éƒ¨å‡½æ•°çš„å‚æ•°å’Œå˜é‡ã€‚(ä½œç”¨åŸŸé“¾çš„å‘ä¸ŠæŸ¥æ‰¾ï¼ŒæŠŠå¤–å›´çš„ä½œç”¨åŸŸä¸­çš„å˜é‡å€¼å­˜å‚¨åœ¨å†…å­˜ä¸­è€Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨å®Œæ¯•åé”€æ¯)è®¾è®¡ç§æœ‰çš„æ–¹æ³•å’Œå˜é‡ï¼Œé¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“ã€‚</p><p>  1.1.é—­åŒ…æ˜¯å¯†é—­çš„å®¹å™¨ï¼Œï¼Œç±»ä¼¼äº setã€map å®¹å™¨ï¼Œå­˜å‚¨æ•°æ®çš„</p><p>  1.2.é—­åŒ…æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜æ”¾æ•°æ®çš„æ ¼å¼ä¸º key-value å½¢å¼</p></li><li><p>  2ã€å‡½æ•°åµŒå¥—å‡½æ•°</p></li><li><p>  3ã€æœ¬è´¨æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨è¿æ¥èµ·æ¥ã€‚ä¼˜ç‚¹æ˜¯å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œè®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨å‡½æ•°è¢«è°ƒç”¨ä¹‹åè‡ªåŠ¨æ¸…é™¤</p></li></ul></li><li><p><strong>é—­åŒ…å½¢æˆçš„æ¡ä»¶</strong>ï¼š</p><ol><li>å‡½æ•°çš„åµŒå¥—</li><li>å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå»¶é•¿å¤–éƒ¨å‡½æ•°çš„å˜é‡ç”Ÿå‘½å‘¨æœŸ</li></ol></li><li><p><strong>é—­åŒ…çš„ç”¨é€”</strong>ï¼š</p><ol><li>æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ</li><li>ä¿æŠ¤å¤–éƒ¨å‡½æ•°çš„å˜é‡ èƒ½å¤Ÿè®¿é—®å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(é˜»æ­¢å…¶è¢«å›æ”¶)</li><li>å°è£…ç§æœ‰åŒ–å˜é‡</li><li>åˆ›å»ºæ¨¡å—</li></ol></li><li><p><strong>é—­åŒ…åº”ç”¨åœºæ™¯</strong></p><p>  é—­åŒ…çš„ä¸¤ä¸ªåœºæ™¯ï¼Œé—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼š<code>ä¿å­˜/ä¿æŠ¤</code>ã€‚ åœ¨å¼€å‘ä¸­, å…¶å®æˆ‘ä»¬éšå¤„å¯è§é—­åŒ…çš„èº«å½±, å¤§éƒ¨åˆ†å‰ç«¯ JavaScript ä»£ç éƒ½æ˜¯â€œäº‹ä»¶é©±åŠ¨â€çš„,å³ä¸€ä¸ªäº‹ä»¶ç»‘å®šçš„å›è°ƒæ–¹æ³•; å‘é€ ajax è¯·æ±‚æˆåŠŸ|å¤±è´¥çš„å›è°ƒ;setTimeout çš„å»¶æ—¶å›è°ƒ;æˆ–è€…ä¸€ä¸ªå‡½æ•°å†…éƒ¨è¿”å›å¦ä¸€ä¸ªåŒ¿åå‡½æ•°,è¿™äº›éƒ½æ˜¯é—­åŒ…çš„åº”ç”¨ã€‚</p></li><li><p>  <strong>é—­åŒ…çš„ä¼˜ç‚¹</strong>ï¼šå»¶é•¿å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</p></li><li><p>  <strong>é—­åŒ…ç¼ºç‚¹</strong>ï¼šä¼šå¯¼è‡´å‡½æ•°çš„å˜é‡ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿‡å¤šçš„é—­åŒ…å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼</p></li></ul><h3 id="JS-ä¸­-this-çš„äº”ç§æƒ…å†µ"><a href="#JS-ä¸­-this-çš„äº”ç§æƒ…å†µ" class="headerlink" title="JS ä¸­ this çš„äº”ç§æƒ…å†µ"></a>JS ä¸­ this çš„äº”ç§æƒ…å†µ</h3><ol><li>ä½œä¸ºæ™®é€šå‡½æ•°æ‰§è¡Œæ—¶ï¼Œ<code>this</code>æŒ‡å‘<code>window</code>ã€‚</li><li>å½“å‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ<code>this</code>å°±ä¼šæŒ‡å‘<code>è¯¥å¯¹è±¡</code>ã€‚</li><li>æ„é€ å™¨è°ƒç”¨ï¼Œ<code>this</code>æŒ‡å‘<code>è¿”å›çš„è¿™ä¸ªå¯¹è±¡</code>ã€‚</li><li>ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°çš„<code>this</code>ç»‘å®šçœ‹çš„æ˜¯<code>thisæ‰€åœ¨å‡½æ•°å®šä¹‰åœ¨å“ªä¸ªå¯¹è±¡ä¸‹</code>ï¼Œå°±ç»‘å®šå“ªä¸ªå¯¹è±¡ã€‚å¦‚æœæœ‰åµŒå¥—çš„æƒ…å†µï¼Œåˆ™ this ç»‘å®šåˆ°æœ€è¿‘çš„ä¸€å±‚å¯¹è±¡ä¸Šã€‚</li><li>åŸºäº Function.prototype ä¸Šçš„ <code>apply ã€ call å’Œ bind </code>è°ƒç”¨æ¨¡å¼ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ˜¾ç¤ºçš„æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this æŒ‡å‘ã€‚<code>apply</code>æ¥æ”¶å‚æ•°çš„æ˜¯æ•°ç»„ï¼Œ<code>call</code>æ¥å—å‚æ•°åˆ—è¡¨ï¼Œ`` bind<code>æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª</code>this<code>ç»‘å®šäº†ä¼ å…¥å¯¹è±¡çš„æ–°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ </code>this<code>æŒ‡å‘é™¤äº†ä½¿ç”¨</code>new `æ—¶ä¼šè¢«æ”¹å˜ï¼Œå…¶ä»–æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜ã€‚è‹¥ä¸ºç©ºé»˜è®¤æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ windowã€‚</li></ol><h3 id="åŸå‹-amp-amp-åŸå‹é“¾"><a href="#åŸå‹-amp-amp-åŸå‹é“¾" class="headerlink" title="åŸå‹ &amp;&amp; åŸå‹é“¾"></a>åŸå‹ &amp;&amp; åŸå‹é“¾</h3><p><strong>åŸå‹å…³ç³»ï¼š</strong></p><ul><li>  æ¯ä¸ª class éƒ½æœ‰æ˜¾ç¤ºåŸå‹ prototype</li><li>  æ¯ä¸ªå®ä¾‹éƒ½æœ‰éšå¼åŸå‹ _ proto_</li><li>  å®ä¾‹çš„* proto*æŒ‡å‘å¯¹åº” class çš„ prototype</li></ul><p>â€Œ <strong>åŸå‹:</strong> åœ¨ JS ä¸­ï¼Œæ¯å½“å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼ˆå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼‰æ—¶ï¼Œå¯¹è±¡ä¸­éƒ½ä¼šåŒ…å«ä¸€äº›é¢„å®šä¹‰çš„å±æ€§ã€‚å…¶ä¸­æ¯ä¸ª<code>å‡½æ•°å¯¹è±¡</code>éƒ½æœ‰ä¸€ä¸ª<code>prototype</code> å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„<code>åŸå‹å¯¹è±¡</code>ã€‚</p><p>åŸå‹é“¾ï¼šå‡½æ•°çš„åŸå‹é“¾å¯¹è±¡ constructor é»˜è®¤æŒ‡å‘å‡½æ•°æœ¬èº«ï¼ŒåŸå‹å¯¹è±¡é™¤äº†æœ‰åŸå‹å±æ€§å¤–ï¼Œä¸ºäº†å®ç°ç»§æ‰¿ï¼Œè¿˜æœ‰ä¸€ä¸ªåŸå‹é“¾æŒ‡é’ˆ<strong>proto</strong>,è¯¥æŒ‡é’ˆæ˜¯æŒ‡å‘ä¸Šä¸€å±‚çš„åŸå‹å¯¹è±¡ï¼Œè€Œä¸Šä¸€å±‚çš„åŸå‹å¯¹è±¡çš„ç»“æ„ä¾ç„¶ç±»ä¼¼ã€‚å› æ­¤å¯ä»¥åˆ©ç”¨<strong>proto</strong>ä¸€ç›´æŒ‡å‘ Object çš„åŸå‹å¯¹è±¡ä¸Šï¼Œè€Œ Object åŸå‹å¯¹è±¡ç”¨ Object.prototype.** proto** = null è¡¨ç¤ºåŸå‹é“¾é¡¶ç«¯ã€‚å¦‚æ­¤å½¢æˆäº† js çš„åŸå‹é“¾ç»§æ‰¿ã€‚åŒæ—¶æ‰€æœ‰çš„ js å¯¹è±¡éƒ½æœ‰ Object çš„åŸºæœ¬é˜²èŒƒ</p><p><strong>ç‰¹ç‚¹:</strong> <code>JavaScript</code>å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰ä¸€ä»½å±äºè‡ªå·±çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™ä¸€æ”¹å˜ã€‚</p><h3 id="new-è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶"><a href="#new-è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶" class="headerlink" title="new è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶"></a>new è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶</h3><ol><li>é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„<code>ç©ºå¯¹è±¡</code></li><li><code>è®¾ç½®åŸå‹</code>ï¼Œå°†å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºå‡½æ•°çš„<code>prototype</code>å¯¹è±¡ã€‚</li><li>è®©å‡½æ•°çš„<code>this</code>æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</li><li>åˆ¤æ–­å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚</li></ol><h3 id="EventLoop-äº‹ä»¶å¾ªç¯"><a href="#EventLoop-äº‹ä»¶å¾ªç¯" class="headerlink" title="EventLoop äº‹ä»¶å¾ªç¯"></a>EventLoop äº‹ä»¶å¾ªç¯</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JS`æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ºäº†é˜²æ­¢ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶é—´è¿‡é•¿é˜»å¡åé¢çš„ä»£ç ï¼Œæ‰€ä»¥ä¼šå…ˆå°†åŒæ­¥ä»£ç å‹å…¥æ‰§è¡Œæ ˆä¸­ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå°†å¼‚æ­¥ä»£ç æ¨å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥é˜Ÿåˆ—åˆåˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ‰€ä»¥å¾®ä»»åŠ¡é˜Ÿåˆ—è¦ä¼˜å…ˆäºå®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»£è¡¨å°±æ˜¯ï¼Œ`Promise.then`ï¼Œ`MutationObserver`ï¼Œå®ä»»åŠ¡çš„è¯å°±æ˜¯`setImmediate setTimeout setInterval</span><br></pre></td></tr></table></figure><p>JS è¿è¡Œçš„ç¯å¢ƒã€‚ä¸€èˆ¬ä¸ºæµè§ˆå™¨æˆ–è€… Nodeã€‚ åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œæœ‰ JS å¼•æ“çº¿ç¨‹å’Œæ¸²æŸ“çº¿ç¨‹ï¼Œä¸”ä¸¤ä¸ªçº¿ç¨‹äº’æ–¥ã€‚ Node ç¯å¢ƒä¸­ï¼Œåªæœ‰ JS çº¿ç¨‹ã€‚ ä¸åŒç¯å¢ƒæ‰§è¡Œæœºåˆ¶æœ‰å·®å¼‚ï¼Œä¸åŒä»»åŠ¡è¿›å…¥ä¸åŒ Event Queue é˜Ÿåˆ—ã€‚ å½“ä¸»ç¨‹ç»“æŸï¼Œå…ˆæ‰§è¡Œå‡†å¤‡å¥½å¾®ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œå‡†å¤‡å¥½çš„å®ä»»åŠ¡ï¼Œä¸€ä¸ªè½®è¯¢ç»“æŸã€‚</p><h4 id="æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop"><a href="#æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop" class="headerlink" title="æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)"></a><strong>æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)</strong></h4><p>äº‹ä»¶ç¯çš„è¿è¡Œæœºåˆ¶æ˜¯ï¼Œå…ˆä¼šæ‰§è¡Œæ ˆä¸­çš„å†…å®¹ï¼Œæ ˆä¸­çš„å†…å®¹æ‰§è¡Œåæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡æ¸…ç©ºåå†æ‰§è¡Œå®ä»»åŠ¡ï¼Œå…ˆå–å‡ºä¸€ä¸ªå®ä»»åŠ¡ï¼Œå†å»æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å–å®ä»»åŠ¡æ¸…å¾®ä»»åŠ¡è¿™æ ·ä¸åœçš„å¾ªç¯ã€‚</p><ul><li><p>  eventLoop æ˜¯ç”± JS çš„å®¿ä¸»ç¯å¢ƒï¼ˆæµè§ˆå™¨ï¼‰æ¥å®ç°çš„ï¼›</p></li><li><p>äº‹ä»¶å¾ªç¯å¯ä»¥ç®€å•çš„æè¿°ä¸ºä»¥ä¸‹å››ä¸ªæ­¥éª¤:</p><ol><li>å‡½æ•°å…¥æ ˆï¼Œå½“ Stack ä¸­æ‰§è¡Œåˆ°å¼‚æ­¥ä»»åŠ¡çš„æ—¶å€™ï¼Œå°±å°†ä»–ä¸¢ç»™ WebAPIs,æ¥ç€æ‰§è¡ŒåŒæ­¥ä»»åŠ¡,ç›´åˆ° Stack ä¸ºç©ºï¼›</li><li>æ­¤æœŸé—´ WebAPIs å®Œæˆè¿™ä¸ªäº‹ä»¶ï¼ŒæŠŠå›è°ƒå‡½æ•°æ”¾å…¥é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œï¼ˆå¾®ä»»åŠ¡æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå®ä»»åŠ¡æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼‰</li><li>æ‰§è¡Œæ ˆä¸ºç©ºæ—¶ï¼ŒEvent Loop æŠŠå¾®ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œæ¸…ç©ºï¼›</li><li>å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºåï¼Œè¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå–é˜Ÿåˆ—çš„ç¬¬ä¸€é¡¹ä»»åŠ¡æ”¾å…¥ Stack(æ ˆï¼‰ä¸­æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæˆåï¼ŒæŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œæœ‰çš„è¯ï¼Œæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚é‡å¤ 4ï¼Œç»§ç»­ä»å®ä»»åŠ¡ä¸­å–ä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæˆä¹‹åï¼Œç»§ç»­æ¸…ç©ºå¾®ä»»åŠ¡ï¼Œå¦‚æ­¤åå¤å¾ªç¯ï¼Œç›´è‡³æ¸…ç©ºæ‰€æœ‰çš„ä»»åŠ¡ã€‚</li></ol><p>  <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/342e581223d2471d9484fc48beb9f8e1~tplv-k3u1fbpfcp-watermark.awebp" alt="äº‹ä»¶å¾ªç¯æµç¨‹"></p></li><li><p>æµè§ˆå™¨ä¸­çš„ä»»åŠ¡æº(task):</p><ul><li><code>å®ä»»åŠ¡(macrotask)</code>ï¼š<br>  å®¿ä¸»ç¯å¢ƒæä¾›çš„ï¼Œæ¯”å¦‚æµè§ˆå™¨<br>  ajaxã€setTimeoutã€setIntervalã€setTmmediate(åªå…¼å®¹ ie)ã€scriptã€requestAnimationFrameã€messageChannelã€UI æ¸²æŸ“ã€ä¸€äº›æµè§ˆå™¨ api</li><li><code>å¾®ä»»åŠ¡(microtask)</code>ï¼š<br>  è¯­è¨€æœ¬èº«æä¾›çš„ï¼Œæ¯”å¦‚ promise.then<br>  thenã€queueMicrotask(åŸºäº then)ã€mutationObserver(æµè§ˆå™¨æä¾›)ã€messageChannel ã€mutationObersve</li></ul></li></ul><h4 id="Node-ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop"><a href="#Node-ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop" class="headerlink" title="Node ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)"></a><strong>Node ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)</strong></h4><p><code>Node</code>æ˜¯åŸºäº V8 å¼•æ“çš„è¿è¡Œåœ¨æœåŠ¡ç«¯çš„<code>JavaScript</code>è¿è¡Œç¯å¢ƒï¼Œåœ¨å¤„ç†é«˜å¹¶å‘ã€I/O å¯†é›†(æ–‡ä»¶æ“ä½œã€ç½‘ç»œæ“ä½œã€æ•°æ®åº“æ“ä½œç­‰)åœºæ™¯æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ã€‚è™½ç„¶ç”¨åˆ°ä¹Ÿæ˜¯ V8 å¼•æ“ï¼Œä½†ç”±äºæœåŠ¡ç›®çš„å’Œç¯å¢ƒä¸åŒï¼Œå¯¼è‡´äº†å®ƒçš„ API ä¸åŸç”Ÿ JS æœ‰äº›åŒºåˆ«ï¼Œå…¶ Event Loop è¿˜è¦å¤„ç†ä¸€äº› I/Oï¼Œæ¯”å¦‚æ–°çš„ç½‘ç»œè¿æ¥ç­‰ï¼Œæ‰€ä»¥ Node çš„ Event Loop(äº‹ä»¶ç¯æœºåˆ¶)ä¸æµè§ˆå™¨çš„æ˜¯ä¸å¤ªä¸€æ ·ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e362c1770f62428fbf3faabd99d2a64c~tplv-k3u1fbpfcp-watermark.awebp" alt="2020120317343116.png"> æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p><ul><li>  <code>timers</code>: è®¡æ—¶å™¨ï¼Œæ‰§è¡Œ setTimeout å’Œ setInterval çš„å›è°ƒ</li><li>  <code>pending callbacks</code>: æ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I/O å›è°ƒ</li><li>  <code>idle, prepare</code>: é˜Ÿåˆ—çš„ç§»åŠ¨ï¼Œä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨</li><li>  <code>pollè½®è¯¢</code>: æ£€ç´¢æ–°çš„ I/O äº‹ä»¶;æ‰§è¡Œä¸ I/O ç›¸å…³çš„å›è°ƒã€‚äº‹å®ä¸Šé™¤äº†å…¶ä»–å‡ ä¸ªé˜¶æ®µå¤„ç†çš„äº‹æƒ…ï¼Œå…¶ä»–å‡ ä¹æ‰€æœ‰çš„å¼‚æ­¥éƒ½åœ¨è¿™ä¸ªé˜¶æ®µå¤„ç†ã€‚</li><li>  <code>check</code>: æ‰§è¡Œ<code>setImmediate</code>å›è°ƒï¼ŒsetImmediate åœ¨è¿™é‡Œæ‰§è¡Œ</li><li>  <code>close callbacks</code>: æ‰§è¡Œ<code>close</code>äº‹ä»¶çš„<code>callback</code>ï¼Œä¸€äº›å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™, â€¦)</li></ul><h3 id="setTimeoutã€Promiseã€Async-Await-çš„åŒºåˆ«"><a href="#setTimeoutã€Promiseã€Async-Await-çš„åŒºåˆ«" class="headerlink" title="setTimeoutã€Promiseã€Async/Await çš„åŒºåˆ«"></a>setTimeoutã€Promiseã€Async/Await çš„åŒºåˆ«</h3><ol><li><p>setTimeout</p><p> settimeout çš„å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œç­‰åˆ°æ‰§è¡Œæ ˆæ¸…ç©ºä»¥åæ‰§è¡Œã€‚</p></li><li><p>Promise</p><p> Promise æœ¬èº«æ˜¯<strong>åŒæ­¥çš„ç«‹å³æ‰§è¡Œå‡½æ•°</strong>ï¼Œ å½“åœ¨ executor ä¸­æ‰§è¡Œ resolve æˆ–è€… reject çš„æ—¶å€™, æ­¤æ—¶æ˜¯å¼‚æ­¥æ“ä½œï¼Œ ä¼šå…ˆæ‰§è¡Œ then/catch ç­‰ï¼Œå½“ä¸»æ ˆå®Œæˆåï¼Œæ‰ä¼šå»è°ƒç”¨ resolve/reject ä¸­å­˜æ”¾çš„æ–¹æ³•æ‰§è¡Œã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">    resolve()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1 end&#x27;</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;settimeout&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåº: script start-&gt;promise1-&gt;promise1 end-&gt;script end-&gt;promise2-&gt;settimeout</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure></li><li><p>async/await</p><p> async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œæ˜¯è®©å‡ºäº†çº¿ç¨‹ï¼Œè·³å‡ºäº† async å‡½æ•°ä½“ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">    <span class="keyword">await</span> async2()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line">async1()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåºï¼šscript start-&gt;async1 start-&gt;async2-&gt;script end-&gt;async1 end</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure></li></ol><h3 id="Async-Await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥"><a href="#Async-Await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥" class="headerlink" title="Async/Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥"></a>Async/Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥</h3><p>Async/Await å°±æ˜¯ä¸€ä¸ª<strong>è‡ªæ‰§è¡Œ</strong>çš„ generate å‡½æ•°ã€‚åˆ©ç”¨ generate å‡½æ•°çš„ç‰¹æ€§æŠŠå¼‚æ­¥çš„ä»£ç å†™æˆâ€œåŒæ­¥â€çš„å½¢å¼,ç¬¬ä¸€ä¸ªè¯·æ±‚çš„è¿”å›å€¼ä½œä¸ºåé¢ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°,å…¶ä¸­æ¯ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ª promise å¯¹è±¡.</p><h3 id="ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨"><a href="#ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨" class="headerlink" title="ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨"></a>ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨</h3><p><code>èŠ‚æµ</code>ï¼šäº‹ä»¶è§¦å‘åï¼Œè§„å®šæ—¶é—´å†…ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°ä¸èƒ½å†æ¬¡è¢«è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è§„å®šçš„æ—¶é—´å†…ï¼Œå‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä¸”æ˜¯æœ€å…ˆè¢«è§¦å‘è°ƒç”¨çš„é‚£æ¬¡ã€‚</p><p><code>é˜²æŠ–</code>ï¼šå¤šæ¬¡è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ˜¯åœ¨è§¦å‘æ“ä½œç»“æŸæ—¶æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘å‡†å¤‡æ‰§è¡Œäº‹ä»¶å‡½æ•°å‰ï¼Œä¼šç­‰å¾…ä¸€å®šçš„æ—¶é—´ï¼ˆè¿™æ—¶é—´æ˜¯ç å†œè‡ªå·±å»å®šä¹‰çš„ï¼Œæ¯”å¦‚ 1 ç§’ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å†æ¬¡è¢«è§¦å‘ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œï¼Œå¦‚æœè¢«è§¦å‘äº†ï¼Œé‚£å°±æœ¬æ¬¡ä½œåºŸï¼Œé‡æ–°ä»æ–°è§¦å‘çš„æ—¶é—´å¼€å§‹è®¡ç®—ï¼Œå¹¶å†æ¬¡ç­‰å¾… 1 ç§’ï¼Œç›´åˆ°èƒ½æœ€ç»ˆæ‰§è¡Œï¼</p><p><code>ä½¿ç”¨åœºæ™¯</code>ï¼š<br>èŠ‚æµï¼šæ»šåŠ¨åŠ è½½æ›´å¤šã€æœç´¢æ¡†æœçš„ç´¢è”æƒ³åŠŸèƒ½ã€é«˜é¢‘ç‚¹å‡»ã€è¡¨å•é‡å¤æäº¤â€¦â€¦<br>é˜²æŠ–ï¼šæœç´¢æ¡†æœç´¢è¾“å…¥ï¼Œå¹¶åœ¨è¾“å…¥å®Œä»¥åè‡ªåŠ¨æœç´¢ã€æ‰‹æœºå·ï¼Œé‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹ã€çª—å£å¤§å° resize å˜åŒ–åï¼Œå†é‡æ–°æ¸²æŸ“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èŠ‚æµå‡½æ•° ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸€æ¬¡åï¼Œåªæœ‰å¤§äºè®¾å®šçš„æ‰§è¡Œå‘¨æœŸæ‰ä¼šæ‰§è¡Œç¬¬äºŒæ¬¡ã€‚æœ‰ä¸ªéœ€è¦é¢‘ç¹è§¦å‘çš„å‡½æ•°ï¼Œå‡ºäºä¼˜åŒ–æ€§èƒ½çš„è§’åº¦ï¼Œåœ¨è§„å®šæ—¶é—´å†…ï¼Œåªè®©å‡½æ•°è§¦å‘çš„ç¬¬ä¸€æ¬¡ç”Ÿæ•ˆï¼Œåé¢çš„ä¸ç”Ÿæ•ˆã€‚</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fnè¦è¢«èŠ‚æµçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>delayè§„å®šçš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//è®°å½•ä¸Šä¸€æ¬¡å‡½æ•°è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> lastTime = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//è®°å½•å½“å‰å‡½æ•°è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">        <span class="keyword">var</span> nowTime = <span class="built_in">Date</span>.now()</span><br><span class="line">        <span class="keyword">if</span> (nowTime - lastTime &gt; delay) &#123;</span><br><span class="line">            <span class="comment">//ä¿®æ­£thisæŒ‡å‘é—®é¢˜</span></span><br><span class="line">            fn.call(<span class="built_in">this</span>)</span><br><span class="line">            <span class="comment">//åŒæ­¥æ‰§è¡Œç»“æŸæ—¶é—´</span></span><br><span class="line">            lastTime = nowTime</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.onscroll = throttle(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;sclloräº‹ä»¶è¢«è§¦å‘äº†&#x27;</span> + <span class="built_in">Date</span>.now())</span><br><span class="line">&#125;, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é˜²æŠ–å‡½æ•°  ä¸€ä¸ªéœ€è¦é¢‘ç¹è§¦å‘çš„å‡½æ•°ï¼Œåœ¨è§„å®šæ—¶é—´å†…ï¼Œåªè®©æœ€åä¸€æ¬¡ç”Ÿæ•ˆï¼Œå‰é¢çš„ä¸ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fnè¦è¢«èŠ‚æµçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>delayè§„å®šçš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//è®°å½•ä¸Šä¸€æ¬¡çš„å»¶æ—¶å™¨</span></span><br><span class="line">    <span class="keyword">var</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//æ¸…é™¤ä¸Šä¸€æ¬¡çš„æ¼”ç¤ºå™¨</span></span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="comment">//é‡æ–°è®¾ç½®æ–°çš„å»¶æ—¶å™¨</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//ä¿®æ­£thisæŒ‡å‘é—®é¢˜</span></span><br><span class="line">            fn.apply(<span class="built_in">this</span>)</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn&#x27;</span>).onclick = debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æŒ‰é’®è¢«ç‚¹å‡»äº†&#x27;</span> + <span class="built_in">Date</span>.now())</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="ç®€è¿°-MVVM"><a href="#ç®€è¿°-MVVM" class="headerlink" title="ç®€è¿° MVVM"></a>ç®€è¿° MVVM</h3><p><strong>ä»€ä¹ˆæ˜¯ MVVMï¼Ÿ</strong></p><p><code>è§†å›¾æ¨¡å‹åŒå‘ç»‘å®š</code>ï¼Œæ˜¯<code>Model-View-ViewModel</code>çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯æŠŠ<code>MVC</code>ä¸­çš„<code>Controller</code>æ¼”å˜æˆ<code>ViewModelã€‚Model</code>å±‚ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œ<code>View</code>ä»£è¡¨ UI ç»„ä»¶ï¼Œ<code>ViewModel</code>æ˜¯<code>View</code>å’Œ<code>Model</code>å±‚çš„æ¡¥æ¢ï¼Œæ•°æ®ä¼šç»‘å®šåˆ°<code>viewModel</code>å±‚å¹¶è‡ªåŠ¨å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œè§†å›¾å˜åŒ–çš„æ—¶å€™ä¼šé€šçŸ¥<code>viewModel</code>å±‚æ›´æ–°æ•°æ®ã€‚ä»¥å‰æ˜¯æ“ä½œ DOM ç»“æ„æ›´æ–°è§†å›¾ï¼Œç°åœ¨æ˜¯<code>æ•°æ®é©±åŠ¨è§†å›¾</code>ã€‚</p><p><strong>MVVM çš„ä¼˜ç‚¹ï¼š</strong></p><p>1.<code>ä½è€¦åˆ</code>ã€‚è§†å›¾ï¼ˆViewï¼‰å¯ä»¥ç‹¬ç«‹äº Model å˜åŒ–å’Œä¿®æ”¹ï¼Œä¸€ä¸ª Model å¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„ View ä¸Šï¼Œå½“ View å˜åŒ–çš„æ—¶å€™ Model å¯ä»¥ä¸å˜åŒ–ï¼Œå½“ Model å˜åŒ–çš„æ—¶å€™ View ä¹Ÿå¯ä»¥ä¸å˜ï¼› 2.<code>å¯é‡ç”¨æ€§</code>ã€‚ä½ å¯ä»¥æŠŠä¸€äº›è§†å›¾é€»è¾‘æ”¾åœ¨ä¸€ä¸ª Model é‡Œé¢ï¼Œè®©å¾ˆå¤š View é‡ç”¨è¿™æ®µè§†å›¾é€»è¾‘ã€‚ 3.<code>ç‹¬ç«‹å¼€å‘</code>ã€‚å¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®çš„å¼€å‘(ViewModel)ï¼Œè®¾è®¡äººå‘˜å¯ä»¥ä¸“æ³¨äºé¡µé¢è®¾è®¡ã€‚ 4.<code>å¯æµ‹è¯•</code>ã€‚</p><h3 id="Vue-åº•å±‚å®ç°åŸç†"><a href="#Vue-åº•å±‚å®ç°åŸç†" class="headerlink" title="Vue åº•å±‚å®ç°åŸç†"></a>Vue åº•å±‚å®ç°åŸç†</h3><p>vue.js æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„ setter å’Œ getterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒ<br>Vue æ˜¯ä¸€ä¸ªå…¸å‹çš„ MVVM æ¡†æ¶ï¼Œæ¨¡å‹ï¼ˆModelï¼‰åªæ˜¯æ™®é€šçš„ javascript å¯¹è±¡ï¼Œä¿®æ”¹å®ƒåˆ™è¯•å›¾ï¼ˆViewï¼‰ä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™ç§è®¾è®¡è®©çŠ¶æ€ç®¡ç†å˜å¾—éå¸¸ç®€å•è€Œç›´è§‚</p><p><strong>Observerï¼ˆæ•°æ®ç›‘å¬å™¨ï¼‰</strong> : Observer çš„æ ¸å¿ƒæ˜¯é€šè¿‡ Object.defineProprtty()æ¥ç›‘å¬æ•°æ®çš„å˜åŠ¨ï¼Œè¿™ä¸ªå‡½æ•°å†…éƒ¨å¯ä»¥å®šä¹‰ setter å’Œ getterï¼Œæ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè§¦å‘ setterã€‚è¿™æ—¶å€™ Observer å°±è¦é€šçŸ¥è®¢é˜…è€…ï¼Œè®¢é˜…è€…å°±æ˜¯ Watcher</p><p><strong>Watcherï¼ˆè®¢é˜…è€…ï¼‰</strong> : Watcher è®¢é˜…è€…ä½œä¸º Observer å’Œ Compile ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æ˜¯ï¼š</p><ol><li>åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·±</li><li>è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ª update()æ–¹æ³•</li><li>å¾…å±æ€§å˜åŠ¨ dep.notice()é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„ update()æ–¹æ³•ï¼Œå¹¶è§¦å‘ Compile ä¸­ç»‘å®šçš„å›è°ƒ</li></ol><p><strong>Compileï¼ˆæŒ‡ä»¤è§£æå™¨ï¼‰</strong> : Compile ä¸»è¦åšçš„äº‹æƒ…æ˜¯è§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ é‰´å®šæ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è¯•å›¾</p><h3 id="è°ˆè°ˆå¯¹-vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"><a href="#è°ˆè°ˆå¯¹-vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ" class="headerlink" title="è°ˆè°ˆå¯¹ vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"></a>è°ˆè°ˆå¯¹ vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ</h3><p>æ¯ä¸ª<code>Vue</code>å®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½ä¼šç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œ<code>vue</code>çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå°±æ˜¯è¯´åœ¨è¾¾åˆ°æŸä¸€é˜¶æ®µæˆ–æ¡ä»¶æ—¶å»è§¦å‘çš„å‡½æ•°ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†å®Œæˆä¸€äº›åŠ¨ä½œæˆ–è€…äº‹ä»¶</p><ul><li><code>createé˜¶æ®µ</code>ï¼švue å®ä¾‹è¢«åˆ›å»º<br>  <code>beforeCreate</code>: åˆ›å»ºå‰ï¼Œæ­¤æ—¶ data å’Œ methods ä¸­çš„æ•°æ®éƒ½è¿˜æ²¡æœ‰åˆå§‹åŒ–<br>  <code>created</code>ï¼š åˆ›å»ºå®Œæ¯•ï¼Œdata ä¸­æœ‰å€¼ï¼ŒæœªæŒ‚è½½</li><li><code>mounté˜¶æ®µ</code>ï¼š vue å®ä¾‹è¢«æŒ‚è½½åˆ°çœŸå® DOM èŠ‚ç‚¹<br>  <code>beforeMount</code>ï¼šå¯ä»¥å‘èµ·æœåŠ¡ç«¯è¯·æ±‚ï¼Œå»æ•°æ®<br>  <code>mounted</code>: æ­¤æ—¶å¯ä»¥æ“ä½œ DOM</li><li><code>updateé˜¶æ®µ</code>ï¼šå½“ vue å®ä¾‹é‡Œé¢çš„ data æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“<br>  <code>beforeUpdate</code> :æ›´æ–°å‰<br>  <code>updated</code>ï¼šæ›´æ–°å</li><li><code>destroyé˜¶æ®µ</code>ï¼švue å®ä¾‹è¢«é”€æ¯<br>  <code>beforeDestroy</code>ï¼šå®ä¾‹è¢«é”€æ¯å‰ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨é”€æ¯ä¸€äº›æ–¹æ³•<br>  <code>destroyed</code>:é”€æ¯å</li></ul><h4 id="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h4><p>ç”Ÿå‘½å‘¨æœŸï¼ˆçˆ¶å­ç»„ä»¶ï¼‰ çˆ¶ç»„ä»¶ beforeCreate â€“&gt; çˆ¶ç»„ä»¶ created â€“&gt; çˆ¶ç»„ä»¶ beforeMount â€“&gt; å­ç»„ä»¶ beforeCreate â€“&gt; å­ç»„ä»¶ created â€“&gt; å­ç»„ä»¶ beforeMount â€“&gt; å­ç»„ä»¶ mounted â€“&gt; çˆ¶ç»„ä»¶ mounted â€“&gt;çˆ¶ç»„ä»¶ beforeUpdate â€“&gt;å­ç»„ä»¶ beforeDestroyâ€“&gt; å­ç»„ä»¶ destroyed â€“&gt; çˆ¶ç»„ä»¶ updated</p><p><strong>åŠ è½½æ¸²æŸ“è¿‡ç¨‹</strong> çˆ¶ beforeCreate-&gt;çˆ¶ created-&gt;çˆ¶ beforeMount-&gt;å­ beforeCreate-&gt;å­ created-&gt;å­ beforeMount-&gt;å­ mounted-&gt;çˆ¶ mounted</p><p><strong>æŒ‚è½½é˜¶æ®µ</strong> çˆ¶ created-&gt;å­ created-&gt;å­ mounted-&gt;çˆ¶ mounted</p><p><strong>çˆ¶ç»„ä»¶æ›´æ–°é˜¶æ®µ</strong> çˆ¶ beforeUpdate-&gt;çˆ¶ updated</p><p><strong>å­ç»„ä»¶æ›´æ–°é˜¶æ®µ</strong> çˆ¶ beforeUpdate-&gt;å­ beforeUpdate-&gt;å­ updated-&gt;çˆ¶ updated</p><p><strong>é”€æ¯é˜¶æ®µ</strong> çˆ¶ beforeDestroy-&gt;å­ beforeDestroy-&gt;å­ destroyed-&gt;çˆ¶ destroyed</p><h3 id="computedä¸watch"><a href="#computedä¸watch" class="headerlink" title="computedä¸watch"></a><code>computedä¸watch</code></h3><p>é€šä¿—æ¥è®²ï¼Œæ—¢èƒ½ç”¨ computed å®ç°åˆå¯ä»¥ç”¨ watch ç›‘å¬æ¥å®ç°çš„åŠŸèƒ½ï¼Œæ¨èç”¨ computedï¼Œ é‡ç‚¹åœ¨äº computed çš„ç¼“å­˜åŠŸèƒ½ computed è®¡ç®—å±æ€§æ˜¯ç”¨æ¥å£°æ˜å¼çš„æè¿°ä¸€ä¸ªå€¼ä¾èµ–äº†å…¶å®ƒçš„å€¼ï¼Œå½“æ‰€ä¾èµ–çš„å€¼æˆ–è€…å˜é‡ æ”¹å˜æ—¶ï¼Œè®¡ç®—å±æ€§ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼› watch ç›‘å¬çš„æ˜¯å·²ç»åœ¨ data ä¸­å®šä¹‰çš„å˜é‡ï¼Œå½“è¯¥å˜é‡å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘ watch ä¸­çš„æ–¹æ³•ã€‚</p><p><strong>watch å±æ€§ç›‘å¬</strong> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„å±æ€§ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ï¼Œä¸»è¦ç”¨æ¥ç›‘å¬æŸäº›ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œä»è€Œè¿›è¡ŒæŸäº›å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ“ä½œ,ç›‘å¬å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ä½¿ç”¨</p><p><strong>computed è®¡ç®—å±æ€§</strong> å±æ€§çš„ç»“æœä¼šè¢«<code>ç¼“å­˜</code>ï¼Œå½“<code>computed</code>ä¸­çš„å‡½æ•°æ‰€ä¾èµ–çš„å±æ€§æ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆè°ƒç”¨å½“å‰å‡½æ•°çš„æ—¶å€™ç»“æœä¼šä»ç¼“å­˜ä¸­è¯»å–ã€‚é™¤éä¾èµ–çš„å“åº”å¼å±æ€§å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œä¸»è¦å½“åšå±æ€§æ¥ä½¿ç”¨ <code>computed</code>ä¸­çš„å‡½æ•°å¿…é¡»ç”¨<code>return</code>è¿”å›æœ€ç»ˆçš„ç»“æœ <code>computed</code>æ›´é«˜æ•ˆï¼Œä¼˜å…ˆä½¿ç”¨ã€‚<code>data ä¸æ”¹å˜ï¼Œcomputed ä¸æ›´æ–°ã€‚</code></p><p><strong>ä½¿ç”¨åœºæ™¯</strong> <code>computed</code>ï¼šå½“ä¸€ä¸ªå±æ€§å—å¤šä¸ªå±æ€§å½±å“çš„æ—¶å€™ä½¿ç”¨ï¼Œä¾‹ï¼šè´­ç‰©è½¦å•†å“ç»“ç®—åŠŸèƒ½ <code>watch</code>ï¼šå½“ä¸€æ¡æ•°æ®å½±å“å¤šæ¡æ•°æ®çš„æ—¶å€™ä½¿ç”¨ï¼Œä¾‹ï¼šæœç´¢æ•°æ®</p><h4 id="ç»„ä»¶ä¸­çš„-data-ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"><a href="#ç»„ä»¶ä¸­çš„-data-ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ" class="headerlink" title="ç»„ä»¶ä¸­çš„ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"></a>ç»„ä»¶ä¸­çš„ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ</h4><p>1.ä¸€ä¸ªç»„ä»¶è¢«å¤ç”¨å¤šæ¬¡çš„è¯ï¼Œä¹Ÿå°±ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚æœ¬è´¨ä¸Šï¼Œè¿™äº›å®ä¾‹ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ 2.å¦‚æœ data æ˜¯å¯¹è±¡çš„è¯ï¼Œå¯¹è±¡å±äºå¼•ç”¨ç±»å‹ï¼Œä¼šå½±å“åˆ°æ‰€æœ‰çš„å®ä¾‹ã€‚æ‰€ä»¥ä¸ºäº†ä¿è¯ç»„ä»¶ä¸åŒçš„å®ä¾‹ä¹‹é—´ data ä¸å†²çªï¼Œdata å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p><h4 id="ä¸ºä»€ä¹ˆ-v-for-å’Œ-v-if-ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·"><a href="#ä¸ºä»€ä¹ˆ-v-for-å’Œ-v-if-ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·" class="headerlink" title="ä¸ºä»€ä¹ˆ v-for å’Œ v-if ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·"></a>ä¸ºä»€ä¹ˆ v-for å’Œ v-if ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·</h4><p>1.å½“ v-for å’Œ v-if å¤„äºåŒä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œv-for çš„ä¼˜å…ˆçº§æ¯” v-if æ›´é«˜ï¼Œè¿™æ„å‘³ç€ v-if å°†åˆ†åˆ«é‡å¤è¿è¡Œäºæ¯ä¸ª v-for å¾ªç¯ä¸­ã€‚å¦‚æœè¦éå†çš„æ•°ç»„å¾ˆå¤§ï¼Œè€ŒçœŸæ­£è¦å±•ç¤ºçš„æ•°æ®å¾ˆå°‘æ—¶ï¼Œè¿™å°†é€ æˆå¾ˆå¤§çš„æ€§èƒ½æµªè´¹ 2.è¿™ç§åœºæ™¯å»ºè®®ä½¿ç”¨ computedï¼Œå…ˆå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤</p><h3 id="React-Vue-é¡¹ç›®ä¸­-key-çš„ä½œç”¨"><a href="#React-Vue-é¡¹ç›®ä¸­-key-çš„ä½œç”¨" class="headerlink" title="React/Vue é¡¹ç›®ä¸­ key çš„ä½œç”¨"></a>React/Vue é¡¹ç›®ä¸­ key çš„ä½œç”¨</h3><ul><li><p>key çš„ä½œç”¨æ˜¯ä¸ºäº†åœ¨ diff ç®—æ³•æ‰§è¡Œæ—¶æ›´å¿«çš„æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œ<code>æé«˜diffé€Ÿåº¦ï¼Œæ›´é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOM</code>;</p><p>  vue å’Œ react éƒ½æ˜¯é‡‡ç”¨ diff ç®—æ³•æ¥å¯¹æ¯”æ–°æ—§è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»è€Œæ›´æ–°èŠ‚ç‚¹ã€‚åœ¨ vue çš„ diff å‡½æ•°ä¸­ï¼Œä¼šæ ¹æ®æ–°èŠ‚ç‚¹çš„ key å»å¯¹æ¯”æ—§èŠ‚ç‚¹æ•°ç»„ä¸­çš„ keyï¼Œä»è€Œæ‰¾åˆ°ç›¸åº”æ—§èŠ‚ç‚¹ã€‚å¦‚æœæ²¡æ‰¾åˆ°å°±è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°å¢èŠ‚ç‚¹ã€‚è€Œå¦‚æœæ²¡æœ‰ keyï¼Œé‚£ä¹ˆå°±ä¼šé‡‡ç”¨éå†æŸ¥æ‰¾çš„æ–¹å¼å»æ‰¾åˆ°å¯¹åº”çš„æ—§èŠ‚ç‚¹ã€‚ä¸€ç§ä¸€ä¸ª map æ˜ å°„ï¼Œå¦ä¸€ç§æ˜¯éå†æŸ¥æ‰¾ã€‚ç›¸æ¯”è€Œè¨€ã€‚map æ˜ å°„çš„é€Ÿåº¦æ›´å¿«ã€‚</p></li><li><p>ä¸ºäº†åœ¨æ•°æ®å˜åŒ–æ—¶å¼ºåˆ¶æ›´æ–°ç»„ä»¶ï¼Œä»¥é¿å…<code>â€œå°±åœ°å¤ç”¨â€</code>å¸¦æ¥çš„å‰¯ä½œç”¨ã€‚</p><p>  å½“ Vue.js ç”¨ <code>v-for</code> æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ç”¨â€œå°±åœ°å¤ç”¨â€ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯ç®€å•å¤ç”¨æ­¤å¤„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒåœ¨ç‰¹å®šç´¢å¼•ä¸‹æ˜¾ç¤ºå·²è¢«æ¸²æŸ“è¿‡çš„æ¯ä¸ªå…ƒç´ ã€‚é‡å¤çš„ key ä¼šé€ æˆæ¸²æŸ“é”™è¯¯ã€‚</p></li></ul><h3 id="vue-ç»„ä»¶çš„é€šä¿¡æ–¹å¼"><a href="#vue-ç»„ä»¶çš„é€šä¿¡æ–¹å¼" class="headerlink" title="vue ç»„ä»¶çš„é€šä¿¡æ–¹å¼"></a>vue ç»„ä»¶çš„é€šä¿¡æ–¹å¼</h3><ul><li><p><code>props</code>/<code>$emit</code> çˆ¶å­ç»„ä»¶é€šä¿¡</p><p>  çˆ¶-&gt;å­<code>props</code>ï¼Œå­-&gt;çˆ¶ <code>$onã€$emit</code> è·å–çˆ¶å­ç»„ä»¶å®ä¾‹ <code>parentã€children</code> <code>Ref </code>è·å–å®ä¾‹çš„æ–¹å¼è°ƒç”¨ç»„ä»¶çš„å±æ€§æˆ–è€…æ–¹æ³• çˆ¶-&gt;å­å­™ <code>Provideã€inject</code> å®˜æ–¹ä¸æ¨èä½¿ç”¨ï¼Œä½†æ˜¯å†™ç»„ä»¶åº“æ—¶å¾ˆå¸¸ç”¨</p></li><li><p><code>$emit</code>/<code>$on</code> è‡ªå®šä¹‰äº‹ä»¶ å…„å¼Ÿç»„ä»¶é€šä¿¡</p><p>  <code>Event Bus</code> å®ç°è·¨ç»„ä»¶é€šä¿¡ <code>Vue.prototype.$bus = new Vue()</code> è‡ªå®šä¹‰äº‹ä»¶</p></li><li><p>vuex è·¨çº§ç»„ä»¶é€šä¿¡</p><p>  Vuexã€<code>$attrsã€$listeners</code> <code>Provideã€inject</code></p></li></ul><h3 id="nextTick-çš„å®ç°"><a href="#nextTick-çš„å®ç°" class="headerlink" title="nextTick çš„å®ç°"></a>nextTick çš„å®ç°</h3><ol><li><code>nextTick</code>æ˜¯<code>Vue</code>æä¾›çš„ä¸€ä¸ªå…¨å±€<code>API</code>,æ˜¯åœ¨ä¸‹æ¬¡<code>DOM</code>æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨<code>$nextTick</code>ï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„<code>DOM</code>ï¼›</li><li>Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼Œ<code>Vue</code>å°†å¼€å¯ 1 ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª<code>watcher</code>è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­-æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ<code>DOM</code>æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚<code>nextTick</code>æ–¹æ³•ä¼šåœ¨é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç¡®ä¿è¯¥å‡½æ•°åœ¨å‰é¢çš„ dom æ“ä½œå®Œæˆåæ‰è°ƒç”¨ï¼›</li><li>æ¯”å¦‚ï¼Œæˆ‘åœ¨å¹²ä»€ä¹ˆçš„æ—¶å€™å°±ä¼šä½¿ç”¨ nextTickï¼Œä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°è¿›å»ï¼Œåœ¨é‡Œé¢æ‰§è¡Œ dom æ“ä½œå³å¯ï¼›</li><li>æˆ‘ä¹Ÿæœ‰ç®€å•äº†è§£<code>nextTick</code>å®ç°ï¼Œå®ƒä¼šåœ¨<code>callbacks</code>é‡Œé¢åŠ å…¥æˆ‘ä»¬ä¼ å…¥çš„å‡½æ•°ï¼Œç„¶åç”¨<code>timerFunc</code>å¼‚æ­¥æ–¹å¼è°ƒç”¨å®ƒä»¬ï¼Œé¦–é€‰çš„å¼‚æ­¥æ–¹å¼ä¼šæ˜¯<code>Promise</code>ã€‚è¿™è®©æˆ‘æ˜ç™½äº†ä¸ºä»€ä¹ˆå¯ä»¥åœ¨<code>nextTick</code>ä¸­çœ‹åˆ°<code>dom</code>æ“ä½œç»“æœã€‚</li></ol><h3 id="nextTick-çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#nextTick-çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="nextTick çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>nextTick çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨ nextTick æ¥è·å–æ›´æ–°åçš„ DOMã€‚ nextTick ä¸»è¦ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚ æ ¹æ®æ‰§è¡Œç¯å¢ƒåˆ†åˆ«å°è¯•é‡‡ç”¨ Promiseã€MutationObserverã€setImmediateï¼Œå¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œåˆ™é‡‡ç”¨ setTimeout å®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œå¤šæ¬¡è°ƒç”¨ nextTick ä¼šå°†æ–¹æ³•å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¼‚æ­¥æ–¹æ³•æ¸…ç©ºå½“å‰é˜Ÿåˆ—ã€‚</p><h3 id="ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½"><a href="#ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½"></a>ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½</h3><p>vue ä¸­çš„æ’æ§½æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ä¸œè¥¿ slot è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå ä½çš„ åœ¨ vue å½“ä¸­æ’æ§½åŒ…å«ä¸‰ç§ä¸€ç§æ˜¯é»˜è®¤æ’æ§½ï¼ˆåŒ¿åï¼‰ä¸€ç§æ˜¯å…·åæ’æ§½è¿˜æœ‰ä¸€ç§å°±æ˜¯ä½œç”¨åŸŸæ’æ§½ åŒ¿åæ’æ§½å°±æ˜¯æ²¡æœ‰åå­—çš„åªè¦é»˜è®¤çš„éƒ½å¡«åˆ°è¿™é‡Œå…·åæ’æ§½æŒ‡çš„æ˜¯å…·æœ‰åå­—çš„</p><h3 id="keep-alive-çš„å®ç°"><a href="#keep-alive-çš„å®ç°" class="headerlink" title="keep-alive çš„å®ç°"></a>keep-alive çš„å®ç°</h3><p>ä½œç”¨ï¼šå®ç°ç»„ä»¶ç¼“å­˜ï¼Œä¿æŒè¿™äº›ç»„ä»¶çš„çŠ¶æ€ï¼Œä»¥é¿å…åå¤æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚ éœ€è¦ç¼“å­˜ç»„ä»¶ é¢‘ç¹åˆ‡æ¢ï¼Œä¸éœ€è¦é‡å¤æ¸²æŸ“</p><p>åœºæ™¯ï¼štabs æ ‡ç­¾é¡µ åå°å¯¼èˆªï¼Œvue æ€§èƒ½ä¼˜åŒ–</p><p>åŸç†ï¼š<code>Vue.js</code>å†…éƒ¨å°†<code>DOM</code>èŠ‚ç‚¹æŠ½è±¡æˆäº†ä¸€ä¸ªä¸ªçš„<code>VNode</code>èŠ‚ç‚¹ï¼Œ<code>keep-alive</code>ç»„ä»¶çš„ç¼“å­˜ä¹Ÿæ˜¯åŸºäº<code>VNode</code>èŠ‚ç‚¹çš„è€Œä¸æ˜¯ç›´æ¥å­˜å‚¨<code>DOM</code>ç»“æ„ã€‚å®ƒå°†æ»¡è¶³æ¡ä»¶<code>ï¼ˆpruneCacheä¸pruneCacheï¼‰</code>çš„ç»„ä»¶åœ¨<code>cache</code>å¯¹è±¡ä¸­ç¼“å­˜èµ·æ¥ï¼Œåœ¨éœ€è¦é‡æ–°æ¸²æŸ“çš„æ—¶å€™å†å°†<code>vnode</code>èŠ‚ç‚¹ä»<code>cache</code>å¯¹è±¡ä¸­å–å‡ºå¹¶æ¸²æŸ“ã€‚</p><h3 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h3><p>mixin é¡¹ç›®å˜å¾—å¤æ‚çš„æ—¶å€™ï¼Œå¤šä¸ªç»„ä»¶é—´æœ‰é‡å¤çš„é€»è¾‘å°±ä¼šç”¨åˆ° mixin å¤šä¸ªç»„ä»¶æœ‰ç›¸åŒçš„é€»è¾‘ï¼ŒæŠ½ç¦»å‡ºæ¥ mixin å¹¶ä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜ vue3 æå‡ºçš„ Composition API æ—¨åœ¨è§£å†³è¿™äº›é—®é¢˜ã€è¿½æ±‚å®Œç¾æ˜¯è¦æ¶ˆè€—ä¸€å®šçš„æˆæœ¬çš„ï¼Œå¦‚å¼€å‘æˆæœ¬ã€‘ åœºæ™¯ï¼šPC ç«¯æ–°é—»åˆ—è¡¨å’Œè¯¦æƒ…é¡µä¸€æ ·çš„å³ä¾§æ ç›®ï¼Œå¯ä»¥ä½¿ç”¨ mixin è¿›è¡Œæ··åˆ åŠ£åŠ¿ï¼š1.å˜é‡æ¥æºä¸æ˜ç¡®ï¼Œä¸åˆ©äºé˜…è¯» 2.å¤š mixin å¯èƒ½ä¼šé€ æˆå‘½åå†²çª 3.mixin å’Œç»„ä»¶å¯èƒ½å‡ºç°å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä½¿å¾—é¡¹ç›®å¤æ‚åº¦å˜é«˜</p><h3 id="Vuex-çš„ç†è§£åŠä½¿ç”¨åœºæ™¯"><a href="#Vuex-çš„ç†è§£åŠä½¿ç”¨åœºæ™¯" class="headerlink" title="Vuex çš„ç†è§£åŠä½¿ç”¨åœºæ™¯"></a>Vuex çš„ç†è§£åŠä½¿ç”¨åœºæ™¯</h3><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚</p><ol><li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼›å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œ</li></ol><p>è‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–° 2. æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationï¼Œ è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ– Vuex ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š</p><ol><li>Stateï¼šå®šä¹‰äº†åº”ç”¨çš„çŠ¶æ€æ•°æ®</li><li>Getterï¼šåœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ï¼Œ</li></ol><p>å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œ ä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®— 3. Mutationï¼šæ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•° 4. Actionï¼šç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ 5. Moduleï¼šå…è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†ä¸ºå¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7249773a1634f779c48f3f0ffabf968~tplv-k3u1fbpfcp-watermark.awebp" alt="img"></p><h3 id="hooks-ç”¨è¿‡å—ï¼ŸèŠèŠ-react-ä¸­-class-ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«"><a href="#hooks-ç”¨è¿‡å—ï¼ŸèŠèŠ-react-ä¸­-class-ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="hooks ç”¨è¿‡å—ï¼ŸèŠèŠ react ä¸­ class ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«"></a>hooks ç”¨è¿‡å—ï¼ŸèŠèŠ react ä¸­ class ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«</h3><p>ç±»ç»„ä»¶æ˜¯ä½¿ç”¨ ES6 çš„ class æ¥å®šä¹‰çš„ç»„ä»¶ã€‚ å‡½æ•°ç»„ä»¶æ˜¯æ¥æ”¶ä¸€ä¸ªå•ä¸€çš„ <code>props</code> å¯¹è±¡å¹¶è¿”å›ä¸€ä¸ª React å…ƒç´ ã€‚</p><p>å…³äº React çš„ä¸¤å¥— APIï¼ˆç±»ï¼ˆclassï¼‰API å’ŒåŸºäºå‡½æ•°çš„é’©å­ï¼ˆhooksï¼‰ APIï¼‰ã€‚å®˜æ–¹æ¨èä½¿ç”¨é’©å­ï¼ˆå‡½æ•°ï¼‰ï¼Œè€Œä¸æ˜¯ç±»ã€‚å› ä¸ºé’©å­æ›´ç®€æ´ï¼Œä»£ç é‡å°‘ï¼Œç”¨èµ·æ¥æ¯”è¾ƒâ€è½»â€ï¼Œè€Œç±»æ¯”è¾ƒâ€é‡â€ã€‚è€Œä¸”ï¼Œé’©å­æ˜¯å‡½æ•°ï¼Œæ›´ç¬¦åˆ React å‡½æ•°å¼çš„æœ¬è´¨ã€‚</p><p>å‡½æ•°ä¸€èˆ¬æ¥è¯´ï¼Œåªåº”è¯¥åšä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªå€¼ã€‚ å¦‚æœä½ æœ‰å¤šä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåº”è¯¥å†™æˆä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ã€‚è€Œä¸”ï¼Œæ•°æ®çš„çŠ¶æ€åº”è¯¥ä¸æ“ä½œæ–¹æ³•åˆ†ç¦»ã€‚æ ¹æ®å‡½æ•°è¿™ç§ç†å¿µï¼ŒReact çš„å‡½æ•°ç»„ä»¶åªåº”è¯¥åšä¸€ä»¶äº‹æƒ…ï¼šè¿”å›ç»„ä»¶çš„ HTML ä»£ç ï¼Œè€Œæ²¡æœ‰å…¶ä»–çš„åŠŸèƒ½ã€‚å‡½æ•°çš„è¿”å›ç»“æœåªä¾èµ–äºå®ƒçš„å‚æ•°ã€‚ä¸æ”¹å˜å‡½æ•°ä½“å¤–éƒ¨æ•°æ®ã€å‡½æ•°æ‰§è¡Œè¿‡ç¨‹é‡Œé¢æ²¡æœ‰å‰¯ä½œç”¨ã€‚</p><p>ç±»ï¼ˆclassï¼‰æ˜¯æ•°æ®å’Œé€»è¾‘çš„å°è£…ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œç»„ä»¶çš„çŠ¶æ€å’Œæ“ä½œæ–¹æ³•æ˜¯å°è£…åœ¨ä¸€èµ·çš„ã€‚å¦‚æœé€‰æ‹©äº†ç±»çš„å†™æ³•ï¼Œå°±åº”è¯¥æŠŠç›¸å…³çš„æ•°æ®å’Œæ“ä½œï¼Œéƒ½å†™åœ¨åŒä¸€ä¸ª class é‡Œé¢ã€‚</p><p><strong>ç±»ç»„ä»¶çš„ç¼ºç‚¹</strong> :</p><p>å¤§å‹ç»„ä»¶å¾ˆéš¾æ‹†åˆ†å’Œé‡æ„ï¼Œä¹Ÿå¾ˆéš¾æµ‹è¯•ã€‚<br>ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨ç»„ä»¶çš„å„ä¸ªæ–¹æ³•ä¹‹ä¸­ï¼Œå¯¼è‡´é‡å¤é€»è¾‘æˆ–å…³è”é€»è¾‘ã€‚<br>ç»„ä»¶ç±»å¼•å…¥äº†å¤æ‚çš„ç¼–ç¨‹æ¨¡å¼ï¼Œæ¯”å¦‚ render props å’Œé«˜é˜¶ç»„ä»¶ã€‚<br>éš¾ä»¥ç†è§£çš„ classï¼Œç†è§£ JavaScript ä¸­ <code>this</code> çš„å·¥ä½œæ–¹å¼ã€‚</p><p><strong>åŒºåˆ«</strong>ï¼š</p><p>å‡½æ•°ç»„ä»¶çš„æ€§èƒ½æ¯”ç±»ç»„ä»¶çš„æ€§èƒ½è¦é«˜ï¼Œå› ä¸ºç±»ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™è¦å®ä¾‹åŒ–ï¼Œè€Œå‡½æ•°ç»„ä»¶ç›´æ¥æ‰§è¡Œå‡½æ•°å–è¿”å›ç»“æœå³å¯ã€‚</p><p>1.çŠ¶æ€çš„æœ‰æ— <br>hooks å‡ºç°ä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶<code>æ²¡æœ‰å®ä¾‹</code>ï¼Œ<code>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ</code>ï¼Œ<code>æ²¡æœ‰state</code>ï¼Œ<code>æ²¡æœ‰this</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°å‡½æ•°ç»„ä»¶ä¸ºæ— çŠ¶æ€ç»„ä»¶ã€‚ hooks å‡ºç°ä¹‹å‰ï¼Œreact ä¸­çš„å‡½æ•°ç»„ä»¶é€šå¸¸åªè€ƒè™‘è´Ÿè´£ UI çš„æ¸²æŸ“ï¼Œæ²¡æœ‰è‡ªèº«çš„çŠ¶æ€æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚å®ƒçš„è¾“å‡ºåªç”±å‚æ•° props å†³å®šï¼Œä¸å—å…¶ä»–ä»»ä½•å› ç´ å½±å“ã€‚</p><p>2.è°ƒç”¨æ–¹å¼çš„ä¸åŒ<br>å‡½æ•°ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå°†é‡æ–°è°ƒç”¨ç»„ä»¶æ–¹æ³•è¿”å›æ–°çš„ react å…ƒç´ ã€‚ç±»ç»„ä»¶é‡æ–°æ¸²æŸ“å°† new ä¸€ä¸ªæ–°çš„ç»„ä»¶å®ä¾‹ï¼Œç„¶åè°ƒç”¨ render ç±»æ–¹æ³•è¿”å› react å…ƒç´ ï¼Œè¿™ä¹Ÿè¯´æ˜ä¸ºä»€ä¹ˆç±»ç»„ä»¶ä¸­ this æ˜¯å¯å˜çš„ã€‚</p><p>3.å› ä¸ºè°ƒç”¨æ–¹å¼ä¸åŒï¼Œåœ¨å‡½æ•°ç»„ä»¶ä½¿ç”¨ä¸­ä¼šå‡ºç°é—®é¢˜<br>åœ¨æ“ä½œä¸­æ”¹å˜çŠ¶æ€å€¼ï¼Œç±»ç»„ä»¶å¯ä»¥è·å–æœ€æ–°çš„çŠ¶æ€å€¼ï¼Œè€Œå‡½æ•°ç»„ä»¶åˆ™ä¼šæŒ‰ç…§é¡ºåºè¿”å›çŠ¶æ€å€¼</p><p><strong>React Hooksï¼ˆé’©å­çš„ä½œç”¨ï¼‰</strong></p><p><em>Hook</em> æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚</p><p>React Hooks çš„å‡ ä¸ªå¸¸ç”¨é’©å­:</p><ol><li><code>useState()</code> //çŠ¶æ€é’©å­</li><li><code>useContext()</code> //å…±äº«çŠ¶æ€é’©å­</li><li><code>useReducer()</code> //action é’©å­</li><li><code>useEffect()</code> //å‰¯ä½œç”¨é’©å­</li></ol><p>è¿˜æœ‰å‡ ä¸ªä¸å¸¸è§çš„å¤§æ¦‚çš„è¯´ä¸‹ï¼Œåç»­ä¼šä¸“é—¨å†™ç¯‡æ–‡ç« æè¿°ä¸‹</p><ul><li><p>1.useCallback è®°å¿†å‡½æ•° ä¸€èˆ¬æŠŠ<strong>å‡½æ•°å¼ç»„ä»¶ç†è§£ä¸º class ç»„ä»¶ render å‡½æ•°çš„è¯­æ³•ç³–</strong>ï¼Œæ‰€ä»¥æ¯æ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œå‡½æ•°å¼ç»„ä»¶å†…éƒ¨æ‰€æœ‰çš„ä»£ç éƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚è€Œæœ‰äº† useCallback å°±ä¸ä¸€æ ·äº†ï¼Œä½ å¯ä»¥é€šè¿‡ useCallback è·å¾—ä¸€ä¸ªè®°å¿†åçš„å‡½æ•°ã€‚</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> memoizedHandleClick = useCallback(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;Click happened&#x27;</span>)</span><br><span class="line">    &#125;, []) <span class="comment">// ç©ºæ•°ç»„ä»£è¡¨æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹è¯¥å‡½æ•°éƒ½ä¸ä¼šå‘ç”Ÿæ”¹å˜</span></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">SomeComponent</span> <span class="attr">onClick</span>=<span class="string">&#123;memoizedHandleClick&#125;</span>&gt;</span>Click Me<span class="tag">&lt;/<span class="name">SomeComponent</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>  ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä¸€æ—¦å€¼æˆ–è€…å¼•ç”¨å‘ç”Ÿæ”¹å˜ï¼ŒuseCallback å°±ä¼šé‡æ–°è¿”å›ä¸€ä¸ªæ–°çš„è®°å¿†å‡½æ•°æä¾›ç»™åé¢è¿›è¡Œæ¸²æŸ“ã€‚</p></li><li><p>2.useMemo è®°å¿†ç»„ä»¶ useCallback çš„åŠŸèƒ½å®Œå…¨å¯ä»¥ç”± useMemo æ‰€å–ä»£ï¼Œå¦‚æœä½ æƒ³é€šè¿‡ä½¿ç”¨ useMemo è¿”å›ä¸€ä¸ªè®°å¿†å‡½æ•°ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼š<strong>useCallback ä¸ä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°ï¼Œè€Œæ˜¯å°†å®ƒè¿”å›ç»™ä½ ï¼Œè€Œ useMemo ä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å°†å‡½æ•°æ‰§è¡Œç»“æœè¿”å›ç»™ä½ </strong>ã€‚<br>  æ‰€ä»¥ useCallback å¸¸ç”¨è®°å¿†äº‹ä»¶å‡½æ•°ï¼Œç”Ÿæˆè®°å¿†åçš„äº‹ä»¶å‡½æ•°å¹¶ä¼ é€’ç»™å­ç»„ä»¶ä½¿ç”¨ã€‚è€Œ useMemo æ›´é€‚åˆç»è¿‡å‡½æ•°è®¡ç®—å¾—åˆ°ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œæ¯”å¦‚è®°å¿†ç»„ä»¶ã€‚</p></li><li><p>3.useRef ä¿å­˜å¼•ç”¨å€¼</p><p>  useRef è·Ÿ createRef ç±»ä¼¼ï¼Œéƒ½å¯ä»¥ç”¨æ¥ç”Ÿæˆå¯¹ DOM å¯¹è±¡çš„å¼•ç”¨ã€‚useRef è¿”å›çš„å€¼ä¼ é€’ç»™ç»„ä»¶æˆ–è€… DOM çš„ ref å±æ€§ï¼Œå°±å¯ä»¥é€šè¿‡ ref.current å€¼<strong>è®¿é—®ç»„ä»¶æˆ–çœŸå®çš„ DOM èŠ‚ç‚¹ï¼Œé‡ç‚¹æ˜¯ç»„ä»¶ä¹Ÿæ˜¯å¯ä»¥è®¿é—®åˆ°çš„</strong>ï¼Œä»è€Œå¯ä»¥å¯¹ DOM è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚ç›‘å¬äº‹ä»¶ç­‰ç­‰ã€‚</p></li><li><p>4.useImperativeHandle ç©¿é€ Ref</p><p>  é€šè¿‡ useImperativeHandle ç”¨äºè®©çˆ¶ç»„ä»¶è·å–å­ç»„ä»¶å†…çš„ç´¢å¼•</p></li><li><p>5.useLayoutEffect åŒæ­¥æ‰§è¡Œå‰¯ä½œç”¨</p><p>  å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½¿ç”¨ useEffect å°±å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ç»„ä»¶çš„å‰¯ä½œç”¨ï¼Œä½†æ˜¯å¦‚æœæƒ³è¦åŒæ­¥è°ƒç”¨ä¸€äº›å‰¯ä½œç”¨ï¼Œæ¯”å¦‚å¯¹ DOM çš„æ“ä½œï¼Œå°±éœ€è¦ä½¿ç”¨ useLayoutEffectï¼ŒuseLayoutEffect ä¸­çš„å‰¯ä½œç”¨ä¼šåœ¨ DOM æ›´æ–°ä¹‹ååŒæ­¥æ‰§è¡Œã€‚</p><p>  <strong>useEffect å’Œ useLayoutEffect æœ‰ä»€ä¹ˆåŒºåˆ«</strong>ï¼šç®€å•æ¥è¯´å°±æ˜¯è°ƒç”¨æ—¶æœºä¸åŒï¼ŒuseLayoutEffect å’ŒåŸæ¥ componentDidMount&amp;componentDidUpdate ä¸€è‡´ï¼Œåœ¨ react å®Œæˆ DOM æ›´æ–°åé©¬ä¸ŠåŒæ­¥è°ƒç”¨çš„ä»£ç ï¼Œä¼šé˜»å¡é¡µé¢æ¸²æŸ“ã€‚è€Œ useEffect æ˜¯ä¼šåœ¨æ•´ä¸ªé¡µé¢æ¸²æŸ“å®Œæ‰ä¼šè°ƒç”¨çš„ä»£ç ã€‚<code>å®˜æ–¹å»ºè®®ä¼˜å…ˆä½¿ç”¨useEffect</code></p></li></ul><h3 id="React-ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#React-ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="React ç»„ä»¶é€šä¿¡æ–¹å¼"></a>React ç»„ä»¶é€šä¿¡æ–¹å¼</h3><p>react ç»„ä»¶é—´é€šä¿¡å¸¸è§çš„å‡ ç§æƒ…å†µ:</p><ul><li><ol><li>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡</li></ol></li><li><ol><li>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡</li></ol></li><li><ol><li>è·¨çº§ç»„ä»¶é€šä¿¡</li></ol></li><li><ol><li>éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡</li></ol></li></ul><h4 id="1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡"><a href="#1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡" class="headerlink" title="1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡"></a>1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡</h4><p>çˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’éœ€è¦çš„ä¿¡æ¯ã€‚çˆ¶ä¼ å­æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­ç›´æ¥ç»‘å®šä¸€ä¸ªæ­£å¸¸çš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯æŒ‡å…·ä½“çš„å€¼ï¼Œåœ¨å­ç»„ä»¶ä¸­ï¼Œç”¨ props å°±å¯ä»¥è·å–åˆ°è¿™ä¸ªå€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶: Child</span></span><br><span class="line"><span class="keyword">const</span> Child = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;props.name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶ Parent</span></span><br><span class="line"><span class="keyword">const</span> Parent = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">name</span>=<span class="string">&#x27;äº¬ç¨‹ä¸€ç¯&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡"><a href="#2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡" class="headerlink" title="2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡"></a>2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡</h4><p>props+å›è°ƒçš„æ–¹å¼ï¼Œä½¿ç”¨å…¬å…±ç»„ä»¶è¿›è¡ŒçŠ¶æ€æå‡ã€‚å­ä¼ çˆ¶æ˜¯å…ˆåœ¨çˆ¶ç»„ä»¶ä¸Šç»‘å®šå±æ€§è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå½“å­ç»„ä»¶éœ€è¦ç»™çˆ¶ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œåˆ™é€šè¿‡ props è°ƒç”¨è¯¥å‡½æ•°å°†å‚æ•°ä¼ å…¥åˆ°è¯¥å‡½æ•°å½“ä¸­ï¼Œæ­¤æ—¶å°±å¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­çš„å‡½æ•°ä¸­æ¥æ”¶åˆ°è¯¥å‚æ•°äº†ï¼Œè¿™ä¸ªå‚æ•°åˆ™ä¸ºå­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶: Child</span></span><br><span class="line"><span class="keyword">const</span> Child = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> cb = <span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            props.callback(msg)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;cb(</span>&#x27;äº¬ç¨‹ä¸€ç¯æ¬¢è¿ä½ !&#x27;)&#125;&gt;</span>äº¬ç¨‹ä¸€ç¯æ¬¢è¿ä½ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶ Parent</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">callback</span>(<span class="params">msg</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(msg)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">callback</span>=<span class="string">&#123;this.callback.bind(this)&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡"><a href="#3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡" class="headerlink" title="3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡"></a>3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡</h4><p>å³çˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„å­ç»„ä»¶é€šä¿¡ï¼Œå‘æ›´æ·±å±‚å­ç»„ä»¶é€šä¿¡ã€‚</p><ul><li>  ä½¿ç”¨ propsï¼Œåˆ©ç”¨ä¸­é—´ç»„ä»¶å±‚å±‚ä¼ é€’,ä½†æ˜¯å¦‚æœçˆ¶ç»„ä»¶ç»“æ„è¾ƒæ·±ï¼Œé‚£ä¹ˆä¸­é—´æ¯ä¸€å±‚ç»„ä»¶éƒ½è¦å»ä¼ é€’ propsï¼Œå¢åŠ äº†å¤æ‚åº¦ï¼Œå¹¶ä¸”è¿™äº› props å¹¶ä¸æ˜¯ä¸­é—´ç»„ä»¶è‡ªå·±éœ€è¦çš„ã€‚</li><li>  ä½¿ç”¨ contextï¼Œcontext ç›¸å½“äºä¸€ä¸ªå¤§å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¦é€šä¿¡çš„å†…å®¹æ”¾åœ¨è¿™ä¸ªå®¹å™¨ä¸­ï¼Œè¿™æ ·ä¸ç®¡åµŒå¥—å¤šæ·±ï¼Œéƒ½å¯ä»¥éšæ„å–ç”¨ï¼Œå¯¹äºè·¨è¶Šå¤šå±‚çš„å…¨å±€æ•°æ®å¯ä»¥ä½¿ç”¨ context å®ç°ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// contextæ–¹å¼å®ç°è·¨çº§ç»„ä»¶é€šä¿¡</span></span><br><span class="line"><span class="comment">// Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> BatteryContext = createContext()</span><br><span class="line"></span><br><span class="line"><span class="comment">//  å­ç»„ä»¶çš„å­ç»„ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GrandChild</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">BatteryContext.Consumer</span>&gt;</span>&#123;(color) =&gt; <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> <span class="attr">color</span> &#125;&#125;&gt;</span>æˆ‘æ˜¯çº¢è‰²çš„:&#123;color&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">BatteryContext.Consumer</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> Child = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">GrandChild</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; color &#125; = <span class="built_in">this</span>.state</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="xml"><span class="tag">&lt;<span class="name">BatteryContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;color&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">Child</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">BatteryContext.Provider</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h4 id="4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡"><a href="#4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡" class="headerlink" title="4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡"></a>4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡</h4><p>å³æ²¡æœ‰ä»»ä½•åŒ…å«å…³ç³»çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬å…„å¼Ÿç»„ä»¶ä»¥åŠä¸åœ¨åŒä¸€ä¸ªçˆ¶çº§ä¸­çš„éå…„å¼Ÿç»„ä»¶ã€‚</p><ul><li><ol><li>å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶é€šä¿¡ï¼ˆå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼‰ï¼Œä½¿ç”¨ pubsub-js</li></ol></li><li><ol><li>å¯ä»¥é€šè¿‡ redux ç­‰è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†</li></ol></li><li><ol><li>å¦‚æœæ˜¯å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¸¤ä¸ªå…„å¼ŸèŠ‚ç‚¹å…±åŒçš„çˆ¶èŠ‚ç‚¹, ç»“åˆçˆ¶å­é—´é€šä¿¡æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚</li></ol></li><li><ol><li>ä¹Ÿå¯ä»¥ new ä¸€ä¸ª Vue çš„ EventBus,è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œä¸€è¾¹æ‰§è¡Œç›‘å¬ï¼Œä¸€è¾¹æ‰§è¡Œæ–°å¢ VUE çš„ eventBus å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯å¯ä»¥åœ¨ React ä¸­ä½¿ç”¨çš„;</li></ol></li></ul><h3 id="setState-æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ"><a href="#setState-æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ" class="headerlink" title="setState æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ"></a>setState æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ</h3><p>1.å¼‚æ­¥æƒ…å†µ åœ¨<code>Reactäº‹ä»¶å½“ä¸­æ˜¯å¼‚æ­¥æ“ä½œ</code></p><p>2.åŒæ­¥æƒ…å†µ å¦‚æœæ˜¯åœ¨<code>setTimeoutäº‹ä»¶æˆ–è€…è‡ªå®šä¹‰çš„domäº‹ä»¶</code>ä¸­ï¼Œéƒ½æ˜¯åŒæ­¥çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setTimeoutäº‹ä»¶</span></span><br><span class="line"><span class="keyword">import</span> React,&#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Count</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(props);</span><br><span class="line">        <span class="built_in">this</span>.state = &#123;</span><br><span class="line">            <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>count:&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.btnAction&#125;</span>&gt;</span>å¢åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    btnAction = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//ä¸èƒ½ç›´æ¥ä¿®æ”¹stateï¼Œéœ€è¦é€šè¿‡setStateè¿›è¡Œä¿®æ”¹</span></span><br><span class="line">        <span class="comment">//åŒæ­¥</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">                <span class="attr">count</span>: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.count);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Count;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰domäº‹ä»¶</span></span><br><span class="line"><span class="keyword">import</span> React,&#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Count</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(props);</span><br><span class="line">        <span class="built_in">this</span>.state = &#123;</span><br><span class="line">            <span class="attr">count</span>:<span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">p</span>&gt;</span>count:&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>ç»‘å®šç‚¹å‡»äº‹ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰domäº‹ä»¶ï¼Œä¹Ÿæ˜¯åŒæ­¥ä¿®æ”¹</span></span><br><span class="line">        <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#btn&#x27;</span>).addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">                <span class="attr">count</span>: <span class="built_in">this</span>.state.count + <span class="number">1</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.count);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Count;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bae01e6eb804d849e5bb889f787707d~tplv-k3u1fbpfcp-watermark.awebp" alt="image.png"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">å®‰è£…</span><br><span class="line">å½“ç»„ä»¶çš„å®ä¾‹è¢«åˆ›å»ºå¹¶æ’å…¥åˆ° DOM ä¸­æ—¶ï¼Œè¿™äº›æ–¹æ³•æŒ‰ä»¥ä¸‹é¡ºåºè°ƒç”¨ï¼š</span><br><span class="line"></span><br><span class="line"><span class="title">constructor</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">static</span> <span class="title">getDerivedStateFromProps</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">render</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">componentDidMount</span>(<span class="params"></span>)</span><br><span class="line"></span><br><span class="line">æ›´æ–°ä¸­</span><br><span class="line">æ›´æ–°å¯èƒ½ç”±é“å…·æˆ–çŠ¶æ€çš„æ›´æ”¹å¼•èµ·ã€‚å½“é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œè¿™äº›æ–¹æ³•æŒ‰ä»¥ä¸‹é¡ºåºè°ƒç”¨ï¼š</span><br><span class="line"></span><br><span class="line"><span class="title">static</span> <span class="title">getDerivedStateFromProps</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">shouldComponentUpdate</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">render</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">getSnapshotBeforeUpdate</span>(<span class="params"></span>)</span><br><span class="line"><span class="title">componentDidUpdate</span>(<span class="params"></span>)</span><br><span class="line"></span><br><span class="line">å¸è½½</span><br><span class="line">å½“ç»„ä»¶ä» <span class="title">DOM</span> ä¸­ç§»é™¤æ—¶è°ƒç”¨æ­¤æ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line"><span class="title">componentWillUnmount</span>(<span class="params"></span>)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="è¯´ä¸€ä¸‹-react-fiber"><a href="#è¯´ä¸€ä¸‹-react-fiber" class="headerlink" title="è¯´ä¸€ä¸‹ react-fiber"></a>è¯´ä¸€ä¸‹ react-fiber</h3><h4 id="1ï¼‰èƒŒæ™¯"><a href="#1ï¼‰èƒŒæ™¯" class="headerlink" title="1ï¼‰èƒŒæ™¯"></a>1ï¼‰èƒŒæ™¯</h4><p>react-fiber äº§ç”Ÿçš„æ ¹æœ¬åŸå› ï¼Œæ˜¯<code>å¤§é‡çš„åŒæ­¥è®¡ç®—ä»»åŠ¡é˜»å¡äº†æµè§ˆå™¨çš„ UI æ¸²æŸ“</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒJS è¿ç®—ã€é¡µé¢å¸ƒå±€å’Œé¡µé¢ç»˜åˆ¶éƒ½æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨çš„ä¸»çº¿ç¨‹å½“ä¸­ï¼Œä»–ä»¬ä¹‹é—´æ˜¯äº’æ–¥çš„å…³ç³»ã€‚å¦‚æœ JS è¿ç®—æŒç»­å ç”¨ä¸»çº¿ç¨‹ï¼Œé¡µé¢å°±æ²¡æ³•å¾—åˆ°åŠæ—¶çš„æ›´æ–°ã€‚å½“æˆ‘ä»¬è°ƒç”¨<code>setState</code>æ›´æ–°é¡µé¢çš„æ—¶å€™ï¼ŒReact ä¼šéå†åº”ç”¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè®¡ç®—å‡ºå·®å¼‚ï¼Œç„¶åå†æ›´æ–° UIã€‚å¦‚æœé¡µé¢å…ƒç´ å¾ˆå¤šï¼Œæ•´ä¸ªè¿‡ç¨‹å ç”¨çš„æ—¶æœºå°±å¯èƒ½è¶…è¿‡ 16 æ¯«ç§’ï¼Œå°±å®¹æ˜“å‡ºç°æ‰å¸§çš„ç°è±¡ã€‚</p><h4 id="2ï¼‰å®ç°åŸç†"><a href="#2ï¼‰å®ç°åŸç†" class="headerlink" title="2ï¼‰å®ç°åŸç†"></a>2ï¼‰å®ç°åŸç†</h4><ul><li>react å†…éƒ¨è¿è½¬åˆ†ä¸‰å±‚ï¼š<ul><li>  Virtual DOM å±‚ï¼Œæè¿°é¡µé¢é•¿ä»€ä¹ˆæ ·ã€‚</li><li>  Reconciler å±‚ï¼Œè´Ÿè´£è°ƒç”¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿›è¡Œ Diff è¿ç®—ç­‰ã€‚</li><li>  Renderer å±‚ï¼Œæ ¹æ®ä¸åŒçš„å¹³å°ï¼Œæ¸²æŸ“å‡ºç›¸åº”çš„é¡µé¢ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯ ReactDOM å’Œ ReactNativeã€‚</li></ul></li></ul><p><code>Fiber å…¶å®æŒ‡çš„æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒå¯ä»¥ç”¨ä¸€ä¸ªçº¯ JS å¯¹è±¡æ¥è¡¨ç¤º</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fiber = &#123;</span><br><span class="line">    stateNode,    <span class="comment">// èŠ‚ç‚¹å®ä¾‹</span></span><br><span class="line">    child,        <span class="comment">// å­èŠ‚ç‚¹</span></span><br><span class="line">    sibling,      <span class="comment">// å…„å¼ŸèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span>,       <span class="comment">// çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><ul><li>ä¸ºäº†å®ç°ä¸å¡é¡¿ï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ªè°ƒåº¦å™¨ (Scheduler) æ¥è¿›è¡Œä»»åŠ¡åˆ†é…ã€‚ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡ï¼ˆå¦‚é”®ç›˜è¾“å…¥ï¼‰å¯ä»¥æ‰“æ–­ä¼˜å…ˆçº§ä½çš„ä»»åŠ¡ï¼ˆå¦‚ Diffï¼‰çš„æ‰§è¡Œï¼Œä»è€Œæ›´å¿«çš„ç”Ÿæ•ˆã€‚ä»»åŠ¡çš„ä¼˜å…ˆçº§æœ‰å…­ç§ï¼š<ul><li>  synchronousï¼Œä¸ä¹‹å‰çš„ Stack Reconciler æ“ä½œä¸€æ ·ï¼ŒåŒæ­¥æ‰§è¡Œ</li><li>  taskï¼Œåœ¨ next tick ä¹‹å‰æ‰§è¡Œ</li><li>  animationï¼Œä¸‹ä¸€å¸§ä¹‹å‰æ‰§è¡Œ</li><li>  highï¼Œåœ¨ä¸ä¹…çš„å°†æ¥ç«‹å³æ‰§è¡Œ</li><li>  lowï¼Œç¨å¾®å»¶è¿Ÿæ‰§è¡Œä¹Ÿæ²¡å…³ç³»</li><li>  offscreenï¼Œä¸‹ä¸€æ¬¡ render æ—¶æˆ– scroll æ—¶æ‰æ‰§è¡Œ</li></ul></li><li>Fiber Reconcilerï¼ˆreact ï¼‰æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸º 2 ä¸ªé˜¶æ®µï¼š<ul><li>  é˜¶æ®µä¸€ï¼Œç”Ÿæˆ Fiber æ ‘ï¼Œå¾—å‡ºéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ä¿¡æ¯ã€‚è¿™ä¸€æ­¥æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œå¯ä»¥è¢«æ‰“æ–­ã€‚é˜¶æ®µä¸€å¯è¢«æ‰“æ–­çš„ç‰¹æ€§ï¼Œè®©ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡å…ˆæ‰§è¡Œï¼Œä»æ¡†æ¶å±‚é¢å¤§å¤§é™ä½äº†é¡µé¢æ‰å¸§çš„æ¦‚ç‡ã€‚</li><li>  é˜¶æ®µäºŒï¼Œå°†éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ä¸€æ¬¡è¿‡æ‰¹é‡æ›´æ–°ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸èƒ½è¢«æ‰“æ–­ã€‚</li></ul></li><li>  Fiber æ ‘ï¼šReact åœ¨ render ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œä¼šé€šè¿‡ React.createElement åˆ›å»ºä¸€é¢— Element æ ‘ï¼Œå¯ä»¥ç§°ä¹‹ä¸º Virtual DOM Treeï¼Œç”±äºè¦è®°å½•ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒåŠ å…¥äº† Fiberï¼Œæ¯ä¸€ä¸ª Element ä¼šå¯¹åº”ä¸€ä¸ª Fiber Nodeï¼Œå°† Fiber Node é“¾æ¥èµ·æ¥çš„ç»“æ„æˆä¸º Fiber Treeã€‚Fiber Tree ä¸€ä¸ªé‡è¦çš„ç‰¹ç‚¹æ˜¯é“¾è¡¨ç»“æ„ï¼Œå°†é€’å½’éå†ç¼–ç¨‹å¾ªç¯éå†ï¼Œç„¶åé…åˆ requestIdleCallback API, å®ç°ä»»åŠ¡æ‹†åˆ†ã€ä¸­æ–­ä¸æ¢å¤ã€‚</li></ul><p>ä» Stack Reconciler åˆ° Fiber Reconcilerï¼Œæºç å±‚é¢å…¶å®å°±æ˜¯å¹²äº†ä¸€ä»¶é€’å½’æ”¹å¾ªç¯çš„äº‹æƒ…</p><h3 id="Portals"><a href="#Portals" class="headerlink" title="Portals"></a>Portals</h3><p>Portals æä¾›äº†ä¸€ç§ä¸€æµçš„æ–¹å¼æ¥å°†å­ç»„ä»¶æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶çš„ DOM å±‚æ¬¡ç»“æ„ä¹‹å¤–çš„ DOM èŠ‚ç‚¹ä¸­ã€‚ç»“æ„ä¸å—å¤–ç•Œçš„æ§åˆ¶çš„æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨ portals è¿›è¡Œåˆ›å»º</p><h3 id="ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶"><a href="#ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶" class="headerlink" title="ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶"></a>ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶</h3><ul><li>  åŠ è½½å¤§ç»„ä»¶çš„æ—¶å€™</li><li>  è·¯ç”±å¼‚æ­¥åŠ è½½çš„æ—¶å€™</li></ul><p>react ä¸­è¦é…åˆ Suspense ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥æ‡’åŠ è½½</span></span><br><span class="line"><span class="keyword">const</span> Box = lazy(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./components/Box&#x27;</span>))</span><br><span class="line"><span class="comment">// ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™è¦ç”¨suspenseè¿›è¡ŒåŒ…è£¹</span></span><br><span class="line">;<span class="xml"><span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">&#123;</span>&lt;<span class="attr">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;&gt;&#123;show &amp;&amp; <span class="tag">&lt;<span class="name">Box</span> /&gt;</span>&#125;<span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><h3 id="React-äº‹ä»¶ç»‘å®šåŸç†"><a href="#React-äº‹ä»¶ç»‘å®šåŸç†" class="headerlink" title="React äº‹ä»¶ç»‘å®šåŸç†"></a>React äº‹ä»¶ç»‘å®šåŸç†</h3><p>React å¹¶ä¸æ˜¯å°† click äº‹ä»¶ç»‘åœ¨è¯¥ div çš„çœŸå® DOM ä¸Šï¼Œè€Œæ˜¯<code>åœ¨documentå¤„ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶</code>ï¼Œå½“äº‹ä»¶å‘ç”Ÿå¹¶å†’æ³¡è‡³ document å¤„æ—¶ï¼ŒReact å°†äº‹ä»¶å†…å®¹å°è£…å¹¶äº¤ç”±çœŸæ­£çš„å¤„ç†å‡½æ•°è¿è¡Œã€‚è¿™æ ·çš„æ–¹å¼ä¸ä»…å‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚è½½é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶ã€‚<br>å¦å¤–å†’æ³¡åˆ° document ä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ React è‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¦‚æœä¸æƒ³è¦äº‹ä»¶å†’æ³¡çš„è¯ï¼Œè°ƒç”¨ event.stopPropagation æ˜¯æ— æ•ˆçš„ï¼Œè€Œåº”è¯¥è°ƒç”¨ <code>event.preventDefault</code>ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2089718f74b342869de15f01588f033f~tplv-k3u1fbpfcp-watermark.awebp" alt="reactäº‹ä»¶ç»‘å®šåŸç†"></p><h3 id="ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h3><p><strong>1. æ¦‚å¿µ</strong></p><p>èŠ‚æµï¼šäº‹ä»¶è§¦å‘åï¼Œè§„å®šæ—¶é—´å†…ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°ä¸èƒ½å†æ¬¡è¢«è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è§„å®šçš„æ—¶é—´å†…ï¼Œå‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä¸”æ˜¯æœ€å…ˆè¢«è§¦å‘è°ƒç”¨çš„é‚£æ¬¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timeout = <span class="literal">null</span> <span class="comment">// åˆ›å»ºä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout) <span class="comment">// æ¯å½“ç”¨æˆ·è¾“å…¥çš„æ—¶å€™æŠŠå‰ä¸€ä¸ª setTimeout clear æ‰</span></span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// ç„¶ååˆåˆ›å»ºä¸€ä¸ªæ–°çš„ setTimeout, è¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å­—ç¬¦åçš„ interval é—´éš”å†…å¦‚æœè¿˜æœ‰å­—ç¬¦è¾“å…¥çš„è¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œ fn å‡½æ•°</span></span><br><span class="line">            fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;é˜²æŠ–æˆåŠŸ&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> inp = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;inp&#x27;</span>)</span><br><span class="line">inp.addEventListener(<span class="string">&#x27;input&#x27;</span>, debounce(sayHi)) <span class="comment">// é˜²æŠ–</span></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p>é˜²æŠ–ï¼šå¤šæ¬¡è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ˜¯åœ¨è§¦å‘æ“ä½œç»“æŸæ—¶æ‰§è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> canRun = <span class="literal">true</span> <span class="comment">// é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!canRun) <span class="keyword">return</span> <span class="comment">// åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return</span></span><br><span class="line">        canRun = <span class="literal">false</span> <span class="comment">// ç«‹å³è®¾ç½®ä¸ºfalse</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­</span></span><br><span class="line">            fn.apply(<span class="built_in">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">            <span class="comment">// æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰</span></span><br><span class="line">            canRun = <span class="literal">true</span></span><br><span class="line">        &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target.innerWidth, e.target.innerHeight)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;resize&#x27;</span>, throttle(sayHi))</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure><p><strong>2. ä½¿ç”¨åœºæ™¯ï¼š</strong></p><p>èŠ‚æµï¼šæ»šåŠ¨åŠ è½½æ›´å¤šã€æœç´¢æ¡†æœçš„ç´¢è”æƒ³åŠŸèƒ½ã€é«˜é¢‘ç‚¹å‡»ã€è¡¨å•é‡å¤æäº¤â€¦â€¦</p><p>é˜²æŠ–ï¼šæœç´¢æ¡†æœç´¢è¾“å…¥ï¼Œå¹¶åœ¨è¾“å…¥å®Œä»¥åè‡ªåŠ¨æœç´¢ã€æ‰‹æœºå·ï¼Œé‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹ã€çª—å£å¤§å° resize å˜åŒ–åï¼Œå†é‡æ–°æ¸²æŸ“ã€‚</p><h3 id="é¡¹ç›®ä¼˜åŒ–"><a href="#é¡¹ç›®ä¼˜åŒ–" class="headerlink" title="é¡¹ç›®ä¼˜åŒ–"></a>é¡¹ç›®ä¼˜åŒ–</h3><p><code>ç§»é™¤ç”Ÿäº§ç¯å¢ƒçš„æ§åˆ¶å°æ‰“å°</code>ã€‚æ–¹æ¡ˆå¾ˆå¤šï¼Œesling+pre-commitã€ä½¿ç”¨æ’ä»¶è‡ªåŠ¨å»é™¤ï¼Œæ’ä»¶åŒ…æ‹¬ babel-plugin-transform-remove-consoleã€uglifyjs-webpack-pluginã€terser-webpack-pluginã€‚æœ€åé€‰æ‹©äº† terser-webpack-pluginï¼Œè„šæ‰‹æ¶ vue-cli ç”¨è¿™ä¸ªæ’ä»¶æ¥å¼€å¯ç¼“å­˜å’Œå¤šçº¿ç¨‹æ‰“åŒ…ï¼Œæ— éœ€å®‰è£…é¢å¤–çš„æ’ä»¶ï¼Œä»…éœ€åœ¨ configureWebpack ä¸­è®¾ç½® terser æ’ä»¶çš„ drop_console ä¸º true å³å¯ã€‚æœ€å¥½è¿˜æ˜¯å…»æˆè‰¯å¥½çš„ä»£ç ä¹ æƒ¯ï¼Œåœ¨å¼€å‘åŸºæœ¬å®Œæˆåå»æ‰æ— ç”¨çš„ consoleï¼Œvscode ä¸­çš„ turbo console å°±è›®å¥½çš„ã€‚</p><p><code>ç¬¬ä¸‰æ–¹åº“çš„æŒ‰éœ€åŠ è½½</code>ã€‚echartsï¼Œå®˜æ–¹æ–‡æ¡£é‡Œæ˜¯ä½¿ç”¨é…ç½®æ–‡ä»¶æŒ‡å®šä½¿ç”¨çš„æ¨¡å—ï¼Œå¦ä¸€ç§ä½¿ç”¨ babel-plugin-equire å®ç°æŒ‰éœ€åŠ è½½ã€‚element-ui ä½¿ç”¨ babel-plugin-component å®ç°æŒ‰éœ€å¼•å…¥ã€‚</p><p>å…¬æœ‰æ ·å¼ï¼Œæ¯”å¦‚å¯¹ element-ui éƒ¨åˆ†ç»„ä»¶ï¼ˆå¦‚å¼¹æ¡†ã€è¡¨æ ¼ã€ä¸‹æ‹‰é€‰æ¡†ç­‰ï¼‰<code>æ ·å¼çš„ç»Ÿä¸€è°ƒæ•´</code>ã€‚å…¬å…±ç»„ä»¶ï¼Œæ¯”å¦‚ date-pickerã€upload-file ç­‰åœ¨ element-ui æä¾›çš„ç»„ä»¶åŸºæœ¬ä¸Šåšè¿›ä¸€æ­¥çš„å°è£…ã€‚è‡ªå®šä¹‰ç»„ä»¶åŒ…æ‹¬ preview-fileã€æœç´¢æ¡†ç­‰ã€‚</p><p>å‰åç«¯æ•°æ®äº¤æ¢æ–¹é¢ï¼Œæ¨åŠ¨é¡¹ç›®ç»„ä½¿ç”¨è“æ¹–ã€æ¥å£æ–‡æ¡£ï¼Œä¸åç«¯åŒå­¦åå•†ï¼Œè§„èŒƒåå°æ•°æ®è¿”å›ã€‚</p><p>é›…è™å†›è§„æåˆ°çš„ï¼Œ<code>é¿å…cssè¡¨è¾¾å¼ã€æ»¤é•œï¼Œè¾ƒå°‘DOMæ“ä½œï¼Œä¼˜åŒ–å›¾ç‰‡ã€ç²¾çµå›¾ï¼Œé¿å…å›¾ç‰‡ç©ºé“¾æ¥ç­‰</code>ã€‚</p><p><code>æ€§èƒ½é—®é¢˜ï¼šé¡µé¢åŠ è½½æ€§èƒ½ã€åŠ¨ç”»æ€§èƒ½ã€æ“ä½œæ€§èƒ½</code>ã€‚Performance APIï¼Œè®°å½•æ€§èƒ½æ•°æ®ã€‚</p><p>winter é‡å­¦å‰ç«¯ ä¼˜åŒ–æŠ€æœ¯æ–¹æ¡ˆï¼š</p><p>ç¼“å­˜ï¼š<code>å®¢æˆ·ç«¯æ§åˆ¶çš„å¼ºç¼“å­˜ç­–ç•¥</code>ã€‚</p><p><code>é™ä½è¯·æ±‚æˆæœ¬</code>ï¼šDNS ç”±å®¢æˆ·ç«¯æ§åˆ¶ï¼Œéš”ä¸€æ®µæ—¶é—´ä¸»åŠ¨è¯·æ±‚è·å–åŸŸå IPï¼Œä¸èµ°ç³»ç»Ÿ DNSï¼ˆå®Œå…¨çœ‹ä¸æ‡‚ï¼‰ã€‚TCP/TLS è¿æ¥å¤ç”¨ï¼ŒæœåŠ¡å™¨å‡çº§åˆ° HTTP2ï¼Œå°½é‡åˆå¹¶åŸŸåã€‚</p><p><code>å‡å°‘è¯·æ±‚æ•°</code>ï¼šJSã€CSS æ‰“åŒ…åˆ° HTMLã€‚JS æ§åˆ¶å›¾ç‰‡å¼‚æ­¥åŠ è½½ã€æ‡’åŠ è½½ã€‚å°å‹å›¾ç‰‡ä½¿ç”¨ data-uriã€‚</p><p><code>è¾ƒå°‘ä¼ è¾“ä½“ç§¯</code>ï¼šå°½é‡ä½¿ç”¨ SVG\gradient ä»£æ›¿å›¾ç‰‡ã€‚æ ¹æ®æœºå‹å’Œç½‘ç»œçŠ¶å†µæ§åˆ¶å›¾ç‰‡æ¸…æ™°åº¦ã€‚å¯¹ä½æ¸…æ™°åº¦å›¾ç‰‡ä½¿ç”¨é”åŒ–æ¥æå‡ä½“éªŒã€‚è®¾è®¡ä¸Šé¿å…å¤§å‹èƒŒæ™¯å›¾ã€‚</p><p><code>ä½¿ç”¨CDNåŠ é€Ÿ</code>ï¼Œå†…å®¹åˆ†å‘ç½‘ç»œï¼Œæ˜¯å»ºç«‹å†æ‰¿è½½ç½‘åŸºç¡€ä¸Šçš„è™šæ‹Ÿåˆ†å¸ƒå¼ç½‘ç»œï¼Œèƒ½å¤Ÿå°†æºç«™å†…å®¹ç¼“å­˜åˆ°å…¨å›½æˆ–å…¨çƒçš„èŠ‚ç‚¹æœåŠ¡å™¨ä¸Šã€‚ç”¨æˆ·å°±è¿‘è·å–å†…å®¹ï¼Œæé«˜äº†èµ„æºçš„è®¿é—®é€Ÿåº¦ï¼Œåˆ†æ‹…æºç«™å‹åŠ›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆå‰ç«¯é¢ç­‹ (CSSç¯‡)</title>
      <link href="post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart3/"/>
      <url>post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart3/</url>
      
        <content type="html"><![CDATA[<h2 id="HTML5-æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–"><a href="#HTML5-æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–" class="headerlink" title="HTML5 æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–"></a>HTML5 æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–</h2><ol><li><p>æ¦‚å¿µï¼š<br>HTML5 çš„è¯­ä¹‰åŒ–æŒ‡çš„æ˜¯åˆç†æ­£ç¡®çš„ä½¿ç”¨è¯­ä¹‰åŒ–çš„æ ‡ç­¾æ¥åˆ›å»ºé¡µé¢ç»“æ„ã€‚ã€æ­£ç¡®çš„æ ‡ç­¾åšæ­£ç¡®çš„äº‹ã€‘</p></li><li><p>è¯­ä¹‰åŒ–æ ‡ç­¾ï¼š<br>header nav main article section aside footer</p></li><li><p>è¯­ä¹‰åŒ–çš„ä¼˜ç‚¹:</p><ul><li>åœ¨æ²¡ CSS æ ·å¼çš„æƒ…å†µä¸‹ï¼Œé¡µé¢æ•´ä½“ä¹Ÿä¼šå‘ˆç°å¾ˆå¥½çš„ç»“æ„æ•ˆæœ</li><li>ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºé˜…è¯»ï¼Œ</li><li>åˆ©äºå¼€å‘å’Œç»´æŠ¤ æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ï¼‰æ ¹æ®è¯­ä¹‰æ¸²æŸ“ç½‘é¡µã€‚</li><li>æœ‰åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ï¼Œæœç´¢å¼•æ“çˆ¬è™«ä¼šæ ¹æ®ä¸åŒçš„æ ‡ç­¾æ¥èµ‹äºˆä¸åŒçš„æƒé‡</li></ul></li></ol><h2 id="CSS-é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§"><a href="#CSS-é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§" class="headerlink" title="CSS é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§"></a>CSS é€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§</h2><p><strong>é€‰æ‹©å™¨</strong></p><ul><li>  é€‰æ‹©å™¨(#myid)</li><li>  ç±»é€‰æ‹©å™¨(.myclass)</li><li>  å±æ€§é€‰æ‹©å™¨(a[rel=â€externalâ€])</li><li>  ä¼ªç±»é€‰æ‹©å™¨(a:hover, li:nth-child)</li><li>  æ ‡ç­¾é€‰æ‹©å™¨(div, h1,p)</li><li>  ç›¸é‚»é€‰æ‹©å™¨ï¼ˆh1 + pï¼‰</li><li>  å­é€‰æ‹©å™¨(ul &gt; li)</li><li>  åä»£é€‰æ‹©å™¨(li a)</li><li>  é€šé…ç¬¦é€‰æ‹©å™¨(*)</li></ul><p><strong>ä¼˜å…ˆçº§</strong></p><ul><li>  !important</li><li>  å†…è”ï¼ˆ1000ï¼‰</li><li>  id é€‰æ‹©å™¨ï¼ˆ0100ï¼‰</li><li>  ç±»/å±æ€§/ä¼ªç±»é€‰æ‹©å™¨ ï¼ˆ0010ï¼‰</li><li>  å…ƒç´ /ä¼ªå…ƒç´ é€‰æ‹©å™¨ ï¼ˆ0001ï¼‰</li><li>  å…³ç³»é€‰æ‹©å™¨/é€šé… ï¼ˆ0000ï¼‰</li></ul><blockquote><p>!important &gt; å†…è”é€‰æ‹©å™¨ &gt; id é€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾é€‰æ‹©å™¨ &gt; é€šé… &gt; ç»§æ‰¿ &gt; æµè§ˆå™¨é»˜è®¤</p></blockquote><h2 id="position-çš„å€¼åŠå…¶åŒºåˆ«"><a href="#position-çš„å€¼åŠå…¶åŒºåˆ«" class="headerlink" title="position çš„å€¼åŠå…¶åŒºåˆ«"></a>position çš„å€¼åŠå…¶åŒºåˆ«</h2><p><strong>å›ºå®šå®šä½ fixedï¼š</strong> å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæµè§ˆå™¨çª—å£æ˜¯å›ºå®šä½ç½®ï¼Œå³ä½¿çª—å£æ˜¯æ»šåŠ¨çš„å®ƒä¹Ÿä¸ä¼šç§»åŠ¨ã€‚Fixed å®š ä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ï¼Œå› æ­¤ä¸å æ®ç©ºé—´ã€‚ Fixed å®šä½çš„å…ƒç´ å’Œå…¶ä»–å…ƒç´ é‡å ã€‚</p><p><strong>ç›¸å¯¹å®šä½ relativeï¼š</strong> å¦‚æœå¯¹ä¸€ä¸ªå…ƒç´ è¿›è¡Œç›¸å¯¹å®šä½ï¼Œå®ƒå°†å‡ºç°åœ¨å®ƒæ‰€åœ¨çš„ä½ç½®ä¸Šã€‚ç„¶åï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å‚ç›´ æˆ–æ°´å¹³ä½ç½®ï¼Œè®©è¿™ä¸ªå…ƒç´ â€œç›¸å¯¹äºâ€å®ƒçš„èµ·ç‚¹è¿›è¡Œç§»åŠ¨ã€‚ åœ¨ä½¿ç”¨ç›¸å¯¹å®šä½æ—¶ï¼Œæ— è®ºæ˜¯ å¦è¿›è¡Œç§»åŠ¨ï¼Œå…ƒç´ ä»ç„¶å æ®åŸæ¥çš„ç©ºé—´ã€‚å› æ­¤ï¼Œç§»åŠ¨å…ƒç´ ä¼šå¯¼è‡´å®ƒè¦†ç›–å…¶å®ƒæ¡†ã€‚</p><p><strong>ç»å¯¹å®šä½ absoluteï¼š</strong> ç»å¯¹å®šä½çš„å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæœ€è¿‘çš„å·²å®šä½çˆ¶å…ƒç´ ï¼Œå¦‚æœå…ƒç´ æ²¡æœ‰å·²å®šä½çš„çˆ¶å…ƒç´ ï¼Œé‚£ ä¹ˆå®ƒçš„ä½ç½®ç›¸å¯¹äºã€‚absolute å®šä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ï¼Œå› æ­¤ä¸å æ®ç©ºé—´ã€‚ absolute å®šä½çš„å…ƒç´ å’Œå…¶ä»–å…ƒç´ é‡å ã€‚</p><p><strong>ç²˜æ€§å®šä½ stickyï¼š</strong> å…ƒç´ å…ˆæŒ‰ç…§æ™®é€šæ–‡æ¡£æµå®šä½ï¼Œç„¶åç›¸å¯¹äºè¯¥å…ƒç´ åœ¨æµä¸­çš„ flow rootï¼ˆBFCï¼‰å’Œ containing blockï¼ˆæœ€è¿‘çš„å—çº§ç¥–å…ˆå…ƒç´ ï¼‰å®šä½ã€‚è€Œåï¼Œå…ƒç´ å®šä½è¡¨ç°ä¸ºåœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®š ä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚</p><p><strong>é»˜è®¤å®šä½ Staticï¼š</strong> é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­ï¼ˆå¿½ç•¥ top, bottom, left, right æˆ–è€… z-index å£° æ˜ï¼‰ã€‚ inherit: è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ position å±æ€§çš„å€¼ã€‚</p><h2 id="box-sizing-å±æ€§"><a href="#box-sizing-å±æ€§" class="headerlink" title="box-sizing å±æ€§"></a>box-sizing å±æ€§</h2><p><strong>box-sizing</strong> è§„å®šä¸¤ä¸ªå¹¶æ’çš„å¸¦è¾¹æ¡†çš„æ¡†ï¼Œè¯­æ³•ä¸º box-sizingï¼šcontent-box/border-box/inherit<br><strong>content-box</strong>ï¼šå®½åº¦å’Œé«˜åº¦åˆ†åˆ«åº”ç”¨åˆ°å…ƒç´ çš„å†…å®¹æ¡†ï¼Œåœ¨å®½åº¦å’Œé«˜åº¦ä¹‹å¤–ç»˜åˆ¶å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ã€‚ã€æ ‡å‡†ç›’å­æ¨¡å‹ã€‘<br><strong>border-boxï¼š</strong>ä¸ºå…ƒç´ è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†³å®šäº†å…ƒç´ çš„è¾¹æ¡†ç›’ã€‚ã€IE ç›’å­æ¨¡å‹ã€‘<br><strong>inheritï¼š</strong>ç»§æ‰¿çˆ¶å…ƒç´ çš„ box-sizing å€¼ã€‚</p><h2 id="CSS-ç›’å­æ¨¡å‹"><a href="#CSS-ç›’å­æ¨¡å‹" class="headerlink" title="CSS ç›’å­æ¨¡å‹"></a>CSS ç›’å­æ¨¡å‹</h2><p>CSS ç›’æ¨¡å‹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç›’å­ï¼Œå®ƒåŒ…æ‹¬ï¼šè¾¹è·ï¼Œè¾¹æ¡†ï¼Œå¡«å……å’Œå®é™…å†…å®¹ã€‚CSS ä¸­çš„ç›’å­æ¨¡å‹åŒ…æ‹¬ IE ç›’å­æ¨¡å‹å’Œæ ‡å‡†çš„ W3C ç›’å­æ¨¡å‹ã€‚</p><p>åœ¨æ ‡å‡†çš„ç›’å­æ¨¡å‹ä¸­ï¼Œwidth æŒ‡ content éƒ¨åˆ†çš„å®½åº¦ã€‚<br>åœ¨ IE ç›’å­æ¨¡å‹ä¸­ï¼Œwidth è¡¨ç¤º content+padding+border è¿™ä¸‰ä¸ªéƒ¨åˆ†çš„å®½åº¦ã€‚</p><p>æ•…åœ¨è®¡ç®—ç›’å­çš„å®½åº¦æ—¶å­˜åœ¨å·®å¼‚ï¼š<br><strong>æ ‡å‡†ç›’æ¨¡å‹ï¼š</strong> ä¸€ä¸ªå—çš„æ€»å®½åº¦ = width+margin(å·¦å³)+padding(å·¦å³)+border(å·¦å³)<br><strong>æ€ªå¼‚ç›’æ¨¡å‹ï¼š</strong> ä¸€ä¸ªå—çš„æ€»å®½åº¦ = width+marginï¼ˆå·¦å³ï¼‰ï¼ˆæ—¢ width å·²ç»åŒ…å«äº† padding å’Œ border å€¼ï¼‰</p><h2 id="BFC-å—çº§æ ¼å¼ä¸Šä¸‹æ–‡"><a href="#BFC-å—çº§æ ¼å¼ä¸Šä¸‹æ–‡" class="headerlink" title="BFC(å—çº§æ ¼å¼ä¸Šä¸‹æ–‡)"></a>BFC(å—çº§æ ¼å¼ä¸Šä¸‹æ–‡)</h2><p><strong>æ¦‚å¿µ</strong></p><p>BFC æ˜¯ Block Formatting Context çš„ç¼©å†™ï¼Œå³å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚BFC æ˜¯ CSS å¸ƒå±€çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œè§„å®šäº†å†…éƒ¨ box å¦‚ä½•å¸ƒå±€ï¼Œ å¹¶ä¸”è¿™ä¸ªåŒºåŸŸçš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„å¸ƒå±€è§„åˆ™æœ‰å†…éƒ¨ box å‚ç›´æ”¾ç½®ï¼Œè®¡ç®— BFC çš„é«˜åº¦çš„æ—¶å€™ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚</p><p><strong>BFC çš„åŸç†å¸ƒå±€è§„åˆ™</strong></p><ul><li>  å†…éƒ¨çš„ Box ä¼šåœ¨å‚ç›´æ–¹å‘ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®</li><li>  Box å‚ç›´æ–¹å‘çš„è·ç¦»ç”± margin å†³å®šã€‚å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box çš„ margin ä¼šå‘ç”Ÿé‡å </li><li>  æ¯ä¸ªå…ƒç´ çš„ margin box çš„å·¦è¾¹ï¼Œ ä¸åŒ…å«å— border box çš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å</li><li>  BFC çš„åŒºåŸŸä¸ä¼šä¸ float box é‡å </li><li>  BFC æ˜¯ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ </li><li>  è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—é«˜åº¦</li><li>  å…ƒç´ çš„ç±»å‹å’Œ display å±æ€§ï¼Œå†³å®šäº†è¿™ä¸ª Box çš„ç±»å‹ã€‚ä¸åŒç±»å‹çš„ Box ä¼šå‚ä¸ä¸åŒçš„ Formatting Contextã€‚</li></ul><p><strong>å¦‚ä½•åˆ›å»º BFCï¼Ÿ</strong></p><ul><li>  æ ¹å…ƒç´ ï¼Œå³ HTML å…ƒç´ </li><li>  float çš„å€¼ä¸ä¸º none</li><li>  position ä¸º absolute æˆ– fixed</li><li>  display çš„å€¼ä¸º inline-blockã€table-cellã€table-caption</li><li>  overflow çš„å€¼ä¸ä¸º visible</li></ul><p><strong>BFC çš„ä½¿ç”¨åœºæ™¯</strong></p><ul><li>  å»é™¤è¾¹è·é‡å ç°è±¡</li><li>  æ¸…é™¤æµ®åŠ¨ï¼ˆè®©çˆ¶å…ƒç´ çš„é«˜åº¦åŒ…å«å­æµ®åŠ¨å…ƒç´ ï¼‰</li><li>  é¿å…æŸå…ƒç´ è¢«æµ®åŠ¨å…ƒç´ è¦†ç›–</li><li>  é¿å…å¤šåˆ—å¸ƒå±€ç”±äºå®½åº¦è®¡ç®—å››èˆäº”å…¥è€Œè‡ªåŠ¨æ¢è¡Œ</li></ul><h2 id="å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­"><a href="#å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­"></a>å…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­</h2><p><strong>æ°´å¹³å±…ä¸­</strong></p><p>å¯¹äº è¡Œå†…å…ƒç´  : text-align: center;</p><p>å¯¹äºç¡®å®šå®½åº¦çš„å—çº§å…ƒç´ ï¼š</p><ol><li>width å’Œ margin å®ç°ã€‚margin: 0 auto;</li><li>ç»å¯¹å®šä½å’Œ margin-left: -width/2, å‰ææ˜¯çˆ¶å…ƒç´  position: relative</li></ol><p>å¯¹äºå®½åº¦æœªçŸ¥çš„å—çº§å…ƒç´ </p><ol><li>table æ ‡ç­¾é…åˆ margin å·¦å³ auto å®ç°æ°´å¹³å±…ä¸­ã€‚ä½¿ç”¨ table æ ‡ç­¾ï¼ˆæˆ–ç›´æ¥å°†å—çº§å…ƒç´ è®¾å€¼ä¸º display:tableï¼‰ï¼Œå†é€šè¿‡ç»™è¯¥æ ‡ç­¾æ·»åŠ å·¦å³ margin ä¸º autoã€‚</li><li>inline-block å®ç°æ°´å¹³å±…ä¸­æ–¹æ³•ã€‚displayï¼šinline-block å’Œ text-align:center å®ç°æ°´å¹³å±…ä¸­ã€‚</li><li>ç»å¯¹å®šä½+transformï¼ŒtranslateX å¯ä»¥ç§»åŠ¨æœ¬èº«å…ƒç´ çš„ 50%ã€‚</li><li>flex å¸ƒå±€ä½¿ç”¨ justify-content:center</li></ol><p><strong>å‚ç›´å±…ä¸­</strong></p><ol><li>åˆ©ç”¨ line-height å®ç°å±…ä¸­ï¼Œè¿™ç§æ–¹æ³•é€‚åˆçº¯æ–‡å­—ç±»</li><li>é€šè¿‡è®¾ç½®çˆ¶å®¹å™¨ ç›¸å¯¹å®šä½ ï¼Œå­çº§è®¾ç½® ç»å¯¹å®šä½ï¼Œæ ‡ç­¾é€šè¿‡ margin å®ç°è‡ªé€‚åº”å±…ä¸­</li><li>å¼¹æ€§å¸ƒå±€ flex :çˆ¶çº§è®¾ç½® display: flex; å­çº§è®¾ç½® margin ä¸º auto å®ç°è‡ªé€‚åº”å±…ä¸­</li><li>çˆ¶çº§è®¾ç½®ç›¸å¯¹å®šä½ï¼Œå­çº§è®¾ç½®ç»å¯¹å®šä½ï¼Œå¹¶ä¸”é€šè¿‡ä½ç§» transform å®ç°<br>table å¸ƒå±€ï¼Œçˆ¶çº§é€šè¿‡è½¬æ¢æˆè¡¨æ ¼å½¢å¼ï¼Œç„¶åå­çº§è®¾ç½® vertical-align å®ç°ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼švertical-align: middle ä½¿ç”¨çš„å‰ææ¡ä»¶æ˜¯å†…è”å…ƒç´ ä»¥åŠ display å€¼ä¸º table-cell çš„å…ƒç´ ï¼‰ã€‚</li></ol><h2 id="éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ "><a href="#éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ " class="headerlink" title="éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ "></a>éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ </h2><ol><li>opacityï¼š0ï¼Œè¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¹¶ä¸”ï¼Œå¦‚æœè¯¥å…ƒç´ å·²ç»ç»‘å®š ä¸€äº›äº‹ä»¶ï¼Œå¦‚ click äº‹ä»¶ï¼Œé‚£ä¹ˆç‚¹å‡»è¯¥åŒºåŸŸï¼Œä¹Ÿèƒ½è§¦å‘ç‚¹å‡»äº‹ä»¶çš„</li><li>visibilityï¼šhiddenï¼Œè¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘è¯¥å…ƒç´ å·² ç»ç»‘å®šçš„äº‹ä»¶ ï¼Œéšè—å¯¹åº”å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä»ä¿ç•™åŸæ¥çš„ç©ºé—´ï¼ˆé‡ç»˜ï¼‰</li><li>displayï¼šnoneï¼ŒæŠŠå…ƒç´ éšè—èµ·æ¥ï¼Œå¹¶ä¸”ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¯ä»¥ç†è§£æˆåœ¨é¡µé¢ä¸­æŠŠè¯¥å…ƒç´ ã€‚ ä¸æ˜¾ç¤ºå¯¹åº”çš„å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä¸å†åˆ†é…ç©ºé—´ï¼ˆå›æµ+é‡ç»˜ï¼‰</li></ol><h2 id="css-å®ç°ä¸‰è§’ç¬¦å·"><a href="#css-å®ç°ä¸‰è§’ç¬¦å·" class="headerlink" title="css å®ç°ä¸‰è§’ç¬¦å·"></a>css å®ç°ä¸‰è§’ç¬¦å·</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*è®°å¿†å£è¯€ï¼šç›’å­å®½é«˜å‡ä¸ºé›¶ï¼Œä¸‰é¢è¾¹æ¡†çš†é€æ˜ã€‚ */</span></span><br><span class="line"><span class="selector-tag">div</span>:after &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">100px</span> solid <span class="number">#ff0</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¡µé¢å¸ƒå±€"><a href="#é¡µé¢å¸ƒå±€" class="headerlink" title="é¡µé¢å¸ƒå±€"></a>é¡µé¢å¸ƒå±€</h2><h3 id="Flex-å¸ƒå±€"><a href="#Flex-å¸ƒå±€" class="headerlink" title="Flex å¸ƒå±€"></a>Flex å¸ƒå±€</h3><p>å¸ƒå±€çš„ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒåŸºäºç›’çŠ¶æ¨¡å‹ï¼Œä¾èµ– display å±æ€§ + position å±æ€§ + float å±æ€§ã€‚å®ƒå¯¹äºé‚£äº›ç‰¹æ®Šå¸ƒå±€éå¸¸ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼Œå‚ç›´å±…ä¸­å°±ä¸å®¹æ˜“å®ç°ã€‚</p><p>Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€,ç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚æŒ‡å®šå®¹å™¨ display: flex å³å¯ã€‚ ç®€å•çš„åˆ†ä¸ºå®¹å™¨å±æ€§å’Œå…ƒç´ å±æ€§ã€‚</p><p><strong>å®¹å™¨çš„å±æ€§ï¼š</strong></p><ul><li>flex-directionï¼šå†³å®šä¸»è½´çš„æ–¹å‘ï¼ˆå³å­ item çš„æ’åˆ—æ–¹æ³•ï¼‰flex-direction: row | row-reverse | column |<br>  column-reverse;</li><li>  flex-wrapï¼šå†³å®šæ¢è¡Œè§„åˆ™ flex-wrap: nowrap | wrap | wrap-reverse;</li><li>  flex-flowï¼šå±æ€§æ˜¯ flex-direction å±æ€§å’Œ flex-wrap å±æ€§çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ä¸º row nowrapã€‚</li><li>  justify-contentï¼šå¯¹å…¶æ–¹å¼ï¼Œæ°´å¹³ä¸»è½´å¯¹é½æ–¹å¼</li><li>  align-itemsï¼šå¯¹é½æ–¹å¼ï¼Œç«–ç›´è½´çº¿æ–¹å‘</li><li>  align-content:å±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚</li></ul><p><strong>é¡¹ç›®çš„å±æ€§ï¼ˆå…ƒç´ çš„å±æ€§ï¼‰ï¼š</strong></p><ul><li>  order å±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œé¡ºåºè¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º 0</li><li>  flex-grow å±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œå³ä½¿å­˜åœ¨ç©ºé—´ï¼Œä¹Ÿä¸ä¼šæ”¾å¤§</li><li>flex-shrink å±æ€§ï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œå½“ç©ºé—´ä¸è¶³çš„æƒ…å†µä¸‹ä¼šç­‰æ¯”ä¾‹çš„ç¼©å°ï¼Œå¦‚æœ å®šä¹‰ä¸ª item çš„ flow-shrink ä¸º 0ï¼Œåˆ™ä¸ºä¸<br>  ç¼©å°</li><li>  flex-basis å±æ€§ï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™çš„ç©ºé—´ï¼Œé¡¹ç›®å æ®çš„ç©ºé—´ã€‚</li><li>flexï¼šæ˜¯ flex-grow å’Œ flex-shrinkã€flex-basis çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º 0 1 autoã€‚è¯¥å±æ€§æœ‰ä¸‰ä¸ªå¸¸ç”¨å¿«æ·å€¼ï¼šauto (1 1<br>  auto) å’Œ 1 (1 1 0%) å’Œ none (0 0 auto)ã€‚</li><li>  align-selfï¼šå…è®¸å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯ä»¥è¦†ç›–</li><li>  align-itemsï¼Œé»˜è®¤å± æ€§ä¸º autoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„ align-items æ¯”å¦‚è¯´ï¼Œç”¨ flex å®ç°åœ£æ¯å¸ƒå±€</li></ul><h3 id="ç™¾åˆ†æ¯”å¸ƒå±€"><a href="#ç™¾åˆ†æ¯”å¸ƒå±€" class="headerlink" title="ç™¾åˆ†æ¯”å¸ƒå±€"></a>ç™¾åˆ†æ¯”å¸ƒå±€</h3><p>é€šè¿‡ç™¾åˆ†æ¯”å•ä½ â€œ % â€œ æ¥å®ç°å“åº”å¼çš„æ•ˆæœã€‚é€šè¿‡ç™¾åˆ†æ¯”å•ä½å¯ä»¥ä½¿å¾—æµè§ˆå™¨ä¸­çš„ç»„ä»¶çš„å®½å’Œé«˜éšç€æµè§ˆå™¨çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œå®ç°å“åº”å¼çš„æ•ˆæœã€‚ ç›´è§‚çš„ç†è§£ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè®¤ä¸ºå­å…ƒç´ çš„ç™¾åˆ†æ¯”å®Œå…¨ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ ï¼Œheight ç™¾åˆ†æ¯”ç›¸ å¯¹äº heightï¼Œwidth ç™¾åˆ†æ¯”ç›¸å¯¹äº widthã€‚ paddingã€borderã€margin ç­‰ç­‰ä¸è®ºæ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ çš„ widthã€‚ é™¤äº† border-radius å¤–ï¼Œè¿˜æœ‰æ¯”å¦‚ translateã€background-size ç­‰éƒ½æ˜¯ç›¸å¯¹äºè‡ªèº«çš„ã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>  è®¡ç®—å›°éš¾</li><li>  å„ä¸ªå±æ€§ä¸­å¦‚æœä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œç›¸å¯¹çˆ¶å…ƒç´ çš„å±æ€§å¹¶ä¸æ˜¯å”¯ä¸€çš„ã€‚é€ æˆæˆ‘ä»¬ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®¹æ˜“ä½¿å¸ƒå±€é—®é¢˜å˜å¾—å¤æ‚ã€‚</li></ul><h3 id="table-å¸ƒå±€"><a href="#table-å¸ƒå±€" class="headerlink" title="table å¸ƒå±€"></a>table å¸ƒå±€</h3><p>table å¸ƒå±€åœ¨å¦‚ä»Šå·²ç»å¾ˆå°‘ä½¿ç”¨ï¼ŒåŸå› æ˜¯ï¼štable å¸ƒå±€æ¯”å…¶å®ƒ html æ ‡è®°å æ›´å¤šçš„å­—èŠ‚ï¼Œä¼šé˜»æŒ¡æµè§ˆå™¨æ¸²æŸ“å¼•æ“çš„æ¸²æŸ“é¡ºåºï¼Œä¼šå½±å“å…¶å†…éƒ¨çš„æŸäº›å¸ƒå±€å±æ€§çš„ç”Ÿæ•ˆã€‚</p><p>ä½¿ç”¨ table å¸ƒå±€æœ‰ä¸¤ç§æ–¹å¼</p><ul><li>  table æ ‡ç­¾</li><li>  displayï¼štable</li></ul><h3 id="float-å¸ƒå±€"><a href="#float-å¸ƒå±€" class="headerlink" title="float å¸ƒå±€"></a>float å¸ƒå±€</h3><p>æµ®åŠ¨å¸ƒå±€:å½“å…ƒç´ æµ®åŠ¨ä»¥åå¯ä»¥å‘å·¦æˆ–å‘å³ç§»åŠ¨ï¼Œç›´åˆ°å®ƒçš„å¤–è¾¹ç¼˜ç¢°åˆ°åŒ…å«å®ƒçš„æ¡†æˆ–è€…å¦å¤–ä¸€ä¸ªæµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†ä¸ºæ­¢ã€‚å…ƒç´ æµ®åŠ¨ä»¥åä¼šè„±ç¦»æ­£å¸¸çš„æ–‡æ¡£æµï¼Œæ‰€ä»¥æ–‡æ¡£çš„æ™®é€šæµä¸­çš„æ¡†å°±å˜çš„å¥½åƒæµ®åŠ¨å…ƒç´ ä¸å­˜åœ¨ä¸€æ ·ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><p>è¿™æ ·åšçš„ä¼˜ç‚¹å°±æ˜¯åœ¨å›¾æ–‡æ··æ’çš„æ—¶å€™å¯ä»¥å¾ˆå¥½çš„ä½¿æ–‡å­—ç¯ç»•åœ¨å›¾ç‰‡å‘¨å›´ã€‚å¦å¤–å½“å…ƒç´ æµ®åŠ¨äº†èµ·æ¥ä¹‹åï¼Œå®ƒæœ‰ç€å—çº§å…ƒç´ çš„ä¸€äº›æ€§è´¨ä¾‹å¦‚å¯ä»¥è®¾ç½®å®½é«˜ç­‰ï¼Œä½†å®ƒä¸ inline-block è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯å…³äºæ¨ªå‘æ’åºçš„æ—¶å€™ï¼Œfloat å¯ä»¥è®¾ç½®æ–¹å‘è€Œ inline-block æ–¹å‘æ˜¯å›ºå®šçš„ï¼›è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ inline-block åœ¨ä½¿ç”¨æ—¶æœ‰æ—¶ä¼šæœ‰ç©ºç™½é—´éš™çš„é—®é¢˜<br><strong>ç¼ºç‚¹</strong></p><p>æœ€æ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯æµ®åŠ¨å…ƒç´ ä¸€æ—¦è„±ç¦»äº†æ–‡æ¡£æµï¼Œå°±æ— æ³•æ’‘èµ·çˆ¶å…ƒç´ ï¼Œä¼šé€ æˆçˆ¶çº§å…ƒç´ é«˜åº¦å¡Œé™·ã€‚</p><h3 id="å“åº”å¼å¸ƒå±€"><a href="#å“åº”å¼å¸ƒå±€" class="headerlink" title="å“åº”å¼å¸ƒå±€"></a>å“åº”å¼å¸ƒå±€</h3><p>å“åº”å¼å¸ƒå±€æŒ‡çš„æ˜¯åŒä¸€é¡µé¢åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹æœ‰ä¸åŒçš„å¸ƒå±€ã€‚ä¼ ç»Ÿçš„å¼€å‘æ–¹å¼æ˜¯ PC ç«¯å¼€å‘ä¸€å¥—ï¼Œæ‰‹æœºç«¯å†å¼€å‘ä¸€å¥—ï¼Œè€Œä½¿ç”¨å“åº”å¼å¸ƒå±€åªè¦å¼€å‘ä¸€å¥—å°±å¤Ÿã€‚</p><p><strong>å®ç°æ–¹æ¡ˆ</strong></p><ul><li>  åª’ä½“æŸ¥è¯¢+ç™¾åˆ†æ¯”å¸ƒå±€</li><li>  åª’ä½“æŸ¥è¯¢+flex å¸ƒå±€</li><li>  åª’ä½“æŸ¥è¯¢+grid å¸ƒå±€</li></ul><p><strong>ä¼˜ç‚¹</strong></p><p>é¢å¯¹ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡çµæ´»æ€§å¼º<br>èƒ½å¤Ÿå¿«æ·è§£å†³å¤šè®¾å¤‡æ˜¾ç¤ºé€‚åº”é—®é¢˜</p><p><strong>ç¼ºç‚¹</strong></p><ul><li>  ä»…é€‚ç”¨å¸ƒå±€ã€ä¿¡æ¯ã€æ¡†æ¶å¹¶ä¸å¤æ‚çš„éƒ¨é—¨ç±»å‹ç½‘ç«™</li><li>  å…¼å®¹å„ç§è®¾å¤‡å·¥ä½œé‡å¤§ï¼Œæ•ˆç‡ä½ä¸‹</li><li>  ä»£ç ç´¯èµ˜ï¼Œä¼šå‡ºç°éšè—æ— ç”¨çš„å…ƒç´ ï¼ŒåŠ è½½æ—¶é—´åŠ é•¿</li><li>  å…¶å®è¿™æ˜¯ä¸€ç§æŠ˜ä¸­æ€§è´¨çš„è®¾è®¡è§£å†³æ–¹æ¡ˆï¼Œå¤šæ–¹é¢å› ç´ å½±å“è€Œè¾¾ä¸åˆ°æœ€ä½³æ•ˆæœ</li><li>  ä¸€å®šç¨‹åº¦ä¸Šæ”¹å˜äº†ç½‘ç«™åŸæœ‰çš„å¸ƒå±€ç»“æ„ï¼Œä¼šå‡ºç°ç”¨æˆ·æ··æ·†çš„æƒ…å†µ</li></ul><h3 id="grid-ç½‘æ ¼å¸ƒå±€"><a href="#grid-ç½‘æ ¼å¸ƒå±€" class="headerlink" title="grid ç½‘æ ¼å¸ƒå±€"></a>grid ç½‘æ ¼å¸ƒå±€</h3><p>ï¼ˆå…·ä½“çœ‹å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="/post/%E5%BC%BA%E5%A4%A7%E7%9A%84Grid%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80">å¼ºå¤§çš„ Grid å¸ƒå±€</a>ï¼‰</p><h2 id="ä½¿ç”¨-rem-vw-å®ç°ç§»åŠ¨ç«¯é€‚é…"><a href="#ä½¿ç”¨-rem-vw-å®ç°ç§»åŠ¨ç«¯é€‚é…" class="headerlink" title="ä½¿ç”¨ rem+vw å®ç°ç§»åŠ¨ç«¯é€‚é…"></a>ä½¿ç”¨ rem+vw å®ç°ç§»åŠ¨ç«¯é€‚é…</h2><p>å¦‚ä½•åˆ©ç”¨ rem+vw è¿›è¡Œå±å¹•é€‚é…å‘¢ï¼Ÿæˆ‘ä»¬ä»¥è®¾è®¡ç¨¿ä¸º 750px ä¸ºåŸºå‡†</p><ol><li>è®¾ç½® meta æ ‡ç­¾ <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li><li>è®¾ç½®æ ¹å…ƒç´  html çš„ font-size:13.3333333vw</li></ol><p>ä¸ºä»€ä¹ˆ font-size=13.33333333vw?</p><blockquote><p>100vw=750px =&gt; 1px = 0.1333333vw =&gt; 1rem=100px=13.333333vw,å– 100px æ˜¯ä¸ºäº†æ–¹ä¾¿è®¡ç®—</p></blockquote><p>ä¸‹é¢åˆ†æä¸‹åŸç†å§, ä¸Šé¢æˆ‘ä»¬è¯´äº† vw è¡¨ç¤º 1%çš„å±å¹•å®½åº¦,è€Œæˆ‘ä»¬çš„è®¾è®¡ç¨¿é€šå¸¸æ˜¯ 750px çš„,å±å¹•ä¸€å…±æ˜¯ 100vw,å¯¹åº” 750px,é‚£ä¹ˆ 1px å°±æ˜¯ 0.1333333vw,ã€‚</p><p>åŒæ—¶æˆ‘ä»¬çŸ¥é“ rem,rem æ˜¯ç›¸å¯¹ html å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œä¸ºäº†æ–¹ä¾¿è®¡ç®—,æˆ‘ä»¬å– html çš„ font-size=100px,é€šè¿‡ä¸Šé¢çš„è®¡ç®—ç»“æœ 1px æ˜¯ 0.13333333vw,é‚£ä¹ˆ 100px å°±æ˜¯ 13.333333vw äº†</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è®© 1rem=100px=13.333333vw</p><p>é‚£ä¹ˆåœ¨é¡¹ç›®ä¸Šå°±å¾ˆå¥½åœ°å¯ä»¥è¿›è¡Œä½¿ç”¨äº†</p><p>å½“æˆ‘ä»¬é€šè¿‡ ps æµ‹é‡ä¸€ä¸ª div çš„å¤§å°ä¸º width:200px,height:137px æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å†™ï¼Œps é‡å‡ºæ¥çš„åƒç´ ç›´æ¥é™¤ä»¥ 100ï¼Œè®¡ç®—å°æ•°å¾ˆæ–¹ä¾¿</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1.37rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¸…é™¤æµ®åŠ¨"><a href="#æ¸…é™¤æµ®åŠ¨" class="headerlink" title="æ¸…é™¤æµ®åŠ¨"></a>æ¸…é™¤æµ®åŠ¨</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å®¹å™¨è®¾ç½® overflow:hidden/auto</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden/auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å®¹å™¨åˆ›å»ºä¼ªå…ƒç´ ï¼Œä¼ªå…ƒç´  clearï¼šboth</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æµ®åŠ¨å…ƒç´ åæ–°å¢ç©ºæ ‡ç­¾ clear:both</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;float&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clearfix&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.clearfix&#123; clear:both &#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆå‰ç«¯é¢ç­‹ï¼ˆæµè§ˆå™¨ç¯‡ï¼‰</title>
      <link href="post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart2/"/>
      <url>post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹"><a href="#ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹" class="headerlink" title="ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹"></a>ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹</h2><p><img src="/img/%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B.png"></p><ol><li><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ URLã€‚</p></li><li><p>æŸ¥æ‰¾ DNS ç¼“å­˜</p><ul><li>æµè§ˆå™¨ç¼“å­˜ï¼šæµè§ˆå™¨ä¼šè®°å½• DNS ä¸€æ®µæ—¶é—´ï¼Œå› æ­¤ï¼Œåªæ˜¯ç¬¬ä¸€ä¸ªåœ°æ–¹è§£æ DNS è¯·æ±‚ï¼›</li><li>æ“ä½œç³»ç»Ÿç¼“å­˜:å¦‚æœåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­ä¸åŒ…å«è¿™ä¸ªè®°å½•ï¼Œåˆ™ä¼šä½¿ç³»ç»Ÿè°ƒç”¨æ“ä½œç³»ç»Ÿï¼Œ è·å–æ“ä½œç³»ç»Ÿçš„è®°å½•(ä¿å­˜æœ€è¿‘çš„ DNS æŸ¥è¯¢ç¼“å­˜)ï¼›</li><li>è·¯ç”±å™¨ç¼“å­˜ï¼šå¦‚æœä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤å‡ä¸èƒ½æˆåŠŸè·å– DNS è®°å½•ï¼Œç»§ç»­æœç´¢è·¯ç”±å™¨ç¼“å­˜ï¼›</li><li>ISP ç¼“å­˜ï¼šè‹¥ä¸Šè¿°å‡å¤±è´¥ï¼Œç»§ç»­å‘ ISP æœç´¢ã€‚</li></ul></li><li><p>DNS åŸŸåè§£æï¼šæµè§ˆå™¨å‘ DNS æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè§£æè¯¥ URL ä¸­çš„åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚DNS æœåŠ¡å™¨æ˜¯åŸºäº UDP çš„ï¼Œå› æ­¤ä¼šç”¨åˆ° UDP åè®®ã€‚</p></li><li><p>å»ºç«‹ TCP è¿æ¥ï¼šè§£æå‡º IP åœ°å€åï¼Œæ ¹æ® IP åœ°å€å’Œé»˜è®¤ 80 ç«¯å£ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥ã€‚</p></li><li><p>å‘èµ· HTTP è¯·æ±‚ï¼šæµè§ˆå™¨å‘èµ·è¯»å–æ–‡ä»¶çš„ HTTP è¯·æ±‚ï¼Œè¯¥è¯·æ±‚æŠ¥æ–‡ä½œä¸º TCP ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰æ¬¡æ•°æ®å‘é€ç»™æœåŠ¡å™¨</p></li><li><p>æœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›ç»“æœï¼šæœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶æŠŠå¯¹åº”çš„ html æ–‡ä»¶å‘é€ç»™æµè§ˆå™¨</p></li><li><p>å…³é—­ TCP è¿æ¥ï¼šé€šè¿‡å››æ¬¡æŒ¥æ‰‹é‡Šæ”¾ TCP è¿æ¥</p></li><li><p>æµè§ˆå™¨æ¸²æŸ“ï¼ˆæ¸²æŸ“å¼•æ“ï¼‰ï¼šå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è§£æ HTML å†…å®¹å¹¶æ¸²æŸ“å‡ºæ¥ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°æ•°æ®åŒ…åçš„è§£ææµç¨‹ä¸ºï¼š</p><ol><li>æ„å»º DOM æ ‘ï¼šè¯æ³•åˆ†æç„¶åè§£ææˆ DOM æ ‘ï¼ˆdom treeï¼‰ï¼Œæ˜¯ç”± dom å…ƒç´ åŠå±æ€§èŠ‚ç‚¹ç»„æˆï¼Œæ ‘çš„æ ¹æ˜¯ document å¯¹è±¡</li><li>æ„å»º CSS è§„åˆ™æ ‘ï¼šç”Ÿæˆ CSS è§„åˆ™æ ‘ï¼ˆCSS Rule Treeï¼‰</li><li>æ„å»º render æ ‘ï¼šWeb æµè§ˆå™¨å°† DOM å’Œ CSSOM ç»“åˆï¼Œå¹¶æ„å»ºå‡ºæ¸²æŸ“æ ‘ï¼ˆrender treeï¼‰</li><li>å¸ƒå±€ï¼ˆLayoutï¼‰ï¼šè®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®</li><li>ç»˜åˆ¶ï¼ˆPaintingï¼‰ï¼šå³éå† render æ ‘ï¼Œå¹¶ä½¿ç”¨ UI åç«¯å±‚ç»˜åˆ¶æ¯ä¸ªèŠ‚ç‚¹ã€‚</li></ol><p> <img src="/img/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.png"></p></li><li><p>JS å¼•æ“è§£æè¿‡ç¨‹ï¼ˆå…·ä½“çœ‹å¦ä¸€ç¯‡æ–‡ç« ï¼š<a href="/post/js%E5%BC%95%E6%93%8E%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B">js å¼•æ“è§£æè¯¦è§£</a>ï¼‰</p><ol><li>è¯­æ³•æ£€æŸ¥</li><li>é¢„ç¼–è¯‘</li><li>æ‰§è¡Œ</li></ol></li></ol><h2 id="æµè§ˆå™¨é‡ç»˜ä¸é‡æ’"><a href="#æµè§ˆå™¨é‡ç»˜ä¸é‡æ’" class="headerlink" title="æµè§ˆå™¨é‡ç»˜ä¸é‡æ’"></a>æµè§ˆå™¨é‡ç»˜ä¸é‡æ’</h2><ul><li>  é‡æ’/å›æµï¼ˆReflowï¼‰ï¼šå½“ DOM çš„å˜åŒ–å½±å“äº†å…ƒç´ çš„å‡ ä½•ä¿¡æ¯ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå°†å…¶å®‰æ”¾åœ¨ç•Œé¢ä¸­çš„æ­£ç¡®ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé‡æ’ã€‚è¡¨ç°ä¸ºé‡æ–°ç”Ÿæˆå¸ƒå±€ï¼Œé‡æ–°æ’åˆ—å…ƒç´ ã€‚</li><li>  é‡ç»˜(Repaint): å½“ä¸€ä¸ªå…ƒç´ çš„å¤–è§‚å‘ç”Ÿæ”¹å˜ï¼Œä½†æ²¡æœ‰æ”¹å˜å¸ƒå±€,é‡æ–°æŠŠå…ƒç´ å¤–è§‚ç»˜åˆ¶å‡ºæ¥çš„è¿‡ç¨‹ï¼Œå«åšé‡ç»˜ã€‚è¡¨ç°ä¸ºæŸäº›å…ƒç´ çš„å¤–è§‚è¢«æ”¹å˜</li><li>  ã€é‡ç»˜ã€ä¸ä¸€å®šä¼šå‡ºç°ã€é‡æ’ã€ï¼Œã€é‡æ’ã€å¿…ç„¶ä¼šå‡ºç°ã€é‡ç»˜ã€</li></ul><h2 id="å¦‚ä½•å‡ºå‘é‡æ’å’Œé‡ç»˜"><a href="#å¦‚ä½•å‡ºå‘é‡æ’å’Œé‡ç»˜" class="headerlink" title="å¦‚ä½•å‡ºå‘é‡æ’å’Œé‡ç»˜"></a>å¦‚ä½•å‡ºå‘é‡æ’å’Œé‡ç»˜</h2><p>ä»»ä½•æ”¹å˜ç”¨æ¥æ„å»ºæ¸²æŸ“æ ‘çš„ä¿¡æ¯éƒ½ä¼šå¯¼è‡´ä¸€æ¬¡é‡æ’æˆ–é‡ç»˜ï¼š</p><ul><li>  æ·»åŠ ã€åˆ é™¤ã€æ›´æ–° DOM èŠ‚ç‚¹</li><li>  é€šè¿‡ display: none éšè—ä¸€ä¸ª DOM èŠ‚ç‚¹-è§¦å‘é‡æ’å’Œé‡ç»˜</li><li>  é€šè¿‡ visibility: hidden éšè—ä¸€ä¸ª DOM èŠ‚ç‚¹-åªè§¦å‘é‡ç»˜ï¼Œå› ä¸ºæ²¡æœ‰å‡ ä½•å˜åŒ–</li><li>  ç§»åŠ¨æˆ–è€…ç»™é¡µé¢ä¸­çš„ DOM èŠ‚ç‚¹æ·»åŠ åŠ¨ç”»</li><li>  æ·»åŠ ä¸€ä¸ªæ ·å¼è¡¨ï¼Œè°ƒæ•´æ ·å¼å±æ€§</li><li>  ç”¨æˆ·è¡Œä¸ºï¼Œä¾‹å¦‚è°ƒæ•´çª—å£å¤§å°ï¼Œæ”¹å˜å­—å·ï¼Œæˆ–è€…æ»šåŠ¨ã€‚</li></ul><h2 id="å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’"><a href="#å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’" class="headerlink" title="å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’"></a>å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’</h2><ul><li>  é›†ä¸­æ”¹å˜æ ·å¼ï¼Œä¸è¦ä¸€æ¡ä¸€æ¡åœ°ä¿®æ”¹ DOM çš„æ ·å¼ã€‚</li><li>  ä¸è¦æŠŠ DOM ç»“ç‚¹çš„å±æ€§å€¼æ”¾åœ¨å¾ªç¯é‡Œå½“æˆå¾ªç¯é‡Œçš„å˜é‡ã€‚</li><li>  ä¸ºåŠ¨ç”»çš„ HTML å…ƒä»¶ä½¿ç”¨ fixed æˆ– absoult çš„ positionï¼Œé‚£ä¹ˆä¿®æ”¹ä»–ä»¬çš„ CSS æ˜¯ä¸ä¼š reflow çš„ã€‚</li><li>  ä¸ä½¿ç”¨ table å¸ƒå±€ã€‚å› ä¸ºå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª table çš„é‡æ–°å¸ƒå±€ã€‚</li><li>  å°½é‡åªä¿®æ”¹ positionï¼šabsolute æˆ– fixed å…ƒç´ ï¼Œå¯¹å…¶ä»–å…ƒç´ å½±å“ä¸å¤§</li><li>  åŠ¨ç”»å¼€å§‹ GPU åŠ é€Ÿï¼Œtranslate ä½¿ç”¨ 3D å˜åŒ–</li><li>  æå‡ä¸ºåˆæˆå±‚</li></ul><h2 id="æµè§ˆå™¨ç¼“å­˜-å¼ºåˆ¶ç¼“å­˜-amp-åå•†ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜-å¼ºåˆ¶ç¼“å­˜-amp-åå•†ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜ å¼ºåˆ¶ç¼“å­˜&amp;åå•†ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜ å¼ºåˆ¶ç¼“å­˜&amp;åå•†ç¼“å­˜</h2><ul><li><p>å¼ºåˆ¶ç¼“å­˜<br>  å¼ºåˆ¶ç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯¥è¯·æ±‚ç»“æœï¼Œå¹¶æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹ã€‚å½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥ HTTP å“åº”æŠ¥æ–‡çš„ HTTP å¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºåˆ¶ç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯ <strong>Expires</strong> å’Œ <strong>Cache-Control</strong>ï¼Œå…¶ä¸­ Cache-Control ä¼˜å…ˆçº§æ¯” Expires é«˜ã€‚<br>  å¼ºåˆ¶ç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä¸‰ç§(æš‚ä¸åˆ†æåå•†ç¼“å­˜è¿‡ç¨‹)ï¼Œå¦‚ä¸‹ï¼š</p><ol><li>ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåˆ™ç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆè·Ÿç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰ã€‚</li><li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†è¯¥ç»“æœå·²å¤±æ•ˆï¼Œå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜ã€‚</li><li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœå°šæœªå¤±æ•ˆï¼Œå¼ºåˆ¶ç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ</li></ol></li><li><p>åå•†ç¼“å­˜<br>  åå•†ç¼“å­˜å°±æ˜¯å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨æºå¸¦ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ï¼ŒåŒæ ·ï¼Œåå•†ç¼“å­˜çš„æ ‡è¯†ä¹Ÿæ˜¯åœ¨å“åº”æŠ¥æ–‡çš„ HTTP å¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨çš„ï¼Œæ§åˆ¶åå•†ç¼“å­˜çš„å­—æ®µåˆ†åˆ«æœ‰ï¼š<strong>Last-Modified / If-Modified-Since</strong> å’Œ <strong>Etag / If-None-Match</strong>ï¼Œå…¶ä¸­ Etag / If-None-Match çš„ä¼˜å…ˆçº§æ¯” Last-Modified / If-Modified-Since é«˜ã€‚åå•†ç¼“å­˜ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ul><li>  åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å› 304</li><li>  åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å› 200 å’Œè¯·æ±‚ç»“æœç»“æœ</li></ul></li></ul><h2 id="ä»‹ç»ä¸€ä¸‹-304-è¿‡ç¨‹"><a href="#ä»‹ç»ä¸€ä¸‹-304-è¿‡ç¨‹" class="headerlink" title="ä»‹ç»ä¸€ä¸‹ 304 è¿‡ç¨‹"></a>ä»‹ç»ä¸€ä¸‹ 304 è¿‡ç¨‹</h2><ol><li>æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶é¦–å…ˆå‘½ä¸­èµ„æºçš„ <strong>Expires</strong> å’Œ <strong>Cache-Control</strong>ï¼ŒExpires å—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆï¼Œå¯ä»¥é€šè¿‡ <strong>Cache-control: max-age</strong> æŒ‡å®šæœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼Œ<strong>çŠ¶æ€ä»ç„¶è¿”å› 200</strong>ï¼Œä½†ä¸ä¼šè¯·æ±‚æ•°æ®ï¼Œåœ¨æµè§ˆå™¨ä¸­èƒ½æ˜æ˜¾çœ‹åˆ° from cache å­—æ ·ã€‚</li><li>å¼ºç¼“å­˜å¤±æ•ˆï¼Œè¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œé¦–å…ˆéªŒè¯ <strong>ETag</strong> ,ETag å¯ä»¥ä¿è¯æ¯ä¸€ä¸ªèµ„æºæ˜¯å”¯ä¸€çš„ï¼Œèµ„æºå˜åŒ–éƒ½ä¼šå¯¼è‡´ ETag å˜åŒ–ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯ä¸Šé€çš„ <strong>If-None-Match</strong> å€¼æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</li><li>åå•†ç¼“å­˜ <strong>Last-Modify/If-Modify-Since</strong> é˜¶æ®µï¼Œå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡æœè¿”å›çš„ header ä¸­ä¼šåŠ ä¸Š Last-Modifyï¼ŒLast-modify æ˜¯ä¸€ä¸ªæ—¶é—´æ ‡è¯†è¯¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚å†æ¬¡è¯·æ±‚è¯¥èµ„æºæ—¶ï¼Œrequest çš„è¯·æ±‚å¤´ä¸­ä¼šåŒ…å« If-Modify-Sinceï¼Œè¯¥å€¼ä¸ºç¼“å­˜ä¹‹å‰è¿”å›çš„ Last-Modifyã€‚æœåŠ¡å™¨æ”¶åˆ° If-Modify-Since åï¼Œæ ¹æ®èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">res.setHeader(<span class="string">&#x27;Cache-Control&#x27;</span>, <span class="string">&#x27;no-cache&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> hash = crypto.createHash(<span class="string">&#x27;sha1&#x27;</span>).update(content).digest(<span class="string">&#x27;hex&#x27;</span>)</span><br><span class="line">res.setHeader(<span class="string">&#x27;Etag&#x27;</span>, hash)</span><br><span class="line"><span class="keyword">if</span> (req.headers[<span class="string">&#x27;if-none-match&#x27;</span>] === hash) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Etagåå•†ç¼“å­˜å‘½ä¸­.....&#x27;</span>)</span><br><span class="line">    res.statusCode = <span class="number">304</span></span><br><span class="line">    res.end()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¯´ä¸€ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹"><a href="#è¯´ä¸€ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹" class="headerlink" title="è¯´ä¸€ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹"></a>è¯´ä¸€ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹</h2><ul><li><p>  è¿›ç¨‹æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼Œæ˜¯åº”ç”¨ç¨‹åºè¿è¡Œçš„è½½ä½“ã€‚è¿›ç¨‹æ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µï¼Œä»æ¥æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†å®šä¹‰ã€‚</p></li><li><p>  çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œæ˜¯å¤„ç†å™¨è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´(ä¹Ÿå°±æ˜¯æ‰€åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´)ã€‚ä¸€ä¸ªæ ‡å‡†çš„çº¿ç¨‹ç”±çº¿ç¨‹ IDã€å½“å‰æŒ‡ä»¤æŒ‡é’ˆ(PC)ã€å¯„å­˜å™¨å’Œå †æ ˆç»„æˆã€‚è€Œè¿›ç¨‹ç”±å†…å­˜ç©ºé—´(ä»£ç ã€æ•°æ®ã€è¿›ç¨‹ç©ºé—´ã€æ‰“å¼€çš„æ–‡ä»¶)å’Œä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç»„æˆã€‚</p></li><li><p>  åç¨‹ï¼Œè‹±æ–‡ Coroutinesï¼Œæ˜¯ä¸€ç§åŸºäºçº¿ç¨‹ä¹‹ä¸Šï¼Œä½†åˆæ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ï¼Œè¿™ç§ç”±ç¨‹åºå‘˜è‡ªå·±å†™ç¨‹åºæ¥ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹å«åšã€ç”¨æˆ·ç©ºé—´çº¿ç¨‹ã€ï¼Œå…·æœ‰å¯¹å†…æ ¸æ¥è¯´ä¸å¯è§çš„ç‰¹æ€§ã€‚</p></li><li><p>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»</p><p>  ã€åŒºåˆ«ã€‘ï¼š</p><ul><li>  è°ƒåº¦ï¼šçº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºæ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ï¼›</li><li>  å¹¶å‘æ€§ï¼šä¸ä»…è¿›ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼ŒåŒä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´ä¹Ÿå¯å¹¶å‘æ‰§è¡Œï¼›</li><li>  æ‹¥æœ‰èµ„æºï¼šè¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼Œçº¿ç¨‹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œä½†å¯ä»¥è®¿é—®éš¶å±äºè¿›ç¨‹çš„èµ„æºã€‚</li><li>  ç³»ç»Ÿå¼€é”€ï¼šåœ¨åˆ›å»ºæˆ–æ’¤æ¶ˆè¿›ç¨‹æ—¶ï¼Œç”±äºç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…å’Œå›æ”¶èµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿçš„å¼€é”€æ˜æ˜¾å¤§äºåˆ›å»ºæˆ–æ’¤æ¶ˆçº¿ç¨‹æ—¶çš„å¼€é”€ã€‚ä½†æ˜¯è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶å®ƒè¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œè€Œçº¿ç¨‹åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒæ‰§è¡Œè·¯å¾„ã€‚çº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œä½†çº¿ç¨‹ä¹‹é—´æ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹æ­»æ‰å°±ç­‰äºæ‰€æœ‰çš„çº¿ç¨‹æ­»æ‰ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åºè¦æ¯”å¤šçº¿ç¨‹çš„ç¨‹åºå¥å£®ï¼Œä½†åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œè€—è´¹èµ„æºè¾ƒå¤§ï¼Œæ•ˆç‡è¦å·®ä¸€äº›ã€‚</li></ul><p>  ã€è”ç³»ã€‘ï¼š</p><ul><li>  ä¸€ä¸ªçº¿ç¨‹åªèƒ½å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼›</li><li>  èµ„æºåˆ†é…ç»™è¿›ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„æ‰€æœ‰èµ„æºï¼›</li><li>  å¤„ç†æœºåˆ†ç»™çº¿ç¨‹ï¼Œå³çœŸæ­£åœ¨å¤„ç†æœºä¸Šè¿è¡Œçš„æ˜¯çº¿ç¨‹ï¼›</li><li>  çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åä½œåŒæ­¥ã€‚ä¸åŒè¿›ç¨‹çš„çº¿ç¨‹é—´è¦åˆ©ç”¨æ¶ˆæ¯é€šä¿¡çš„åŠæ³•å®ç°åŒæ­¥ã€‚</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æµè§ˆå™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµè§ˆå™¨ </tag>
            
            <tag> é‡ç»˜ </tag>
            
            <tag> é‡æ’ </tag>
            
            <tag> ç¼“å­˜ </tag>
            
            <tag> è¿›ç¨‹ </tag>
            
            <tag> çº¿ç¨‹ </tag>
            
            <tag> åç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆå‰ç«¯é¢ç­‹ï¼ˆç½‘ç»œç¯‡ï¼‰</title>
      <link href="post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart1/"/>
      <url>post/%E6%B5%85%E8%B0%88%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%AD%8Bpart1/</url>
      
        <content type="html"><![CDATA[<h2 id="HTTP-å’Œ-HTTPS"><a href="#HTTP-å’Œ-HTTPS" class="headerlink" title="HTTP å’Œ HTTPS"></a>HTTP å’Œ HTTPS</h2><h4 id="HTTP-å’Œ-HTTPS-åŸºæœ¬æ¦‚å¿µ"><a href="#HTTP-å’Œ-HTTPS-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="HTTP å’Œ HTTPS åŸºæœ¬æ¦‚å¿µ"></a>HTTP å’Œ HTTPS åŸºæœ¬æ¦‚å¿µ</h4><ul><li>  HTTP æ˜¯è¶…æ–‡æœ¬åè®®ï¼Œç”¨äºä»æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°å®¢æˆ·ç«¯çš„è¶…æ–‡æœ¬åè®®ã€‚</li><li>  HTTPS æ˜¯å®‰å…¨çš„ HTTP é€šé“ï¼Œåœ¨ HTTP ä¸‹åŠ å…¥ SSL å±‚è¿›è¡ŒåŠ å¯†å¤„ç†æ•°æ®ã€‚å…¶ä½œç”¨æ˜¯ä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚</li></ul><h4 id="HTTP-å’Œ-HTTPS-çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹"><a href="#HTTP-å’Œ-HTTPS-çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹" class="headerlink" title="HTTP å’Œ HTTPS çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹"></a>HTTP å’Œ HTTPS çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹</h4><ul><li>  HTTP æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜æ–‡ä¼ è¾“æ•°æ®ï¼›HTTPS è¦æ¯” HTTP æ›´å®‰å…¨ï¼ŒHTTPS é€šè¿‡ SSL å±‚åŠ å¯†æ•°æ®ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¿è¯æ•°æ®å®‰å…¨ï¼Œå¯é ï¼Œå®Œæ•´ã€‚</li><li>  HTTP é»˜è®¤ç«¯å£ 80ï¼›HTTPS é»˜è®¤ç«¯å£ 443ã€‚</li><li>  HTTP è¿æ¥ç®€å•ï¼Œæ— çŠ¶æ€ï¼›HTTPS åœ¨æ¡æ‰‹é˜¶æ®µç›¸å¯¹è€—æ—¶ï¼Œä¼šå¢åŠ é¡µé¢åŠ è½½æ—¶é•¿ã€‚</li><li>  HTTPS çš„ç¼“å­˜ä¸å¦‚ HTTP é«˜æ•ˆã€‚</li><li>  HTTPS éœ€è¦ CA è¯ä¹¦ï¼Œè´¹ç”¨è¾ƒé«˜ã€‚</li><li>  SSL è¯ä¹¦éœ€è¦ç»‘å®š IPï¼Œä¸èƒ½åœ¨ç”¨ä¸€ä¸ª IP ä¸Šç»‘å®šå¤šä¸ªåŸŸåï¼ŒIPV4 èµ„æºæ”¯æŒä¸äº†è¿™ç§æ¶ˆè€—ã€‚</li></ul><h4 id="HTTPS-åè®®çš„å·¥ä½œåŸç†"><a href="#HTTPS-åè®®çš„å·¥ä½œåŸç†" class="headerlink" title="HTTPS åè®®çš„å·¥ä½œåŸç†"></a>HTTPS åè®®çš„å·¥ä½œåŸç†</h4><ol><li>å®¢æˆ·ç«¯ä½¿ç”¨ HTTPS url è®¿é—®æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯<strong>å»ºç«‹ ssl è¿æ¥</strong>ã€‚</li><li>æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä¼šå°†<strong>ç½‘ç«™è¯ä¹¦ï¼ˆè¯ä¹¦åŒ…å«å…¬é’¥ï¼‰</strong>å‘é€ç»™å®¢æˆ·ç«¯ã€‚</li><li>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å¼€å§‹åå•† ssl é“¾æ¥çš„<strong>å®‰å…¨ç­‰çº§</strong>ã€‚</li><li>å®¢æˆ·ç«¯å»ºç«‹<strong>ä¼šè¯å¯†é’¥</strong>ï¼Œç„¶åé€šè¿‡å…¬é’¥åŠ å¯†æ•°æ®åå‘é€æœåŠ¡ç«¯ã€‚</li><li>æœåŠ¡ç«¯é€šè¿‡<strong>ç§é’¥</strong>è§£å¯†æ•°æ®å®Œæˆé€šä¿¡ã€‚</li></ol><h2 id="TCP-ä¸‰æ¬¡æ¡æ‰‹"><a href="#TCP-ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCP ä¸‰æ¬¡æ¡æ‰‹"></a>TCP ä¸‰æ¬¡æ¡æ‰‹</h2><ol><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€<strong>syn åŒ…</strong>ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥<strong>SYN_SENT</strong>çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰ã€‚</li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ° syn åŒ…å¹¶ç¡®è®¤å®¢æˆ·çš„ SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶ä¹Ÿå‘é€ä¸€ä¸ªè‡ªå·±çš„ SYN åŒ…ï¼ˆsyn=kï¼‰ï¼Œå³<strong>SYN+ACK åŒ…</strong>ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥<strong>SYN_RECV</strong>çŠ¶æ€ã€‚</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ SYN+ACK åŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€<strong>ç¡®è®¤åŒ… ACK</strong>(ack=k+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥<strong>ESTABLISHED</strong>ï¼ˆTCP è¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</li></ol><h2 id="TCP-IP-å¦‚ä½•ä¿è¯æ•°æ®åŒ…ä¼ è¾“çš„æœ‰åºå¯é "><a href="#TCP-IP-å¦‚ä½•ä¿è¯æ•°æ®åŒ…ä¼ è¾“çš„æœ‰åºå¯é " class="headerlink" title="TCP/IP å¦‚ä½•ä¿è¯æ•°æ®åŒ…ä¼ è¾“çš„æœ‰åºå¯é "></a>TCP/IP å¦‚ä½•ä¿è¯æ•°æ®åŒ…ä¼ è¾“çš„æœ‰åºå¯é </h2><p>å¯¹å­—èŠ‚æµåˆ†æ®µå¹¶è¿›è¡Œç¼–å·ç„¶åé€šè¿‡ Â <strong>ACK å›å¤</strong>å’Œ<strong>è¶…æ—¶é‡å‘</strong>è¿™ä¸¤ä¸ªæœºåˆ¶æ¥ä¿è¯ã€‚</p><ol><li>ä¸ºäº†ä¿è¯æ•°æ®åŒ…çš„å¯é ä¼ é€’ï¼Œå‘é€æ–¹å¿…é¡»æŠŠå·²å‘é€çš„æ•°æ®åŒ…ä¿ç•™åœ¨ç¼“å†²åŒºã€‚</li><li>å¹¶ä¸ºæ¯ä¸ªå·²å‘é€çš„æ•°æ®åŒ…å¯åŠ¨ä¸€ä¸ªè¶…æ—¶å®šæ—¶å™¨ã€‚</li><li>å¦‚åœ¨å®šæ—¶å™¨è¶…æ—¶ä¹‹å‰æ”¶åˆ°äº†å¯¹æ–¹å‘æ¥çš„åº”ç­”ä¿¡æ¯ï¼ˆå¯èƒ½æ˜¯å¯¹æœ¬åŒ…çš„åº”ç­”ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹æœ¬åŒ…åç»­åŒ…çš„åº”ç­”ï¼‰ï¼Œåˆ™é‡Šæ”¾è¯¥æ•°æ®åŒ…å ç”¨çš„ç¼“å†²åŒºã€‚</li><li>å¦åˆ™ï¼Œé‡ä¼ è¯¥æ•°æ®åŒ…ï¼Œç›´åˆ°æ”¶åˆ°åº”ç­”æˆ–é‡ä¼ æ¬¡æ•°è¶…è¿‡è§„å®šçš„æœ€å¤§æ¬¡æ•°ä¸ºæ­¢ã€‚</li><li>æ¥æ”¶æ–¹æ”¶åˆ°æ•°æ®åŒ…åï¼Œå…ˆè¿›è¡Œ CRC æ ¡éªŒï¼Œå¦‚æœæ­£ç¡®åˆ™æŠŠæ•°æ®äº¤ç»™ä¸Šå±‚åè®®ï¼Œç„¶åç»™å‘é€æ–¹å‘é€ä¸€ä¸ªç´¯è®¡åº”ç­”åŒ…ï¼Œè¡¨æ˜è¯¥æ•°æ®å·²æ”¶åˆ°ï¼Œå¦‚æœæ¥æ”¶æ–¹æ­£å¥½ä¹Ÿæœ‰æ•°æ®è¦å‘ç»™å‘é€æ–¹ï¼Œåº”ç­”åŒ…ä¹Ÿå¯æ–¹åœ¨æ•°æ®åŒ…ä¸­æå¸¦è¿‡å»ã€‚</li></ol><h2 id="TCP-å’Œ-UDP-çš„åŒºåˆ«"><a href="#TCP-å’Œ-UDP-çš„åŒºåˆ«" class="headerlink" title="TCP å’Œ UDP çš„åŒºåˆ«"></a>TCP å’Œ UDP çš„åŒºåˆ«</h2><ol><li>TCP æ˜¯é¢å‘è¿æ¥çš„ï¼Œè€Œ UDP æ˜¯é¢å‘æ— è¿æ¥çš„ã€‚</li><li>TCP ä»…æ”¯æŒå•æ’­ä¼ è¾“ï¼ŒUDP æ”¯æŒå•æ’­ï¼Œå¤šæ’­ï¼Œå¹¿æ’­ã€‚</li><li>TCP ä¼ è¾“çš„å¯é æ€§ï¼ŒUDP é¢å‘æ— è¿æ¥ï¼Œä¸å¯é çš„ä¼ è¾“åè®®ã€‚</li><li>UDP ä¼ è¾“é€Ÿç‡æ¯” TCP å¿«ï¼Œå®æ—¶æ€§å¥½ã€‚</li></ol><h2 id="HTTP-è·¨åŸŸè¯·æ±‚é—®é¢˜"><a href="#HTTP-è·¨åŸŸè¯·æ±‚é—®é¢˜" class="headerlink" title="HTTP è·¨åŸŸè¯·æ±‚é—®é¢˜"></a>HTTP è·¨åŸŸè¯·æ±‚é—®é¢˜</h2><ul><li><p>è·¨åŸŸåŸç†<br>  è·¨åŸŸï¼Œæ˜¯æŒ‡æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ã€‚å®ƒæ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥é€ æˆçš„ã€‚<br>  åŒæºç­–ç•¥,æ˜¯æµè§ˆå™¨å¯¹ JavaScript å®æ–½çš„å®‰å…¨é™åˆ¶ï¼Œåªè¦åè®®ã€åŸŸåã€ç«¯å£æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸã€‚</p></li><li><p>è§£å†³æ–¹æ¡ˆ</p><ol><li>JSONP:å‰ç«¯æ„é€  script æ ‡ç­¾è¯·æ±‚æŒ‡å®š URL(ç”± script æ ‡ç­¾å‘å‡ºçš„ GET è¯·æ±‚ä¸å—åŒæºç­–ç•¥é™åˆ¶)ï¼ŒæœåŠ¡å™¨è¿” å›ä¸€ä¸ªå‡½æ•°æ‰§è¡Œè¯­å¥ï¼Œè¯¥å‡½æ•°åç§°é€šå¸¸ç”±æŸ¥è¯¢å‚ callback çš„å€¼å†³å®šï¼Œå‡½æ•°çš„å‚æ•°ä¸ºæœåŠ¡å™¨è¿”å›çš„ json æ•°æ®ã€‚è¯¥å‡½æ•°åœ¨å‰ç«¯æ‰§è¡Œåå³å¯è·å–æ•°æ®ã€‚</li><li>ä»£ç†æœåŠ¡å™¨ï¼šè¯·æ±‚åŒæºæœåŠ¡å™¨ï¼Œé€šè¿‡è¯¥æœåŠ¡å™¨è½¬å‘è¯·æ±‚è‡³ç›®æ ‡æœåŠ¡å™¨ï¼Œå¾—åˆ°ç»“æœå†è½¬å‘ç»™å‰ç«¯ã€‚å‰ç«¯å¼€å‘ä¸­æµ‹è¯•æœåŠ¡å™¨çš„ä»£ç†åŠŸèƒ½å°±æ˜¯é‡‡ç”¨çš„è¯¥è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯æœ€ç»ˆå‘å¸ƒä¸Šçº¿æ—¶å¦‚æœ web åº”ç”¨å’Œ æ¥å£æœåŠ¡å™¨ä¸åœ¨ä¸€èµ·ä»ä¼šè·¨åŸŸã€‚</li><li>CORSï¼ˆCross Origin Resource Shareï¼‰ è·¨åŸŸèµ„æºå…±äº«ï¼Œåç«¯æ–¹æ¡ˆ</li></ol><ul><li><p>å“åº”ç®€å•è¯·æ±‚ï¼š<br>  ç®€å•è¯·æ±‚ï¼šmethod ä¸º get/post/head,å¹¶ä¸”æ²¡æœ‰è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼Œä¸” Content-Type ä¸º application/x-www-form-urlencoded,multipart/form-data æˆ–è€… text/plain ä¹‹ä¸€,å¦åˆ™éƒ½æ˜¯å¤æ‚è¯·æ±‚ã€‚</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;http://localhost:3000&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p>å“åº”å¤æ‚è¯·æ±‚ï¼šé¢„æ£€ preflight è¯·æ±‚,éœ€è¦å“åº”æµè§ˆå™¨å‘å‡ºçš„ options è¯·æ±‚</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯,å®šä¹‰äº†è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼Œå±äºå¤æ‚è¯·æ±‚</span></span><br><span class="line">axios.post(<span class="string">&#x27;api/users&#x27;</span>, &#123; <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span> &#125;, &#123; <span class="attr">headers</span>: &#123; <span class="string">&#x27;x-token&#x27;</span>: <span class="string">&#x27;xxxxxx&#x27;</span> &#125; &#125;)</span><br></pre></td></tr></table></figure>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœåŠ¡ç«¯å“åº”,postè¯·æ±‚çš„å¤æ‚è¯·æ±‚è¿˜éœ€è¦åœ¨&quot;Access-Control-Allow-Headers&quot; å…è®¸ &quot;Content-Type&quot;</span></span><br><span class="line">res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">    <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Access-Control-Allow-Method&#x27;</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>: <span class="string">&#x27;custom-header,Content-Type&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœè¦æºå¸¦ cookie ä¿¡æ¯ï¼Œåˆ™è¯·æ±‚å˜ä¸º credential è¯·æ±‚ï¼š</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯ï¼Œä¸ºtrueæ—¶ï¼ŒæœåŠ¡ç«¯éœ€è¦ &#x27;Access-Control-Allow-Credentials&#x27;:&#x27;true&#x27;</span></span><br><span class="line">axios.defaults.withCredentials = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// credentialè¯·æ±‚ï¼Œé¢„æ£€optionsä¸­å’Œ/usersæ¥å£ä¸­å‡éœ€æ·»åŠ </span></span><br><span class="line">res.setHeader(<span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span>, <span class="string">&#x27;true&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®cookie</span></span><br><span class="line">res.setHeaders(<span class="string">&#x27;Set-Cookie&#x27;</span>, <span class="string">&#x27;cookie1=aaa&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å“åº”å¤æ‚è¯·æ±‚</span></span><br><span class="line">res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">    <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Access-Control-Allow-Method&#x27;</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>: <span class="string">&#x27;custom-header,Content-Type&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="Cookieã€sessionStorageã€localStorage-åŒºåˆ«"><a href="#Cookieã€sessionStorageã€localStorage-åŒºåˆ«" class="headerlink" title="Cookieã€sessionStorageã€localStorage åŒºåˆ«"></a>Cookieã€sessionStorageã€localStorage åŒºåˆ«</h2><ul><li>ç›¸åŒç‚¹ï¼š<br>  å­˜å‚¨åœ¨å®¢æˆ·ç«¯</li><li>ä¸åŒç‚¹ï¼š<ul><li>  cookie æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡ 4kï¼›sessionStorage å’Œ localStorage çš„å­˜å‚¨æ¯” cookie å¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ° 5M+</li><li>  cookie è®¾ç½®çš„è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼›localStorage æ°¸ä¹…å­˜å‚¨ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼›sessionStorage æ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤</li><li>  cookie çš„æ•°æ®ä¼šè‡ªåŠ¨çš„ä¼ é€’åˆ°æœåŠ¡å™¨ï¼›sessionStorage å’Œ localStorage æ•°æ®ä¿å­˜åœ¨æœ¬åœ°</li></ul></li></ul><h2 id="ç²˜åŒ…é—®é¢˜"><a href="#ç²˜åŒ…é—®é¢˜" class="headerlink" title="ç²˜åŒ…é—®é¢˜"></a>ç²˜åŒ…é—®é¢˜</h2><p>TCP ç²˜åŒ…æ˜¯æŒ‡å‘é€æ–¹å‘é€çš„è‹¥å¹²åŒ…æ•°æ®åˆ°æ¥æ”¶æ–¹æ¥æ”¶æ—¶ç²˜æˆä¸€åŒ…ï¼Œä»æ¥æ”¶ç¼“å†²åŒºçœ‹ï¼Œåä¸€åŒ…æ•°æ®çš„å¤´ç´§æ¥ç€å‰ä¸€åŒ…æ•°æ®çš„å°¾ã€‚</p><ul><li><p>ç²˜åŒ…å‡ºç°åŸå› <br>  ç®€å•å¾—è¯´ï¼Œåœ¨æµä¼ è¾“ä¸­å‡ºç°ï¼ŒUDP ä¸ä¼šå‡ºç°ç²˜åŒ…ï¼Œå› ä¸ºå®ƒæœ‰æ¶ˆæ¯è¾¹ç•Œç²˜åŒ…æƒ…å†µæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç²˜åœ¨ä¸€èµ·çš„åŒ…éƒ½æ˜¯å®Œæ•´çš„æ•°æ®åŒ…ï¼Œå¦ä¸€ç§æƒ…å†µæ˜¯ç²˜åœ¨ä¸€èµ·çš„åŒ…æœ‰ä¸å®Œæ•´çš„åŒ…ã€‚</p></li><li><p>ä¸ºäº†é¿å…ç²˜åŒ…ç°è±¡ï¼Œå¯é‡‡å–ä»¥ä¸‹å‡ ç§æªæ–½ï¼š</p><ol><li>å¯¹äºå‘é€æ–¹å¼•èµ·çš„ç²˜åŒ…ç°è±¡ï¼Œç”¨æˆ·å¯é€šè¿‡ç¼–ç¨‹è®¾ç½®æ¥é¿å…ï¼ŒTCP æä¾›äº†å¼ºåˆ¶æ•°æ®ç«‹å³ä¼ é€çš„æ“ä½œæŒ‡ä»¤ pushï¼ŒTCP è½¯ä»¶æ”¶åˆ°è¯¥æ“ä½œæŒ‡ä»¤åï¼Œå°±ç«‹å³å°†æœ¬æ®µæ•°æ®å‘é€å‡ºå»ï¼Œè€Œä¸å¿…ç­‰å¾…å‘é€ç¼“å†²åŒºæ»¡ï¼›</li><li>å¯¹äºæ¥æ”¶æ–¹å¼•èµ·çš„ç²˜åŒ…ï¼Œåˆ™å¯é€šè¿‡ä¼˜åŒ–ç¨‹åºè®¾è®¡ã€ç²¾ç®€æ¥æ”¶è¿›ç¨‹å·¥ä½œé‡ã€æé«˜æ¥æ”¶è¿›ç¨‹ä¼˜å…ˆçº§ç­‰æªæ–½ï¼Œä½¿å…¶åŠæ—¶æ¥æ”¶æ•°æ®ï¼Œä»è€Œå°½é‡é¿å…å‡ºç°ç²˜åŒ…ç°è±¡ï¼›</li><li>ç”±æ¥æ”¶æ–¹æ§åˆ¶ï¼Œå°†ä¸€åŒ…æ•°æ®æŒ‰ç»“æ„å­—æ®µï¼Œäººä¸ºæ§åˆ¶åˆ†å¤šæ¬¡æ¥æ”¶ï¼Œç„¶ååˆå¹¶ï¼Œé€šè¿‡è¿™ç§æ‰‹æ®µæ¥é¿å…ç²˜åŒ…ã€‚åˆ†åŒ…å¤šå‘ã€‚</li></ol></li><li><p>ä»¥ä¸Šæåˆ°çš„ä¸‰ç§æªæ–½ï¼Œéƒ½æœ‰å…¶ä¸è¶³ä¹‹å¤„ã€‚</p><ol><li>ç¬¬ä¸€ç§ç¼–ç¨‹è®¾ç½®æ–¹æ³•è™½ç„¶å¯ä»¥é¿å…å‘é€æ–¹å¼•èµ·çš„ç²˜åŒ…ï¼Œä½†å®ƒå…³é—­äº†ä¼˜åŒ–ç®—æ³•ï¼Œé™ä½äº†ç½‘ç»œå‘é€æ•ˆç‡ï¼Œå½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ã€‚</li><li>ç¬¬äºŒç§æ–¹æ³•åªèƒ½å‡å°‘å‡ºç°ç²˜åŒ…çš„å¯èƒ½æ€§ï¼Œä½†å¹¶ä¸èƒ½å®Œå…¨é¿å…ç²˜åŒ…ï¼Œå½“å‘é€é¢‘ç‡è¾ƒé«˜æ—¶ï¼Œæˆ–ç”±äºç½‘ç»œçªå‘å¯èƒ½ä½¿æŸä¸ªæ—¶é—´æ®µæ•°æ®åŒ…åˆ°è¾¾æ¥æ”¶æ–¹è¾ƒå¿«ï¼Œæ¥æ”¶æ–¹è¿˜æ˜¯æœ‰å¯èƒ½æ¥ä¸åŠæ¥æ”¶ï¼Œä»è€Œå¯¼è‡´ç²˜åŒ…ã€‚</li><li>ç¬¬ä¸‰ç§æ–¹æ³•è™½ç„¶é¿å…äº†ç²˜åŒ…ï¼Œä½†åº”ç”¨ç¨‹åºçš„æ•ˆç‡è¾ƒä½ï¼Œå¯¹å®æ—¶åº”ç”¨çš„åœºåˆä¸é€‚åˆã€‚</li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
            <tag> https </tag>
            
            <tag> ç½‘ç»œ </tag>
            
            <tag> TCP </tag>
            
            <tag> UDP </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
